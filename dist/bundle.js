!function s(i,n,a){function o(t,e){if(!n[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(h)return h(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=n[t]={exports:{}},i[t][0].call(r.exports,function(e){return o(i[t][1][e]||e)},r,r.exports,s,i,n,a)}return n[t].exports}for(var h="function"==typeof require&&require,e=0;e<a.length;e++)o(a[e]);return o}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=e("@pixi/core"),s=e("@pixi/display"),i=e("@pixi/events"),e=e("./accessibleTarget.js");s.DisplayObject.mixin(e.accessibleTarget);class n{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(p.utils.isMobile.tablet||p.utils.isMobile.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){var e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(let e=0;e<t.length;e++)this.updateAccessibleObjects(t[e])}}update(){var e=performance.now();if(!(p.utils.isMobile.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);var{x:e,y:r,width:s,height:i}=this.renderer.view.getBoundingClientRect(),{width:n,height:a,resolution:o}=this.renderer,h=s/n*o,l=i/a*o;let t=this.div;t.style.left=e+"px",t.style.top=r+"px",t.style.width=n+"px",t.style.height=a+"px";for(let e=0;e<this.children.length;e++){var u,d,c=this.children[e];c.renderId!==this.renderId?(c._accessibleActive=!1,p.utils.removeItems(this.children,e,1),this.div.removeChild(c._accessibleDiv),this.pool.push(c._accessibleDiv),c._accessibleDiv=null,e--):(t=c._accessibleDiv,u=c.hitArea,d=c.worldTransform,c.hitArea?(t.style.left=(d.tx+u.x*d.a)*h+"px",t.style.top=(d.ty+u.y*d.d)*l+"px",t.style.width=u.width*d.a*h+"px",t.style.height=u.height*d.d*l+"px"):(u=c.getBounds(),this.capHitArea(u),t.style.left=u.x*h+"px",t.style.top=u.y*l+"px",t.style.width=u.width*h+"px",t.style.height=u.height*l+"px",t.title!==c.accessibleTitle&&null!==c.accessibleTitle&&(t.title=c.accessibleTitle),t.getAttribute("aria-label")!==c.accessibleHint&&null!==c.accessibleHint&&t.setAttribute("aria-label",c.accessibleHint)),c.accessibleTitle===t.title&&c.tabIndex===t.tabIndex||(t.title=c.accessibleTitle,t.tabIndex=c.tabIndex,this.debug&&this.updateDebugHTML(t)))}this.renderId++}}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: `+e.tabIndex}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||((t=document.createElement("button")).style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,(e._accessibleDiv=t).displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){e=e.target.displayObject;const r=this.renderer.events.rootBoundary,s=Object.assign(new i.FederatedEvent(r),{target:e});r.rootTarget=this.renderer.lastObjectRendered,t.forEach(e=>r.dispatchEvent(s,e))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}n.extension={name:"accessibility",type:[p.ExtensionType.RendererPlugin,p.ExtensionType.CanvasRendererPlugin]},p.extensions.add(n),r.AccessibilityManager=n},{"./accessibleTarget.js":2,"@pixi/core":104,"@pixi/display":180,"@pixi/events":191}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1}},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./AccessibilityManager.js"),e=e("./accessibleTarget.js");r.AccessibilityManager=s.AccessibilityManager,r.accessibleTarget=e.accessibleTarget},{"./AccessibilityManager.js":1,"./accessibleTarget.js":2}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("@pixi/display");const n=class{constructor(t){this.stage=new i.Container,t=Object.assign({forceCanvas:!1},t),this.renderer=s.autoDetectRenderer(t),n._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(e,t){var r=n._plugins.slice(0);r.reverse(),r.forEach(e=>{e.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};e=n;e._plugins=[],s.extensions.handleByList(s.ExtensionType.Application,e._plugins),r.Application=e},{"@pixi/core":104,"@pixi/display":180}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("@pixi/core");class s{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),(this._resizeTo=e)&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(this._resizeTo){this.cancelResize();let e,t;var r,s;t=this._resizeTo===globalThis.window?(e=globalThis.innerWidth,globalThis.innerHeight):({clientWidth:r,clientHeight:s}=this._resizeTo,e=r,s),this.renderer.resize(e,t),this.render()}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}s.extension=e.ExtensionType.Application,e.extensions.add(s),r.ResizePlugin=s},{"@pixi/core":104}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./Application.js"),e=e("./ResizePlugin.js");r.Application=s.Application,r.ResizePlugin=e.ResizePlugin},{"./Application.js":4,"./ResizePlugin.js":5}],7:[function(e,t,r){"use strict";var s=e("@pixi/core");const i={loader:s.ExtensionType.LoadParser,resolver:s.ExtensionType.ResolveParser,cache:s.ExtensionType.CacheParser,detection:s.ExtensionType.DetectionParser};s.extensions.handle(s.ExtensionType.Asset,e=>{const r=e.ref;Object.entries(i).filter(([e])=>!!r[e]).forEach(([e,t])=>s.extensions.add(Object.assign(r[e],{extension:r[e].extension??t})))},e=>{const t=e.ref;Object.keys(i).filter(e=>!!t[e]).forEach(e=>s.extensions.remove(t[e]))})},{"@pixi/core":104}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./BackgroundLoader.js"),o=e("./cache/Cache.js"),n=e("./loader/Loader.js"),a=(e("./loader/parsers/index.js"),e("./resolver/Resolver.js")),h=e("./utils/convertToList.js"),l=e("./utils/isSingleItem.js"),u=e("./loader/parsers/textures/loadTextures.js");class d{constructor(){this._detections=[],this._initialized=!1,this.resolver=new a.Resolver,this.loader=new n.Loader,this.cache=o.Cache,this._backgroundLoader=new i.BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized)console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");else{if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let e=t.manifest;"string"==typeof e&&(e=await this.load(e)),this.resolver.addManifest(e)}var r=t.texturePreference?.resolution??1,r="number"==typeof r?[r]:r;let e=[];if(t.texturePreference?.format){var s=t.texturePreference?.format;e="string"==typeof s?[s]:s;for(const i of this._detections)await i.test()||(e=await i.remove(e))}else for(const n of this._detections)await n.test()&&(e=await n.add(e));this.resolver.prefer({params:{format:e,resolution:r}}),t.preferences&&this.setPreferences(t.preferences)}}add(e,t,r){this.resolver.add(e,t,r)}async load(e,t){this._initialized||await this.init();var r=l.isSingleItem(e),e=h.convertToList(e).map(e=>"string"!=typeof e?(this.resolver.add(e.src,e),e.src):(this.resolver.hasKey(e)||this.resolver.add(e,e),e)),s=this.resolver.resolve(e),s=await this._mapLoadToResolve(s,t);return r?s[e[0]]:s}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;"string"==typeof e&&(r=!0,e=[e]);const s=this.resolver.resolveBundle(e),i={};var n=Object.keys(s);let a=0,o=0;const h=()=>{t?.(++a/o)};n=n.map(t=>{var e=s[t];return o+=Object.keys(e).length,this._mapLoadToResolve(e,h).then(e=>{i[t]=e})});return await Promise.all(n),r?i[e[0]]:i}async backgroundLoad(e){this._initialized||await this.init();e=this.resolver.resolve(e="string"==typeof e?[e]:e);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(e){this._initialized||await this.init();e=this.resolver.resolveBundle(e="string"==typeof e?[e]:e);Object.values(e).forEach(e=>{this._backgroundLoader.add(Object.values(e))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if("string"==typeof t)return o.Cache.get(t);var r={};for(let e=0;e<t.length;e++)r[e]=o.Cache.get(t[e]);return r}async _mapLoadToResolve(e,t){var r=Object.values(e);const i=Object.keys(e),n=(this._backgroundLoader.active=!1,await this.loader.load(r,t)),a=(this._backgroundLoader.active=!0,{});return r.forEach((e,t)=>{var r=n[e.src],s=[e.src];e.alias&&s.push(...e.alias),a[i[t]]=r,o.Cache.set(s,r)}),a}async unload(e){this._initialized||await this.init();e=h.convertToList(e).map(e=>"string"!=typeof e?e.src:e),e=this.resolver.resolve(e);await this._unloadFromResolved(e)}async unloadBundle(e){this._initialized||await this.init(),e=h.convertToList(e);const t=this.resolver.resolveBundle(e);e=Object.keys(t).map(e=>this._unloadFromResolved(t[e]));await Promise.all(e)}async _unloadFromResolved(e){e=Object.values(e);e.forEach(e=>{o.Cache.remove(e.src)}),await this.loader.unload(e)}get detections(){return this._detections}get preferWorkers(){return u.loadTextures.config.preferWorkers}set preferWorkers(e){s.utils.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(r){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(e=>e in r).forEach(e=>{t.config[e]=r[e]})})}}e=new d;s.extensions.handleByList(s.ExtensionType.LoadParser,e.loader.parsers).handleByList(s.ExtensionType.ResolveParser,e.resolver.parsers).handleByList(s.ExtensionType.CacheParser,e.cache.parsers).handleByList(s.ExtensionType.DetectionParser,e.detections),r.Assets=e,r.AssetsClass=d},{"./BackgroundLoader.js":9,"./cache/Cache.js":10,"./loader/Loader.js":21,"./loader/parsers/index.js":25,"./loader/parsers/textures/loadTextures.js":31,"./resolver/Resolver.js":35,"./utils/convertToList.js":42,"./utils/isSingleItem.js":46,"@pixi/core":104}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BackgroundLoader=class{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;var t=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let e=0;e<r;e++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e)&&!this._isLoading&&this._next()}}},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("@pixi/core"),h=(e("../utils/index.js"),e("../utils/convertToList.js"));e=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){var t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){var r=h.convertToList(e);let s;for(let e=0;e<this.parsers.length;e++){var i=this.parsers[e];if(i.test(t)){s=i.getCacheableAssets(r,t);break}}s||(s={},r.forEach(e=>{s[e]=t}));e=Object.keys(s);const n={cacheKeys:e,keys:r};if(r.forEach(e=>{this._cacheMap.set(e,n)}),e.forEach(e=>{this._cache.has(e)&&this._cache.get(e)!==t&&console.warn("[Cache] already has key:",e),this._cache.set(e,s[e])}),t instanceof o.Texture){const a=t;r.forEach(e=>{a.baseTexture!==o.Texture.EMPTY.baseTexture&&o.BaseTexture.addToCache(a.baseTexture,e),o.Texture.addToCache(a,e)})}}remove(e){var t;this._cacheMap.get(e),this._cacheMap.has(e)?((t=this._cacheMap.get(e)).cacheKeys.forEach(e=>{this._cache.delete(e)}),t.keys.forEach(e=>{this._cacheMap.delete(e)})):console.warn(`[Assets] Asset id ${e} was not found in the Cache`)}get parsers(){return this._parsers}};r.Cache=e},{"../utils/convertToList.js":42,"../utils/index.js":45,"@pixi/core":104}],11:[function(e,t,r){},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./Cache.js");e("./CacheParser.js"),e("./parsers/index.js"),r.Cache=s.Cache},{"./Cache.js":10,"./CacheParser.js":11,"./parsers/index.js":14}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),e={extension:s.ExtensionType.CacheParser,test:e=>Array.isArray(e)&&e.every(e=>e instanceof s.Texture),getCacheableAssets:(e,t)=>{const s={};return e.forEach(r=>{t.forEach((e,t)=>{s[r+(0===t?"":t+1)]=e})}),s}};s.extensions.add(e),r.cacheTextureArray=e},{"@pixi/core":104}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./cacheTextureArray.js");r.cacheTextureArray=e.cacheTextureArray},{"./cacheTextureArray.js":13}],15:[function(e,t,r){"use strict";e("./parsers/index.js")},{"./parsers/index.js":19}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),e={extension:{type:s.ExtensionType.DetectionParser,priority:1},test:async()=>{var e;return!!globalThis.createImageBitmap&&(e=await s.settings.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then(e=>e.blob()),createImageBitmap(e).then(()=>!0,()=>!1))},add:async e=>[...e,"avif"],remove:async e=>e.filter(e=>"avif"!==e)};s.extensions.add(e),r.detectAvif=e},{"@pixi/core":104}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("@pixi/core");const s=["png","jpg","jpeg"];var i={extension:{type:e.ExtensionType.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...s],remove:async e=>e.filter(e=>!s.includes(e))};e.extensions.add(i),r.detectDefaults=i},{"@pixi/core":104}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),e={extension:{type:s.ExtensionType.DetectionParser,priority:0},test:async()=>{var e;return!!globalThis.createImageBitmap&&(e=await s.settings.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then(e=>e.blob()),createImageBitmap(e).then(()=>!0,()=>!1))},add:async e=>[...e,"webp"],remove:async e=>e.filter(e=>"webp"!==e)};s.extensions.add(e),r.detectWebp=e},{"@pixi/core":104}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./detectAvif.js"),i=e("./detectWebp.js"),e=e("./detectDefaults.js");r.detectAvif=s.detectAvif,r.detectWebp=i.detectWebp,r.detectDefaults=e.detectDefaults},{"./detectAvif.js":16,"./detectDefaults.js":17,"./detectWebp.js":18}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("./AssetExtension.js");var s=e("./Assets.js"),i=(e("./cache/index.js"),e("./detections/index.js"),e("./loader/index.js"),e("./resolver/index.js"),e("./utils/index.js"),e("./cache/Cache.js")),n=e("./cache/parsers/cacheTextureArray.js"),a=e("./detections/parsers/detectAvif.js"),o=e("./detections/parsers/detectWebp.js"),h=e("./detections/parsers/detectDefaults.js"),l=e("./loader/parsers/LoaderParser.js"),u=e("./loader/parsers/loadJson.js"),d=e("./loader/parsers/loadTxt.js"),c=e("./loader/parsers/loadWebFont.js"),p=e("./loader/parsers/textures/loadSVG.js"),f=e("./loader/parsers/textures/loadTextures.js"),m=e("./loader/parsers/textures/utils/createTexture.js"),g=e("./resolver/parsers/resolveTextureUrl.js"),_=e("./utils/checkDataUrl.js"),x=e("./utils/checkExtension.js"),v=e("./utils/convertToList.js"),y=e("./utils/copySearchParams.js"),T=e("./utils/createStringVariations.js"),e=e("./utils/isSingleItem.js");r.Assets=s.Assets,r.AssetsClass=s.AssetsClass,r.Cache=i.Cache,r.cacheTextureArray=n.cacheTextureArray,r.detectAvif=a.detectAvif,r.detectWebp=o.detectWebp,r.detectDefaults=h.detectDefaults,r.LoaderParserPriority=l.LoaderParserPriority,r.loadJson=u.loadJson,r.loadTxt=d.loadTxt,r.getFontFamilyName=c.getFontFamilyName,r.loadWebFont=c.loadWebFont,r.loadSVG=p.loadSVG,r.loadImageBitmap=f.loadImageBitmap,r.loadTextures=f.loadTextures,r.createTexture=m.createTexture,r.resolveTextureUrl=g.resolveTextureUrl,r.checkDataUrl=_.checkDataUrl,r.checkExtension=x.checkExtension,r.convertToList=v.convertToList,r.copySearchParams=y.copySearchParams,r.createStringVariations=T.createStringVariations,r.isSingleItem=e.isSingleItem},{"./AssetExtension.js":7,"./Assets.js":8,"./cache/Cache.js":10,"./cache/index.js":12,"./cache/parsers/cacheTextureArray.js":13,"./detections/index.js":15,"./detections/parsers/detectAvif.js":16,"./detections/parsers/detectDefaults.js":17,"./detections/parsers/detectWebp.js":18,"./loader/index.js":22,"./loader/parsers/LoaderParser.js":23,"./loader/parsers/loadJson.js":26,"./loader/parsers/loadTxt.js":27,"./loader/parsers/loadWebFont.js":28,"./loader/parsers/textures/loadSVG.js":30,"./loader/parsers/textures/loadTextures.js":31,"./loader/parsers/textures/utils/createTexture.js":32,"./resolver/index.js":36,"./resolver/parsers/resolveTextureUrl.js":38,"./utils/checkDataUrl.js":40,"./utils/checkExtension.js":41,"./utils/convertToList.js":42,"./utils/copySearchParams.js":43,"./utils/createStringVariations.js":44,"./utils/index.js":45,"./utils/isSingleItem.js":46}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("@pixi/core"),h=(e("../utils/index.js"),e("../utils/isSingleItem.js")),l=e("../utils/convertToList.js");r.Loader=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(n,a){const o={promise:null,parser:null};return o.promise=(async()=>{let t=null,r=null;if(!a.loadParser||(r=this._parserHash[a.loadParser])||console.warn(`[Assets] specified load parser "${a.loadParser}" not found while loading `+n),!r){for(let e=0;e<this.parsers.length;e++){var s=this.parsers[e];if(s.load&&s.test?.(n,a,this)){r=s;break}}if(!r)return console.warn(`[Assets] ${n} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}t=await r.load(n,a,this),o.parser=r;for(let e=0;e<this.parsers.length;e++){var i=this.parsers[e];i.parse&&i.parse&&await i.testParse?.(t,a,this)&&(t=await i.parse(t,a,this)||t,o.parser=i)}return t})(),o}async load(e,s){this._parsersValidated||this._validateParsers();let i=0;const n={};var t=h.isSingleItem(e),e=l.convertToList(e,e=>({src:e}));const a=e.length;var r=e.map(async t=>{var r=o.utils.path.toAbsolute(t.src);if(!n[t.src])try{this.promiseCache[r]||(this.promiseCache[r]=this._getLoadPromiseAndParser(r,t)),n[t.src]=await this.promiseCache[r].promise,s&&s(++i/a)}catch(e){throw delete this.promiseCache[r],delete n[t.src],new Error(`[Loader.load] Failed to load ${r}.
`+e)}});return await Promise.all(r),t?n[e[0].src]:n}async unload(e){e=l.convertToList(e,e=>({src:e})).map(async e=>{var t,r=o.utils.path.toAbsolute(e.src),s=this.promiseCache[r];s&&(t=await s.promise,s.parser?.unload?.(t,e,this),delete this.promiseCache[r])});await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}},{"../utils/convertToList.js":42,"../utils/index.js":45,"../utils/isSingleItem.js":46,"@pixi/core":104}],22:[function(e,t,r){"use strict";e("./parsers/index.js"),e("./types.js")},{"./parsers/index.js":25,"./types.js":34}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LoaderParserPriority=(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))({})},{}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let s=0,i;const n={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},a={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let o;var h=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0===this._isImageBitmapSupported&&(this._isImageBitmapSupported=new Promise(t=>{const r=URL.createObjectURL(new Blob([n.code],{type:"application/javascript"})),s=new Worker(r);s.addEventListener("message",e=>{s.terminate(),URL.revokeObjectURL(r),t(e.data)})})),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===i&&(i=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<i&&(o=o||URL.createObjectURL(new Blob([a.code],{type:"application/javascript"})),this._createdWorkers++,(e=new Worker(o)).addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(r,s){await this._initWorkers();var e=new Promise((e,t)=>{this.queue.push({id:r,arguments:s,resolve:e,reject:t})});return this.next(),e}next(){var e,t,r;this.queue.length&&(e=this.getWorker())&&(r=(t=this.queue.pop()).id,this.resolveHash[s]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:s++,id:r}))}};r.WorkerManager=h},{}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./LoaderParser.js"),i=e("./loadJson.js"),n=e("./loadTxt.js"),a=e("./loadWebFont.js");e("./textures/index.js"),r.LoaderParserPriority=s.LoaderParserPriority,r.loadJson=i.loadJson,r.loadTxt=n.loadTxt,r.getFontFamilyName=a.getFontFamilyName,r.loadWebFont=a.loadWebFont},{"./LoaderParser.js":23,"./loadJson.js":26,"./loadTxt.js":27,"./loadWebFont.js":28,"./textures/index.js":29}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("../../utils/checkDataUrl.js"),n=e("../../utils/checkExtension.js"),e=e("./LoaderParser.js");e={extension:{type:s.ExtensionType.LoadParser,priority:e.LoaderParserPriority.Low},name:"loadJson",test(e){return i.checkDataUrl(e,"application/json")||n.checkExtension(e,".json")},async load(e){return await(await s.settings.ADAPTER.fetch(e)).json()}};s.extensions.add(e),r.loadJson=e},{"../../utils/checkDataUrl.js":40,"../../utils/checkExtension.js":41,"./LoaderParser.js":23,"@pixi/core":104}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("../../utils/checkDataUrl.js"),n=e("../../utils/checkExtension.js"),e=e("./LoaderParser.js");e={name:"loadTxt",extension:{type:s.ExtensionType.LoadParser,priority:e.LoaderParserPriority.Low},test(e){return i.checkDataUrl(e,"text/plain")||n.checkExtension(e,".txt")},async load(e){return await(await s.settings.ADAPTER.fetch(e)).text()}};s.extensions.add(e),r.loadTxt=e},{"../../utils/checkDataUrl.js":40,"../../utils/checkExtension.js":41,"./LoaderParser.js":23,"@pixi/core":104}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=e("@pixi/core"),s=e("../../utils/checkDataUrl.js"),i=e("../../utils/checkExtension.js"),e=e("./LoaderParser.js");const l=["normal","bold","100","200","300","400","500","600","700","800","900"],n=[".ttf",".otf",".woff",".woff2"],a=["font/ttf","font/otf","font/woff","font/woff2"],o=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function u(e){var t=h.utils.path.extname(e),e=h.utils.path.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1));let r=0<e.length;for(const i of e)if(!i.match(o)){r=!1;break}let s=e.join(" ");return s=r?s:`"${s.replace(/[\\"]/g,"\\$&")}"`}e={extension:{type:h.ExtensionType.LoadParser,priority:e.LoaderParserPriority.Low},name:"loadWebFont",test(e){return s.checkDataUrl(e,a)||i.checkExtension(e,n)},async load(t,e){var r=h.settings.ADAPTER.getFontFaceSet();if(r){var s=[],i=e.data?.family??u(t),n=e.data?.weights?.filter(e=>l.includes(e))??["normal"],a=e.data??{};for(let e=0;e<n.length;e++){var o=n[e],o=new FontFace(i,`url(${encodeURI(t)})`,{...a,weight:o});await o.load(),r.add(o),s.push(o)}return 1===s.length?s[0]:s}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(e=>h.settings.ADAPTER.getFontFaceSet().delete(e))}};h.extensions.add(e),r.getFontFamilyName=u,r.loadWebFont=e},{"../../utils/checkDataUrl.js":40,"../../utils/checkExtension.js":41,"./LoaderParser.js":23,"@pixi/core":104}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./loadSVG.js"),i=e("./loadTextures.js");e("./utils/index.js"),r.loadSVG=s.loadSVG,r.loadImageBitmap=i.loadImageBitmap,r.loadTextures=i.loadTextures},{"./loadSVG.js":30,"./loadTextures.js":31,"./utils/index.js":33}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/core"),s=e("../../../utils/checkDataUrl.js"),n=e("../../../utils/checkExtension.js"),a=e("../LoaderParser.js"),o=e("./loadTextures.js"),h=e("./utils/createTexture.js");e={extension:{type:i.ExtensionType.LoadParser,priority:a.LoaderParserPriority.High},name:"loadSVG",test(e){return s.checkDataUrl(e,"image/svg+xml")||n.checkExtension(e,".svg")},async testParse(e){return i.SVGResource.test(e)},async parse(e,t,r){var s=new i.SVGResource(e,t?.data?.resourceOptions),s=(await s.load(),new i.BaseTexture(s,{resolution:i.utils.getResolutionOfUrl(e),...t?.data})),t=(s.resource.src=e,h.createTexture(s,r,e));return t},async load(e,t){return(await i.settings.ADAPTER.fetch(e)).text()},unload:o.loadTextures.unload};i.extensions.add(e),r.loadSVG=e},{"../../../utils/checkDataUrl.js":40,"../../../utils/checkExtension.js":41,"../LoaderParser.js":23,"./loadTextures.js":31,"./utils/createTexture.js":32,"@pixi/core":104}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/core"),s=e("../../../utils/checkDataUrl.js"),n=e("../../../utils/checkExtension.js"),a=e("../LoaderParser.js"),o=e("../WorkerManager.js"),h=e("./utils/createTexture.js");const l=[".jpeg",".jpg",".png",".webp",".avif"],u=["image/jpeg","image/png","image/webp","image/avif"];async function d(e){var t,r=await i.settings.ADAPTER.fetch(e);if(r.ok)return t=await r.blob(),await createImageBitmap(t);throw new Error(`[loadImageBitmap] Failed to fetch ${e}: ${r.status} `+r.statusText)}e={name:"loadTextures",extension:{type:i.ExtensionType.LoadParser,priority:a.LoaderParserPriority.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(e){return s.checkDataUrl(e,u)||n.checkExtension(e,l)},async load(t,e,r){let s=null;s=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await o.WorkerManager.isImageBitmapSupported()?await o.WorkerManager.loadImageBitmap(t):await d(t):await new Promise(e=>{(s=new Image).crossOrigin=this.config.crossOrigin,s.src=t,s.complete?e(s):s.onload=()=>{e(s)}});e=new i.BaseTexture(s,{resolution:i.utils.getResolutionOfUrl(t),...e.data});return e.resource.src=t,h.createTexture(e,r,t)},unload(e){e.destroy(!0)}};i.extensions.add(e),r.loadImageBitmap=d,r.loadTextures=e},{"../../../utils/checkDataUrl.js":40,"../../../utils/checkExtension.js":41,"../LoaderParser.js":23,"../WorkerManager.js":24,"./utils/createTexture.js":32,"@pixi/core":104}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");r.createTexture=function(e,t,r){return(e=new s.Texture(e)).baseTexture.on("dispose",()=>{delete t.promiseCache[r]}),e}},{"@pixi/core":104}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./createTexture.js");r.createTexture=e.createTexture},{"./createTexture.js":32}],34:[function(e,t,r){},{}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("@pixi/core"),s=e("../utils/convertToList.js"),i=e("../utils/createStringVariations.js"),n=e("../utils/isSingleItem.js");r.Resolver=class{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>""+e+this._bundleIdConnector+t,extractAssetIdFromBundle:(e,t)=>t.replace(""+e+this._bundleIdConnector,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if("string"==typeof e)this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e])).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),(this._manifest=e).bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(r,t){const s=[];Array.isArray(t)?t.forEach(e=>{var t;"string"==typeof e.name?(t=this._createBundleAssetId(r,e.name),s.push(t),this.add([e.name,t],e.srcs,e.data)):((t=e.name.map(e=>this._createBundleAssetId(r,e))).forEach(e=>{s.push(e)}),this.add([...e.name,...t],e.srcs))}):Object.keys(t).forEach(e=>{s.push(this._createBundleAssetId(r,e)),this.add([e,this._createBundleAssetId(r,e)],t[e])}),this._bundles[r]=s}add(e,t,n){const a=s.convertToList(e),r=(a.forEach(e=>{this.hasKey(e)&&console.warn(`[Resolver] already has key: ${e} overwriting`)}),(t=Array.isArray(t)?t:"string"==typeof t?i.createStringVariations(t):[t]).map(r=>{let s=r;if("string"==typeof r){let t=!1;for(let e=0;e<this._parsers.length;e++){var i=this._parsers[e];if(i.test(r)){s=i.parse(r),t=!0;break}}t||(s={src:r})}return s.format||(s.format=s.src.split(".").pop()),s.alias||(s.alias=a),(this._basePath||this._rootPath)&&(s.src=o.utils.path.toAbsolute(s.src,this._basePath,this._rootPath)),s.src=this._appendDefaultSearchParams(s.src),s.data=s.data??n,s}));a.forEach(e=>{this._assetMap[e]=r})}resolveBundle(e){var t=n.isSingleItem(e);e=s.convertToList(e);const a={};return e.forEach(e=>{var t=this._bundles[e];if(t){var r=this.resolve(t),s={};for(const n in r){var i=r[n];s[this._extractAssetIdFromBundle(e,n)]=i}a[e]=s}}),t?a[e[0]]:a}resolveUrl(e){var t=this.resolve(e);if("string"==typeof e)return t.src;var r={};for(const s in t)r[s]=t[s].src;return r}resolve(e){var t=n.isSingleItem(e);e=s.convertToList(e);const r={};return e.forEach(t=>{if(!this._resolverHash[t])if(this._assetMap[t]){let s=this._assetMap[t];const i=this._getPreferredOrder(s);var e=s[0];i?.priority.forEach(r=>{i.params[r].forEach(t=>{var e=s.filter(e=>!!e[r]&&e[r]===t);e.length&&(s=e)})}),this._resolverHash[t]=s[0]??e}else{let e=t;(this._basePath||this._rootPath)&&(e=o.utils.path.toAbsolute(e,this._basePath,this._rootPath)),e=this._appendDefaultSearchParams(e),this._resolverHash[t]={src:e}}r[t]=this._resolverHash[t]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const s=t[0];var r=this._preferredOrder.find(e=>e.params.format.includes(s.format));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(e){return this._defaultSearchParams?e+(/\?/.test(e)?"&":"?")+this._defaultSearchParams:e}}},{"../utils/convertToList.js":42,"../utils/createStringVariations.js":44,"../utils/isSingleItem.js":46,"@pixi/core":104}],36:[function(e,t,r){arguments[4][22][0].apply(r,arguments)},{"./parsers/index.js":37,"./types.js":39,dup:22}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./resolveTextureUrl.js");r.resolveTextureUrl=e.resolveTextureUrl},{"./resolveTextureUrl.js":38}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),e=(e("../../loader/index.js"),e("../../loader/parsers/textures/loadTextures.js")),e={extension:s.ExtensionType.ResolveParser,test:e.loadTextures.test,parse:e=>({resolution:parseFloat(s.settings.RETINA_PREFIX.exec(e)?.[1]??"1"),format:e.split(".").pop(),src:e})};s.extensions.add(e),r.resolveTextureUrl=e},{"../../loader/index.js":22,"../../loader/parsers/textures/loadTextures.js":31,"@pixi/core":104}],39:[function(e,t,r){arguments[4][34][0].apply(r,arguments)},{dup:34}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.checkDataUrl=function(e,t){if(Array.isArray(t)){for(const r of t)if(e.startsWith("data:"+r))return!0;return!1}return e.startsWith("data:"+t)}},{}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");r.checkExtension=function(e,t){return e=e.split("?")[0],e=s.utils.path.extname(e).toLowerCase(),Array.isArray(t)?t.includes(e):e===t}},{"@pixi/core":104}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.convertToList=(e,t)=>(Array.isArray(e)||(e=[e]),t?e.map(e=>"string"==typeof e?t(e):e):e)},{}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.copySearchParams=(e,t)=>{t=t.split("?")[1];return t&&(e+="?"+t),e}},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createStringVariations=function(e){var t=e.match(/\{(.*?)\}/g),r=[];if(t){const s=[];t.forEach(e=>{e=e.substring(1,e.length-1).split(",");s.push(e)}),!function t(r,s,i,n,a){var o=s[i];for(let e=0;e<o.length;e++){var h=o[e];i<s.length-1?t(r.replace(n[i],h),s,i+1,n,a):a.push(r.replace(n[i],h))}}(e,s,0,t,r)}else r.push(e);return r}},{}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./checkDataUrl.js"),i=e("./checkExtension.js"),n=e("./convertToList.js"),a=e("./copySearchParams.js"),o=e("./createStringVariations.js"),e=e("./isSingleItem.js");r.checkDataUrl=s.checkDataUrl,r.checkExtension=i.checkExtension,r.convertToList=n.convertToList,r.copySearchParams=a.copySearchParams,r.createStringVariations=o.createStringVariations,r.isSingleItem=e.isSingleItem},{"./checkDataUrl.js":40,"./checkExtension.js":41,"./convertToList.js":42,"./copySearchParams.js":43,"./createStringVariations.js":44,"./isSingleItem.js":46}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.isSingleItem=e=>!Array.isArray(e)},{}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("colord"),e=e("colord/plugins/names");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}a.extend([s(e).default]);const o=class{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof o)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(null===e)throw new Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,e)||(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?{...e}:e}isSourceEqual(t,r){var e,s=typeof t;return s==typeof r&&("number"==s||"string"==s||t instanceof Number?t===r:Array.isArray(t)&&Array.isArray(r)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(r)?t.length===r.length&&t.every((e,t)=>e===r[t]):null!==t&&null!==r?(s=Object.keys(t),e=Object.keys(r),s.length===e.length&&s.every(e=>t[e]===r[e])):t===r)}toRgba(){var[e,t,r,s]=this._components;return{r:e,g:t,b:r,a:s}}toRgb(){var[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){var[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){var[t,r,s]=this._components;return(e=e??[])[0]=Math.round(255*t),e[1]=Math.round(255*r),e[2]=Math.round(255*s),e}toRgbArray(e){var[t,r,s]=this._components;return(e=e??[])[0]=t,e[1]=r,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){var e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(e){var[e,t,r,s]=o.temp.setValue(e)._components;return this._components[0]*=e,this._components[1]*=t,this._components[2]*=r,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;let r=this._int>>16&255,s=this._int>>8&255,i=255&this._int;return t&&(r=r*e+.5|0,s=s*e+.5|0,i=i*e+.5|0),(255*e<<24)+(r<<16)+(s<<8)+i}toHex(){var e=this._int.toString(16);return"#"+("000000".substring(0,6-e.length)+e)}toHexa(){var e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){var[t,r,s]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){var[t,r,s,i]=this._components;return(e=e??[])[0]=t,e[1]=r,e[2]=s,e[3]=i,e}normalize(e){let t,r,s,i;var n;if(("number"==typeof e||e instanceof Number)&&0<=e&&e<=16777215?(t=(e>>16&255)/255,r=(e>>8&255)/255,s=(255&e)/255,i=1):(Array.isArray(e)||e instanceof Float32Array)&&3<=e.length&&e.length<=4?(e=this._clamp(e),[t,r,s,i=1]=e):(e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&3<=e.length&&e.length<=4?(e=this._clamp(e,0,255),[t,r,s,i=255]=e,t/=255,r/=255,s/=255,i/=255):"string"!=typeof e&&"object"!=typeof e||("string"==typeof e&&(n=o.HEX_PATTERN.exec(e))&&(e="#"+n[2]),(n=a.colord(e)).isValid()&&({r:t,g:r,b:s,a:i}=n.rgba,t/=255,r/=255,s/=255)),void 0===t)throw new Error("Unable to convert color "+e);this._components[0]=t,this._components[1]=r,this._components[2]=s,this._components[3]=i,this.refreshInt()}refreshInt(){this._clamp(this._components);var[e,t,r]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*r|0)}_clamp(r,s=0,i=1){return"number"==typeof r?Math.min(Math.max(r,s),i):(r.forEach((e,t)=>{r[t]=Math.min(Math.max(e,s),i)}),r)}};e=o;e.shared=new o,e.temp=new o,e.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i,r.Color=e},{colord:359,"colord/plugins/names":360}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./Color.js");r.Color=e.Color},{"./Color.js":47}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={[33776]:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:1,34798:1,37808:1};r.INTERNAL_FORMATS=(e=>(e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e))({}),r.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=s},{}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./const.js"),i=(e("./loaders/index.js"),e("./parsers/index.js"),e("./resources/index.js"),e("./loaders/detectCompressedTextures.js")),n=e("./loaders/loadDDS.js"),a=e("./loaders/loadKTX.js"),o=e("./loaders/resolveCompressedTextureUrl.js"),h=e("./parsers/parseDDS.js"),l=e("./parsers/parseKTX.js"),u=e("./resources/BlobResource.js"),e=e("./resources/CompressedTextureResource.js");r.INTERNAL_FORMATS=s.INTERNAL_FORMATS,r.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=s.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,r.detectCompressedTextures=i.detectCompressedTextures,r.loadDDS=n.loadDDS,r.loadKTX=a.loadKTX,r.resolveCompressedTextureUrl=o.resolveCompressedTextureUrl,r.parseDDS=h.parseDDS,r.FORMATS_TO_COMPONENTS=l.FORMATS_TO_COMPONENTS,r.TYPES_TO_BYTES_PER_COMPONENT=l.TYPES_TO_BYTES_PER_COMPONENT,r.TYPES_TO_BYTES_PER_PIXEL=l.TYPES_TO_BYTES_PER_PIXEL,r.parseKTX=l.parseKTX,r.BlobResource=u.BlobResource,r.CompressedTextureResource=e.CompressedTextureResource},{"./const.js":49,"./loaders/detectCompressedTextures.js":52,"./loaders/index.js":53,"./loaders/loadDDS.js":54,"./loaders/loadKTX.js":55,"./loaders/resolveCompressedTextureUrl.js":56,"./parsers/index.js":57,"./parsers/parseDDS.js":58,"./parsers/parseKTX.js":59,"./resources/BlobResource.js":60,"./resources/CompressedTextureResource.js":61,"./resources/index.js":62}],51:[function(e,t,r){},{}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");let i,n;function a(){n={s3tc:i.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:i.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:i.getExtension("WEBGL_compressed_texture_etc"),etc1:i.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:i.getExtension("WEBGL_compressed_texture_atc"),astc:i.getExtension("WEBGL_compressed_texture_astc")}}e={extension:{type:s.ExtensionType.DetectionParser,priority:2},test:async()=>{var e=s.settings.ADAPTER.createCanvas().getContext("webgl");return e?(i=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async e=>{n||a();var t=[];for(const r in n)n[r]&&t.push(r);return[...t,...e]},remove:async e=>(n||a(),e.filter(e=>!(e in n)))};s.extensions.add(e),r.detectCompressedTextures=e},{"@pixi/core":104}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("./compressedTextureExtensions.js");var s=e("./detectCompressedTextures.js"),i=e("./loadDDS.js"),n=e("./loadKTX.js"),e=e("./resolveCompressedTextureUrl.js");r.detectCompressedTextures=s.detectCompressedTextures,r.loadDDS=i.loadDDS,r.loadKTX=n.loadKTX,r.resolveCompressedTextureUrl=e.resolveCompressedTextureUrl},{"./compressedTextureExtensions.js":51,"./detectCompressedTextures.js":52,"./loadDDS.js":54,"./loadKTX.js":55,"./resolveCompressedTextureUrl.js":56}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/assets"),n=e("@pixi/core"),a=(e("../parsers/index.js"),e("../parsers/parseDDS.js")),e={extension:{type:n.ExtensionType.LoadParser,priority:i.LoaderParserPriority.High},name:"loadDDS",test(e){return i.checkExtension(e,".dds")},async load(t,r,s){var e=await(await n.settings.ADAPTER.fetch(t)).arrayBuffer(),e=a.parseDDS(e).map(e=>{e=new n.BaseTexture(e,{mipmap:n.MIPMAP_MODES.OFF,alphaMode:n.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:n.utils.getResolutionOfUrl(t),...r.data});return i.createTexture(e,s,t)});return 1===e.length?e[0]:e},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};n.extensions.add(e),r.loadDDS=e},{"../parsers/index.js":57,"../parsers/parseDDS.js":58,"@pixi/assets":20,"@pixi/core":104}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=e("@pixi/assets"),u=e("@pixi/core"),d=(e("../parsers/index.js"),e("../parsers/parseKTX.js")),e={extension:{type:u.ExtensionType.LoadParser,priority:l.LoaderParserPriority.High},name:"loadKTX",test(e){return l.checkExtension(e,".ktx")},async load(t,e,r){var s=await(await u.settings.ADAPTER.fetch(t)).arrayBuffer();const{compressed:i,uncompressed:n,kvData:a}=d.parseKTX(t,s),o=i??n,h={mipmap:u.MIPMAP_MODES.OFF,alphaMode:u.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:u.utils.getResolutionOfUrl(t),...e.data};s=o.map(e=>{o===n&&Object.assign(h,{type:e.type,format:e.format});e=new u.BaseTexture(e,h);return e.ktxKeyValueData=a,l.createTexture(e,r,t)});return 1===s.length?s[0]:s},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};u.extensions.add(e),r.loadKTX=e},{"../parsers/index.js":57,"../parsers/parseKTX.js":59,"@pixi/assets":20,"@pixi/core":104}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),e={extension:s.ExtensionType.ResolveParser,test:e=>{e=e.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(e)},parse:t=>{if("ktx"===t.split("?")[0].split(".").pop()){var e=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(e.some(e=>t.endsWith(e)))return{resolution:parseFloat(s.settings.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e.find(e=>t.endsWith(e)),src:t}}return{resolution:parseFloat(s.settings.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t}}};s.extensions.add(e),r.resolveCompressedTextureUrl=e},{"@pixi/core":104}],57:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./parseDDS.js"),e=e("./parseKTX.js");r.parseDDS=s.parseDDS,r.FORMATS_TO_COMPONENTS=e.FORMATS_TO_COMPONENTS,r.TYPES_TO_BYTES_PER_COMPONENT=e.TYPES_TO_BYTES_PER_COMPONENT,r.TYPES_TO_BYTES_PER_PIXEL=e.TYPES_TO_BYTES_PER_PIXEL,r.parseKTX=e.parseKTX},{"./parseDDS.js":58,"./parseKTX.js":59}],58:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var m=e("../const.js"),g=(e("../resources/index.js"),e("../resources/CompressedTextureResource.js"));const _={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},x={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},v={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4};const y={[827611204]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT},T={[70]:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:m.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:m.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:m.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:m.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};r.parseDDS=function(n){if(542327876!==(s=new Uint32Array(n))[0])throw new Error("Invalid DDS file magic word");const a=(r=new Uint32Array(n,0,124/Uint32Array.BYTES_PER_ELEMENT))[_.HEIGHT],o=r[_.WIDTH],h=r[_.MIPMAP_COUNT];var e=(r=new Uint32Array(n,_.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT))[1];if(4&e){r=r[x.FOURCC];if(808540228!==r)return r=y[r],t=new Uint8Array(n,128),[new g.CompressedTextureResource(t,{format:r,width:o,height:a,levels:h})];var t=new Uint32Array(s.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),r=t[v.DXGI_FORMAT],s=t[v.RESOURCE_DIMENSION],i=t[v.MISC_FLAG],l=t[v.ARRAY_SIZE];const f=T[r];if(void 0===f)throw new Error("DDSParser cannot parse texture data with DXGI format "+r);if(4===i)throw new Error("DDSParser does not support cubemap textures");if(6===s)throw new Error("DDSParser does not supported 3D texture data");var u=new Array;if(1===l)u.push(new Uint8Array(n,148));else{var d=m.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[f];let t=0,r=o,s=a;for(let e=0;e<h;e++){var c=Math.max(1,r+3&-4),p=Math.max(1,s+3&-4);t+=c*p*d,r>>>=1,s>>>=1}let i=148;for(let e=0;e<l;e++)u.push(new Uint8Array(n,i,t)),i+=t}return u.map(e=>new g.CompressedTextureResource(e,{format:f,width:o,height:a,levels:h}))}if(64&e)throw new Error("DDSParser does not support uncompressed texture data.");if(512&e)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(131072&e)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(2&e)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}},{"../const.js":49,"../resources/CompressedTextureResource.js":61,"../resources/index.js":62}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var S=e("@pixi/core"),A=e("../const.js"),P=(e("../resources/index.js"),e("../resources/CompressedTextureResource.js"));const M=[171,75,84,88,32,49,49,187,13,10,26,10],R={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},w=64,j={[S.TYPES.UNSIGNED_BYTE]:1,[S.TYPES.UNSIGNED_SHORT]:2,[S.TYPES.INT]:4,[S.TYPES.UNSIGNED_INT]:4,[S.TYPES.FLOAT]:4,[S.TYPES.HALF_FLOAT]:8},C={[S.FORMATS.RGBA]:4,[S.FORMATS.RGB]:3,[S.FORMATS.RG]:2,[S.FORMATS.RED]:1,[S.FORMATS.LUMINANCE]:1,[S.FORMATS.LUMINANCE_ALPHA]:2,[S.FORMATS.ALPHA]:1},O={[S.TYPES.UNSIGNED_SHORT_4_4_4_4]:2,[S.TYPES.UNSIGNED_SHORT_5_5_5_1]:2,[S.TYPES.UNSIGNED_SHORT_5_6_5]:2};r.FORMATS_TO_COMPONENTS=C,r.TYPES_TO_BYTES_PER_COMPONENT=j,r.TYPES_TO_BYTES_PER_PIXEL=O,r.parseKTX=function(e,i,t=!1){var n=new DataView(i);if(!function(t,r){for(let e=0;e<M.length;e++)if(r.getUint8(e)!==M[e])return void console.error(t+" is not a valid *.ktx file!");return 1}(e,n))return null;var a=67305985===n.getUint32(R.ENDIANNESS,!0);const o=n.getUint32(R.GL_TYPE,a),s=n.getUint32(R.GL_FORMAT,a),r=n.getUint32(R.GL_INTERNAL_FORMAT,a),h=n.getUint32(R.PIXEL_WIDTH,a),l=n.getUint32(R.PIXEL_HEIGHT,a)||1;var e=n.getUint32(R.PIXEL_DEPTH,a)||1,u=n.getUint32(R.NUMBER_OF_ARRAY_ELEMENTS,a)||1,d=n.getUint32(R.NUMBER_OF_FACES,a);const c=n.getUint32(R.NUMBER_OF_MIPMAP_LEVELS,a);var p=n.getUint32(R.BYTES_OF_KEY_VALUE_DATA,a);if(0===l||1!==e)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==u)throw new Error("WebGL does not support array textures");var e=h+3&-4,d=l+3&-4,f=new Array(u);let m=h*l;0===o&&(m=e*d);let g;if(void 0===(g=0!==o?j[o]?j[o]*C[s]:O[o]:A.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[r]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");t=t?function(t,r,s){var i=new Map;let n=0;for(;n<r;){var a=t.getUint32(w+n,s),o=w+n+4,h=3-(a+3)%4;if(0===a||a>r-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let e=0;for(;e<a&&0!==t.getUint8(o+e);e++);if(-1===e){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var l=(new TextDecoder).decode(new Uint8Array(t.buffer,o,e)),u=new DataView(t.buffer,o+e+1,a-e-1);i.set(l,u),n+=4+a+h}return i}(n,p,a):null;let _=m*g,x=h,v=l,y=e,T=d,b=w+p;for(let s=0;s<c;s++){var E=n.getUint32(b,a);let r=b+4;for(let t=0;t<u;t++){let e=f[t];(e=e||(f[t]=new Array(c)))[s]={levelID:s,levelWidth:1<c||0!==o?x:y,levelHeight:1<c||0!==o?v:T,levelBuffer:new Uint8Array(i,r,_)},r+=_}b=(b+=E+4)%4!=0?b+4-b%4:b,x=x>>1||1,v=v>>1||1,y=x+4-1&-4,T=v+4-1&-4,_=y*T*g}return 0!==o?{uncompressed:f.map(e=>{let t=e[0].levelBuffer,r=!1;return o===S.TYPES.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):o===S.TYPES.UNSIGNED_INT?(r=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):o===S.TYPES.INT&&(r=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new S.BufferResource(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:o,format:r?function(e){switch(e){case S.FORMATS.RGBA:return S.FORMATS.RGBA_INTEGER;case S.FORMATS.RGB:return S.FORMATS.RGB_INTEGER;case S.FORMATS.RG:return S.FORMATS.RG_INTEGER;case S.FORMATS.RED:return S.FORMATS.RED_INTEGER;default:return e}}(s):s}}),kvData:t}:{compressed:f.map(e=>new P.CompressedTextureResource(null,{format:r,width:h,height:l,levels:c,levelBuffers:e})),kvData:t}}},{"../const.js":49,"../resources/CompressedTextureResource.js":61,"../resources/index.js":62,"@pixi/core":104}],60:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/core");class s extends i.BufferResource{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,s;super(s="string"==typeof e?(r=e,new Uint8Array):(r=null,e),t),this.origin=r,this.buffer=s?new i.ViewableBuffer(s):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==t.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load||(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new i.ViewableBuffer(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this))),this._load}}r.BlobResource=s},{"@pixi/core":104}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var f=e("../const.js");class s extends e("./BlobResource.js").BlobResource{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=s._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||s._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){var s=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(let e=0,t=this.levels;e<t;e++){var{levelID:i,levelWidth:n,levelHeight:a,levelBuffer:o}=this._levelBuffers[e];s.compressedTexImage2D(s.TEXTURE_2D,i,this.format,n,a,0,o)}return!0}onBlobLoaded(){this._levelBuffers=s._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(33776<=e&&e<=33779)return"s3tc";if(37488<=e&&e<=37497)return"etc";if(35840<=e&&e<=35843)return"pvrtc";if(36196<=e)return"etc1";if(35986<=e&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(t,r,s,i,n,e,a){var o=new Array(s);let h=t.byteOffset,l=e,u=a,d=l+i-1&~(i-1),c=u+n-1&~(n-1),p=d*c*f.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[r];for(let e=0;e<s;e++)o[e]={levelID:e,levelWidth:1<s?l:d,levelHeight:1<s?u:c,levelBuffer:new Uint8Array(t.buffer,h,p)},h+=p,l=l>>1||1,u=u>>1||1,d=l+i-1&~(i-1),c=u+n-1&~(n-1),p=d*c*f.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[r];return o}}r.CompressedTextureResource=s},{"../const.js":49,"./BlobResource.js":60}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./BlobResource.js"),e=e("./CompressedTextureResource.js");r.BlobResource=s.BlobResource,r.CompressedTextureResource=e.CompressedTextureResource},{"./BlobResource.js":60,"./CompressedTextureResource.js":61}],63:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))({}),i=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))({}),n=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))({}),a=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))({}),o=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))({}),h=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))({}),l=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))({}),u=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))({}),d=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))({}),c=(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))({}),p=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))({}),f=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))({}),m=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))({}),g=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))({}),_=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))({}),x=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))({}),v=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))({}),y=(e=>(e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA",e))({}),T=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))({}),b=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))({});r.ALPHA_MODES=m,r.BLEND_MODES=a,r.BUFFER_BITS=n,r.BUFFER_TYPE=b,r.CLEAR_MODES=g,r.COLOR_MASK_BITS=y,r.DRAW_MODES=o,r.ENV=s,r.FORMATS=h,r.GC_MODES=_,r.MASK_TYPES=v,r.MIPMAP_MODES=f,r.MSAA_QUALITY=T,r.PRECISION=x,r.RENDERER_TYPE=i,r.SAMPLER_TYPES=d,r.SCALE_MODES=c,r.TARGETS=l,r.TYPES=u,r.WRAP_MODES=p},{}],64:[function(e,t,r){},{}],65:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("@pixi/extensions"),n=e("@pixi/math"),a=e("@pixi/settings"),o=e("@pixi/utils"),h=e("./shader/UniformGroup.js");const l=class extends e("./system/SystemManager.js").SystemManager{constructor(e){super(),this.type=s.RENDERER_TYPE.WEBGL,e=Object.assign({},a.settings.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new h.UniformGroup({projectionMatrix:new n.Matrix},!0);var t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:l.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(o.deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&"notMultiplied"!==e.useContextAlpha,e.backgroundAlpha=!1===e.useContextAlpha?1:e.backgroundAlpha),this._plugin.rendererPlugins=l.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return!e?.forceCanvas&&o.isWebGLSupported()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return"WebGL "+this.context.webGLVersion}get clearBeforeRender(){return o.deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return o.deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return o.deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return o.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){o.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return o.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){o.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return o.deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};e=l;e.extension={type:i.ExtensionType.Renderer,priority:1},e.__plugins={},e.__systems={},i.extensions.handleByMap(i.ExtensionType.RendererPlugin,e.__plugins),i.extensions.handleByMap(i.ExtensionType.RendererSystem,e.__systems),i.extensions.add(e),r.Renderer=e},{"./shader/UniformGroup.js":123,"./system/SystemManager.js":148,"@pixi/constants":63,"@pixi/extensions":192,"@pixi/math":242,"@pixi/settings":282,"@pixi/utils":344}],66:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("@pixi/extensions");const s=[];e.extensions.handleByList(e.ExtensionType.Renderer,s),r.autoDetectRenderer=function(e){for(const t of s)if(t.test(e))return new t(e);throw new Error("Unable to auto-detect a suitable renderer.")}},{"@pixi/extensions":192}],67:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/color"),e=e("@pixi/extensions");class i{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new s.Color(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;var{backgroundColor:e,background:t,backgroundAlpha:r}=e,t=t??e;void 0!==t&&(this.color=t),this.alpha=r}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}i.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},i.extension={type:[e.ExtensionType.RendererSystem,e.ExtensionType.CanvasRendererSystem],name:"background"},e.extensions.add(i),r.BackgroundSystem=i},{"@pixi/color":48,"@pixi/extensions":192}],68:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants");r.BatchDrawCall=class{constructor(){this.texArray=null,this.blend=0,this.type=s.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}},{"@pixi/constants":63}],69:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("../geometry/Buffer.js");class n extends e("../geometry/Geometry.js").Geometry{constructor(e=!1){super(),this._buffer=new i.Buffer(null,e,!1),this._indexBuffer=new i.Buffer(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,s.TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,s.TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,s.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,s.TYPES.FLOAT).addIndex(this._indexBuffer)}}r.BatchGeometry=n},{"../geometry/Buffer.js":97,"../geometry/Geometry.js":100,"@pixi/constants":63}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=e("@pixi/color"),s=e("@pixi/constants"),i=e("@pixi/extensions"),n=e("@pixi/settings"),m=e("@pixi/utils"),a=e("../geometry/ViewableBuffer.js"),o=e("../shader/utils/checkMaxIfStatementsInShader.js"),h=e("../state/State.js"),c=e("../textures/BaseTexture.js"),l=e("./BatchDrawCall.js"),u=e("./BatchGeometry.js"),d=e("./BatchShaderGenerator.js"),f=e("./BatchTextureArray.js"),g=e("./canUploadSameBuffer.js"),_=e("./maxRecommendedTextures.js"),x=e("./ObjectRenderer.js"),v=e("./texture.js"),y=e("./texture2.js");const T=class extends x.ObjectRenderer{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=u.BatchGeometry,this.vertexSize=6,this.state=h.State.for2d(),this.size=4*T.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??_.maxRecommendedTextures(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??g.canUploadSameBuffer(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return m.deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return y.default}static get defaultFragmentTemplate(){return v.default}setShaderGenerator({vertex:e=T.defaultVertexSrc,fragment:t=T.defaultFragmentTemplate}={}){this.shaderGenerator=new d.BatchShaderGenerator(e,t)}contextChange(){var e=this.renderer.gl;n.settings.PREFER_ENV===s.ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),T.defaultMaxTextures),this.maxTextures=o.checkMaxIfStatementsInShader(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){for(var{_drawCallPool:e,_textureArrayPool:t}=T,r=this.size/4,s=Math.floor(r/this.maxTextures)+1;e.length<r;)e.push(new l.BatchDrawCall);for(;t.length<s;)t.push(new f.BatchTextureArray);for(let e=0;e<this.maxTextures;e++)this._tempBoundTextures[e]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){var{_bufferedTextures:t,maxTextures:r}=this,s=T._textureArrayPool,i=this.renderer.batch,n=this._tempBoundTextures,a=this.renderer.textureGC.count;let o=++c.BaseTexture._globalBatch,h=0,l=s[0],u=0;i.copyBoundTextures(n,r);for(let e=0;e<this._bufferSize;++e){var d=t[e];t[e]=null,d._batchEnabled!==o&&(l.count>=r&&(i.boundArray(l,n,o,r),this.buildDrawCalls(l,u,e),u=e,l=s[++h],++o),d._batchEnabled=o,d.touched=a,l.elements[l.count++]=d)}0<l.count&&(i.boundArray(l,n,o,r),this.buildDrawCalls(l,u,this._bufferSize),++h,++o);for(let e=0;e<n.length;e++)n[e]=null;c.BaseTexture._globalBatch=o}buildDrawCalls(t,r,s){var{_bufferedElements:i,_attributeBuffer:n,_indexBuffer:a,vertexSize:o}=this,h=T._drawCallPool;let l=this._dcIndex,u=this._aIndex,d=this._iIndex,c=h[l];c.start=this._iIndex,c.texArray=t;for(let e=r;e<s;++e){var p=i[e],f=p._texture.baseTexture,f=m.premultiplyBlendMode[f.alphaMode?1:0][p.blendMode];i[e]=null,r<e&&c.blend!==f&&(c.size=d-c.start,r=e,(c=h[++l]).texArray=t,c.start=d),this.packInterleavedGeometry(p,n,a,u,d),u+=p.vertexData.length/2*o,d+=p.indices.length,c.blend=f}r<s&&(c.size=d-c.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=d}bindAndClearTexArray(t){var r=this.renderer.texture;for(let e=0;e<t.count;e++)r.bind(t.elements[e],t.ids[e]),t.elements[e]=null;t.count=0}updateGeometry(){var{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;T.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){var t=this._dcIndex,{gl:r,state:s}=this.renderer,i=T._drawCallPool;let n=null;for(let e=0;e<t;e++){var{texArray:a,type:o,size:h,start:l,blend:u}=i[e];n!==a&&(n=a,this.bindAndClearTexArray(a)),this.state.blendMode=u,s.set(this.state),r.drawElements(o,h,r.UNSIGNED_SHORT,2*l)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),T.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){var e=m.nextPow2(Math.ceil(e/8)),t=m.log2(e),e=8*e;this._aBuffers.length<=t&&(this._iBuffers.length=t+1);let r=this._aBuffers[e];return r||(this._aBuffers[e]=r=new a.ViewableBuffer(e*this.vertexSize*4)),r}getIndexBuffer(e){var e=m.nextPow2(Math.ceil(e/12)),t=m.log2(e),e=12*e;this._iBuffers.length<=t&&(this._iBuffers.length=t+1);let r=this._iBuffers[t];return r||(this._iBuffers[t]=r=new Uint16Array(e)),r}packInterleavedGeometry(e,t,r,s,i){var{uint32View:n,float32View:a}=t,o=s/this.vertexSize,h=e.uvs,l=e.indices,u=e.vertexData,d=e._texture.baseTexture._batchLocation,t=Math.min(e.worldAlpha,1),c=p.Color.shared.setValue(e._tintRGB).toPremultiplied(t,0<e._texture.baseTexture.alphaMode);for(let e=0;e<u.length;e+=2)a[s++]=u[e],a[s++]=u[e+1],a[s++]=h[e],a[s++]=h[e+1],n[s++]=c,a[s++]=d;for(let e=0;e<l.length;e++)r[i++]=o+l[e]}};e=T;e.defaultBatchSize=4096,e.extension={name:"batch",type:i.ExtensionType.RendererPlugin},e._drawCallPool=[],e._textureArrayPool=[],i.extensions.add(e),r.BatchRenderer=e},{"../geometry/ViewableBuffer.js":102,"../shader/utils/checkMaxIfStatementsInShader.js":126,"../state/State.js":144,"../textures/BaseTexture.js":150,"./BatchDrawCall.js":68,"./BatchGeometry.js":69,"./BatchShaderGenerator.js":71,"./BatchTextureArray.js":73,"./ObjectRenderer.js":74,"./canUploadSameBuffer.js":75,"./maxRecommendedTextures.js":76,"./texture.js":77,"./texture2.js":78,"@pixi/color":48,"@pixi/constants":63,"@pixi/extensions":192,"@pixi/settings":282,"@pixi/utils":344}],71:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/math"),i=e("../shader/Program.js"),n=e("../shader/Shader.js"),a=e("../shader/UniformGroup.js");r.BatchShaderGenerator=class{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){var r=new Int32Array(t);for(let e=0;e<t;e++)r[e]=e;this.defaultGroupCache[t]=a.UniformGroup.from({uSamplers:r},!0);let e=this.fragTemplate;e=(e=e.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new i.Program(this.vertexSrc,e)}var e={tint:new Float32Array([1,1,1,1]),translationMatrix:new s.Matrix,default:this.defaultGroupCache[t]};return new n.Shader(this.programCache[t],e)}generateSampleSrc(t){let r="";r+="\n\n";for(let e=0;e<t;e++)0<e&&(r+="\nelse "),e<t-1&&(r+=`if(vTextureId < ${e}.5)`),r=(r+="\n{")+`
	color = texture2D(uSamplers[${e}], vTextureCoord);`+"\n}";return r=r+"\n"+"\n"}}},{"../shader/Program.js":120,"../shader/Shader.js":121,"../shader/UniformGroup.js":123,"@pixi/math":242}],72:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/extensions"),i=e("./ObjectRenderer.js");class n{constructor(e){this.renderer=e,this.emptyRenderer=new i.ObjectRenderer(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,r){var s=this.renderer.texture["boundTextures"];for(let e=r-1;0<=e;--e)t[e]=s[e]||null,t[e]&&(t[e]._batchLocation=e)}boundArray(e,t,r,s){var{elements:i,ids:n,count:a}=e;let o=0;for(let e=0;e<a;e++){var h=i[e],l=h._batchLocation;if(0<=l&&l<s&&t[l]===h)n[e]=l;else for(;o<s;){var u=t[o];if(!u||u._batchEnabled!==r||u._batchLocation!==o){n[e]=o,t[h._batchLocation=o]=h;break}o++}}}destroy(){this.renderer=null}}n.extension={type:s.ExtensionType.RendererSystem,name:"batch"},s.extensions.add(n),r.BatchSystem=n},{"./ObjectRenderer.js":74,"@pixi/extensions":192}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BatchTextureArray=class{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}},{}],74:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ObjectRenderer=class{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}},{}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/settings");r.canUploadSameBuffer=function(){return!s.isMobile.apple.device}},{"@pixi/settings":282}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/settings");r.maxRecommendedTextures=function(e){let t=!0;var r,s=i.settings.ADAPTER.getNavigator();return(t=(i.isMobile.tablet||i.isMobile.phone)&&(i.isMobile.apple.device&&(r=s.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(r[1],10)<11&&(t=!1),i.isMobile.android.device)&&(r=s.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(r[1],10)<7?!1:t)?e:4}},{"@pixi/settings":282}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"},{}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"},{}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("@pixi/extensions"),n=e("@pixi/settings");let a=0;class o{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=a++}init(e){var t,r;e.context?this.initFromContext(e.context):(t=this.renderer.background.alpha<1,r=e.premultipliedAlpha,this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference}))}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=a++,this.renderer.runners.contextChange.emit(e);e=this.renderer.view;void 0!==e.addEventListener&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){e=this.createContext(this.renderer.view,e);this.initFromContext(e)}createContext(e,t){let r;if(r=n.settings.PREFER_ENV>=s.ENV.WEBGL2?e.getContext("webgl2",t):r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){var e=this["gl"],t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){var e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){var t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext,t=(r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly"),r||!!e.getExtension("OES_element_index_uint"));(this.supports.uint32Indices=t)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}o.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},o.extension={type:i.ExtensionType.RendererSystem,name:"context"},i.extensions.add(o),r.ContextSystem=o},{"@pixi/constants":63,"@pixi/extensions":192,"@pixi/settings":282}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("../shader/Program.js"),n=e("../shader/Shader.js"),a=e("../state/State.js"),o=e("./defaultFilter.js"),h=e("./defaultFilter2.js");const l=class extends n.Shader{constructor(e,t,r){super(i.Program.from(e||l.defaultVertexSrc,t||l.defaultFragmentSrc),r),this.padding=0,this.resolution=l.defaultResolution,this.multisample=l.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new a.State}apply(e,t,r,s,i){e.applyFilter(this,t,r,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return h.default}static get defaultFragmentSrc(){return o.default}};e=l;e.defaultResolution=1,e.defaultMultisample=s.MSAA_QUALITY.NONE,r.Filter=e},{"../shader/Program.js":120,"../shader/Shader.js":121,"../state/State.js":144,"./defaultFilter.js":84,"./defaultFilter2.js":85,"@pixi/constants":63}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("@pixi/math");r.FilterState=class{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=s.MSAA_QUALITY.NONE,this.sourceFrame=new i.Rectangle,this.destinationFrame=new i.Rectangle,this.bindingSourceFrame=new i.Rectangle,this.bindingDestinationFrame=new i.Rectangle,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}},{"@pixi/constants":63,"@pixi/math":242}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=e("@pixi/constants"),s=e("@pixi/extensions"),n=e("@pixi/math"),i=e("../renderTexture/RenderTexturePool.js"),a=e("../shader/UniformGroup.js"),o=e("../utils/Quad.js"),l=e("../utils/QuadUv.js"),c=e("./FilterState.js");const u=[new n.Point,new n.Point,new n.Point,new n.Point],p=new n.Matrix;class d{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new i.RenderTexturePool,this.statePool=[],this.quad=new o.Quad,this.quadUv=new l.QuadUv,this.tempRect=new n.Rectangle,this.activeState={},this.globalUniforms=new a.UniformGroup({outputFrame:new n.Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){var r=this.renderer,s=this.defaultFilterStack,i=this.statePool.pop()||new c.FilterState,n=this.renderer.renderTexture;let a=t[0].resolution,o=t[0].multisample,h=t[0].padding,l=t[0].autoFit,u=t[0].legacy??!0;for(let e=1;e<t.length;e++){var d=t[e];a=Math.min(a,d.resolution),o=Math.min(o,d.multisample),h=this.useMaxPadding?Math.max(h,d.padding):h+d.padding,l=l&&d.autoFit,u=u||(d.legacy??!0)}1===s.length&&(this.defaultFilterStack[0].renderTexture=n.current),s.push(i),i.resolution=a,i.multisample=o,i.legacy=u,i.target=e,i.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),i.sourceFrame.pad(h);s=this.tempRect.copyFrom(n.sourceFrame),r.projection.transform&&this.transformAABB(p.copyFrom(r.projection.transform).invert(),s),l?(i.sourceFrame.fit(s),(i.sourceFrame.width<=0||i.sourceFrame.height<=0)&&(i.sourceFrame.width=0,i.sourceFrame.height=0)):i.sourceFrame.intersects(s)||(i.sourceFrame.width=0,i.sourceFrame.height=0),this.roundFrame(i.sourceFrame,(n.current||r).resolution,n.sourceFrame,n.destinationFrame,r.projection.transform),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,a,o),i.filters=t,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height,e=this.tempRect;e.x=0,e.y=0,e.width=i.sourceFrame.width,e.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,i.bindingSourceFrame.copyFrom(n.sourceFrame),i.bindingDestinationFrame.copyFrom(n.destinationFrame),i.transform=r.projection.transform,r.projection.transform=null,n.bind(i.renderTexture,i.sourceFrame,e),r.framebuffer.clear(0,0,0,0)}pop(){var e=this.defaultFilterStack,s=e.pop(),i=s.filters,t=(this.activeState=s,this.globalUniforms.uniforms),n=(t.outputFrame=s.sourceFrame,t.resolution=s.resolution,t.inputSize),r=t.inputPixel,a=t.inputClamp,n=(n[0]=s.destinationFrame.width,n[1]=s.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],r[0]=Math.round(n[0]*s.resolution),r[1]=Math.round(n[1]*s.resolution),r[2]=1/r[0],r[3]=1/r[1],a[0]=.5*r[2],a[1]=.5*r[3],a[2]=s.sourceFrame.width*n[2]-.5*r[2],a[3]=s.sourceFrame.height*n[3]-.5*r[3],s.legacy&&((a=t.filterArea)[0]=s.destinationFrame.width,a[1]=s.destinationFrame.height,a[2]=s.sourceFrame.x,a[3]=s.sourceFrame.y,t.filterClamp=t.inputClamp),this.globalUniforms.update(),e[e.length-1]);if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,s.renderTexture,n.renderTexture,h.CLEAR_MODES.BLEND,s),this.returnFilterTexture(s.renderTexture);else{let e=s.renderTexture,t=this.getOptimalFilterTexture(e.width,e.height,s.resolution),r=(t.filterFrame=e.filterFrame,0);for(r=0;r<i.length-1;++r){1===r&&1<s.multisample&&((t=this.getOptimalFilterTexture(e.width,e.height,s.resolution)).filterFrame=e.filterFrame),i[r].apply(this,e,t,h.CLEAR_MODES.CLEAR,s);var o=e;e=t,t=o}i[r].apply(this,e,n.renderTexture,h.CLEAR_MODES.BLEND,s),1<r&&1<s.multisample&&this.returnFilterTexture(s.renderTexture),this.returnFilterTexture(e),this.returnFilterTexture(t)}s.clear(),this.statePool.push(s)}bindAndClear(e,t=h.CLEAR_MODES.CLEAR){var{renderTexture:r,state:s}=this.renderer,i=(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame?((i=this.tempRect).x=0,i.y=0,i.width=e.filterFrame.width,i.height=e.filterFrame.height,r.bind(e,e.filterFrame,i)):e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame),1&s.stateId||this.forceClear);(t===h.CLEAR_MODES.CLEAR||t===h.CLEAR_MODES.BLIT&&i)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,s){var i=this.renderer;i.state.set(e.state),this.bindAndClear(r,s),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(h.DRAW_MODES.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(h.DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){var{sourceFrame:r,destinationFrame:s}=this.activeState,i=t._texture["orig"],e=e.set(s.width,0,0,s.height,r.x,r.y),s=t.worldTransform.copyTo(n.Matrix.TEMP_MATRIX);return s.invert(),e.prepend(s),e.scale(1/i.width,1/i.height),e.translate(t.anchor.x,t.anchor.y),e}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,s=h.MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(e,t,r,s)}getFilterTexture(e,t,r){"number"==typeof e&&(s=e,e=t,t=s),e=e||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||h.MSAA_QUALITY.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){var r=u[0],s=u[1],i=u[2],n=u[3],e=(r.set(t.left,t.top),s.set(t.left,t.bottom),i.set(t.right,t.top),n.set(t.right,t.bottom),e.apply(r,r),e.apply(s,s),e.apply(i,i),e.apply(n,n),Math.min(r.x,s.x,i.x,n.x)),a=Math.min(r.y,s.y,i.y,n.y),o=Math.max(r.x,s.x,i.x,n.x),r=Math.max(r.y,s.y,i.y,n.y);t.x=e,t.y=a,t.width=o-e,t.height=r-a}roundFrame(e,t,r,s,i){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(i){var{a:n,b:a,c:o,d:h}=i;if((1e-4<Math.abs(a)||1e-4<Math.abs(o))&&(1e-4<Math.abs(n)||1e-4<Math.abs(h)))return}(i=i?p.copyFrom(i):p.identity()).translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}}}d.extension={type:s.ExtensionType.RendererSystem,name:"filter"},s.extensions.add(d),r.FilterSystem=d},{"../renderTexture/RenderTexturePool.js":115,"../shader/UniformGroup.js":123,"../utils/Quad.js":174,"../utils/QuadUv.js":175,"./FilterState.js":81,"@pixi/constants":63,"@pixi/extensions":192,"@pixi/math":242}],83:[function(e,t,r){},{}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},{}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},{}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/math"),a=e("../../textures/TextureMatrix.js"),s=e("../Filter.js"),n=e("./spriteMaskFilter2.js"),o=e("./spriteMaskFilter3.js");class h extends s.Filter{constructor(e,t,r){let s=null;"string"!=typeof e&&void 0===t&&void 0===r&&(s=e,r=t=e=void 0),super(e||o.default,t||n.default,r),this.maskSprite=s,this.maskMatrix=new i.Matrix}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,s){var i=this._maskSprite,n=i._texture;n.valid&&(n.uvMatrix||(n.uvMatrix=new a.TextureMatrix(n,0)),n.uvMatrix.update(),this.uniforms.npmAlpha=n.baseTexture.alphaMode?0:1,this.uniforms.mask=n,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(n.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=n.uvMatrix.uClampFrame,e.applyFilter(this,t,r,s))}}r.SpriteMaskFilter=h},{"../../textures/TextureMatrix.js":154,"../Filter.js":80,"./spriteMaskFilter2.js":87,"./spriteMaskFilter3.js":88,"@pixi/math":242}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"},{}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n"},{}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}"},{}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},{}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./default.js"),e=e("./defaultFilter.js"),s=s.default,e=e.default;r.defaultFilterVertex=e,r.defaultVertex=s},{"./default.js":89,"./defaultFilter.js":90}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("@pixi/runner"),n=e("../textures/BaseTexture.js"),a=e("../textures/resources/DepthResource.js");r.Framebuffer=class{constructor(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new i.Runner("disposeFramebuffer"),this.multisample=s.MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new n.BaseTexture(null,{scaleMode:s.SCALE_MODES.NEAREST,resolution:1,mipmap:s.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new n.BaseTexture(new a.DepthResource(null,{width:this.width,height:this.height}),{scaleMode:s.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:s.MIPMAP_MODES.OFF,format:s.FORMATS.DEPTH_COMPONENT,type:s.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,r){if(t=Math.round(t),r=Math.round(r),t!==this.width||r!==this.height){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(let e=0;e<this.colorTextures.length;e++){var s=this.colorTextures[e],i=s.resolution;s.setSize(t/i,r/i)}var e;this.depthTexture&&(e=this.depthTexture.resolution,this.depthTexture.setSize(t/e,r/e))}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}},{"../textures/BaseTexture.js":150,"../textures/resources/DepthResource.js":163,"@pixi/constants":63,"@pixi/runner":278}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("@pixi/constants"),s=e("@pixi/extensions"),i=e("@pixi/math"),n=e("@pixi/settings"),o=e("./Framebuffer.js"),h=e("./GLFramebuffer.js");const l=new i.Rectangle;class u{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new o.Framebuffer(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new i.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,e=this.renderer.context.extensions.depthTexture;n.settings.PREFER_ENV===a.ENV.WEBGL_LEGACY&&(t=null,e=null),t?r.drawBuffers=e=>t.drawBuffersWEBGL(e):(this.hasMRT=!1,r.drawBuffers=()=>{}),e||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)}bind(t,e,r=0){var s=this["gl"];if(t){var i,n,a=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,a.mipLevel=r),a.dirtyId!==t.dirtyId&&(a.dirtyId=t.dirtyId,a.dirtyFormat!==t.dirtyFormat?(a.dirtyFormat=t.dirtyFormat,a.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):a.dirtySize!==t.dirtySize&&(a.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let e=0;e<t.colorTextures.length;e++){var o=t.colorTextures[e];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?(a=e.width>>r,i=e.height>>r,n=a/e.width,this.setViewport(e.x*n,e.y*n,a,i)):(n=t.width>>r,a=t.height>>r,this.setViewport(0,0,n,a))}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,s){var i=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),s=Math.round(s),i.width===r&&i.height===s&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=r,i.height=s,this.gl.viewport(e,t,r,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,s,i=a.BUFFER_BITS.COLOR|a.BUFFER_BITS.DEPTH){var n=this["gl"];n.clearColor(e,t,r,s),n.clear(i)}initFramebuffer(e){var t=this["gl"],t=new h.GLFramebuffer(t.createFramebuffer());return t.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=t,this.managedFramebuffers.push(e),e.disposeRunner.add(this),t}resizeFramebuffer(t){var r=this["gl"],s=t.glFramebuffers[this.CONTEXT_UID],i=(s.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,s.stencil),s.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height)),t.colorTextures);let n=i.length;r.drawBuffers||(n=Math.min(n,1));for(let e=0;e<n;e++){var a=i[e],a=a.parentTextureArray||a;this.renderer.texture.bind(a,0),0===e&&s.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,s.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,a._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,r){var s=this["gl"],i=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures;let a=n.length;s.drawBuffers||(a=Math.min(a,1)),1<i.multisample&&this.canMultisampleFramebuffer(t)?i.msaaBuffer=i.msaaBuffer||s.createRenderbuffer():i.msaaBuffer&&(s.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer)&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null);var e,o=[];for(let e=0;e<a;e++){var h=n[e],l=h.parentTextureArray||h;this.renderer.texture.bind(l,0),0===e&&i.msaaBuffer?(s.bindRenderbuffer(s.RENDERBUFFER,i.msaaBuffer),s.renderbufferStorageMultisample(s.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,i.msaaBuffer)):(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+e,h.target,l._glTextures[this.CONTEXT_UID].texture,r),o.push(s.COLOR_ATTACHMENT0+e))}1<o.length&&s.drawBuffers(o),t.depthTexture&&this.writeDepthTexture&&(e=t.depthTexture,this.renderer.texture.bind(e,0),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,e._glTextures[this.CONTEXT_UID].texture,r)),!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?i.stencil&&(s.deleteRenderbuffer(i.stencil),i.stencil=null):(i.stencil=i.stencil||s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,i.stencil),i.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,i.multisample,s.DEPTH24_STENCIL8,t.width,t.height):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,t.width,t.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,i.stencil))}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(t){var r=this["msaaSamples"];let s=a.MSAA_QUALITY.NONE;if(!(t<=1||null===r)){for(let e=0;e<r.length;e++)if(r[e]<=t){s=r[e];break}1===s&&(s=a.MSAA_QUALITY.NONE)}return s}blit(e,t,r){var{current:s,renderer:i,gl:n,CONTEXT_UID:a}=this;if(2===i.context.webGLVersion&&s){i=s.glFramebuffers[a];if(i){if(!e){if(!i.msaaBuffer)return;a=s.colorTextures[0];if(!a)return;i.blitFramebuffer||(i.blitFramebuffer=new o.Framebuffer(s.width,s.height),i.blitFramebuffer.addColorTexture(0,a)),(e=i.blitFramebuffer).colorTextures[0]!==a&&(e.colorTextures[0]=a,e.dirtyId++,e.dirtyFormat++),e.width===s.width&&e.height===s.height||(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}t||((t=l).width=s.width,t.height=s.height);a=t.width===(r=r||t).width&&t.height===r.height;this.bind(e),n.bindFramebuffer(n.READ_FRAMEBUFFER,i.framebuffer),n.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,n.COLOR_BUFFER_BIT,a?n.NEAREST:n.LINEAR),n.bindFramebuffer(n.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}}}disposeFramebuffer(e,t){var r,s=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;s&&(delete e.glFramebuffers[this.CONTEXT_UID],0<=(r=this.managedFramebuffers.indexOf(e))&&this.managedFramebuffers.splice(r,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(s.framebuffer),s.msaaBuffer&&i.deleteRenderbuffer(s.msaaBuffer),s.stencil&&i.deleteRenderbuffer(s.stencil)),s.blitFramebuffer)&&this.disposeFramebuffer(s.blitFramebuffer,t)}disposeAll(t){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(let e=0;e<r.length;e++)this.disposeFramebuffer(r[e],t)}forceStencil(){var e,t,r,s,i=this.current;i&&(e=i.glFramebuffers[this.CONTEXT_UID])&&!e.stencil&&(i.stencil=!0,t=i.width,i=i.height,s=(r=this.gl).createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,s),e.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,e.multisample,r.DEPTH24_STENCIL8,t,i):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,i),e.stencil=s,r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,s))}reset(){this.current=this.unknownFramebuffer,this.viewport=new i.Rectangle}destroy(){this.renderer=null}}u.extension={type:s.ExtensionType.RendererSystem,name:"framebuffer"},s.extensions.add(u),r.FramebufferSystem=u},{"./Framebuffer.js":92,"./GLFramebuffer.js":94,"@pixi/constants":63,"@pixi/extensions":192,"@pixi/math":242,"@pixi/settings":282}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants");r.GLFramebuffer=class{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=s.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}},{"@pixi/constants":63}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),e=e("@pixi/extensions");class i{constructor(e){this.renderer=e}contextChange(e){let t;var r;1===this.renderer.context.webGLVersion?(r=e.getParameter(e.FRAMEBUFFER_BINDING),e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)):(r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)),t>=s.MSAA_QUALITY.HIGH?this.multisample=s.MSAA_QUALITY.HIGH:t>=s.MSAA_QUALITY.MEDIUM?this.multisample=s.MSAA_QUALITY.MEDIUM:t>=s.MSAA_QUALITY.LOW?this.multisample=s.MSAA_QUALITY.LOW:this.multisample=s.MSAA_QUALITY.NONE}destroy(){}}i.extension={type:e.ExtensionType.RendererSystem,name:"_multisample"},e.extensions.add(i),r.MultisampleSystem=i},{"@pixi/constants":63,"@pixi/extensions":192}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=e("@pixi/constants");r.Attribute=class n{constructor(e,t=0,r=!1,s=h.TYPES.FLOAT,i,n,a,o=1){this.buffer=e,this.size=t,this.normalized=r,this.type=s,this.stride=i,this.start=n,this.instance=a,this.divisor=o}destroy(){this.buffer=null}static from(e,t,r,s,i){return new n(e,t,r,s,i)}}},{"@pixi/constants":63}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("@pixi/runner");let n=0;r.Buffer=class a{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=n++,this.disposeRunner=new i.Runner("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?s.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:s.BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===s.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new a(e)}}},{"@pixi/constants":63,"@pixi/runner":278}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/extensions"),i=e("./GLBuffer.js");class n{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){var{gl:t,CONTEXT_UID:r}=this,r=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)}unbind(e){var t=this["gl"];t.bindBuffer(e,null)}bindBufferBase(e,t){var{gl:r,CONTEXT_UID:s}=this;this.boundBufferBases[t]!==e&&(s=e._glBuffers[s]||this.createGLBuffer(e),this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,s.buffer))}bindBufferRange(e,t,r){var{gl:s,CONTEXT_UID:i}=this,i=(r=r||0,e._glBuffers[i]||this.createGLBuffer(e));s.bindBufferRange(s.UNIFORM_BUFFER,t||0,i.buffer,256*r,256)}update(e){var t,{gl:r,CONTEXT_UID:s}=this,s=e._glBuffers[s]||this.createGLBuffer(e);e._updateID!==s.updateID&&(s.updateID=e._updateID,r.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength?r.bufferSubData(e.type,0,e.data):(t=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW,s.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,t)))}dispose(e,t){var r,s;this.managedBuffers[e.id]&&(delete this.managedBuffers[e.id],r=e._glBuffers[this.CONTEXT_UID],s=this.gl,e.disposeRunner.remove(this),r)&&(t||s.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(t){var r=Object.keys(this.managedBuffers);for(let e=0;e<r.length;e++)this.dispose(this.managedBuffers[r[e]],t)}createGLBuffer(e){var{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new i.GLBuffer(r.createBuffer()),(this.managedBuffers[e.id]=e).disposeRunner.add(this),e._glBuffers[t]}}n.extension={type:s.ExtensionType.RendererSystem,name:"buffer"},s.extensions.add(n),r.BufferSystem=n},{"./GLBuffer.js":99,"@pixi/extensions":192}],99:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GLBuffer=class{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}},{}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=e("@pixi/constants"),s=e("@pixi/runner"),i=e("@pixi/utils"),d=e("./Attribute.js"),c=e("./Buffer.js"),a=e("./utils/interleaveTypedArrays.js");const p={5126:4,5123:2,5121:1};let n=0;const f={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array};r.Geometry=class m{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=n++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new s.Runner("disposeGeometry"),this.refCount=0}addAttribute(t,r,s=0,i=!1,n,a,o,h=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof c.Buffer||(r instanceof Array&&(r=new Float32Array(r)),r=new c.Buffer(r));var l=t.split("|");if(1<l.length)for(let e=0;e<l.length;e++)this.addAttribute(l[e],r,s,i,n);else{let e=this.buffers.indexOf(r);-1===e&&(this.buffers.push(r),e=this.buffers.length-1),this.attributes[t]=new d.Attribute(e,s,i,n,a,o,h),this.instanced=this.instanced||h}return this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof c.Buffer||(e instanceof Array&&(e=new Uint16Array(e)),e=new c.Buffer(e)),e.type=u.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(!(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)){var t=[],r=[],s=new c.Buffer;let e;for(e in this.attributes){var i=this.attributes[e],n=this.buffers[i.buffer];t.push(n.data),r.push(i.size*p[i.type]/4),i.buffer=0}for(s.data=a.interleaveTypedArrays(t,r),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();this.buffers=[s],this.indexBuffer&&this.buffers.push(this.indexBuffer)}return this}getSize(){for(const t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){var t=new m;for(let e=0;e<this.buffers.length;e++)t.buffers[e]=new c.Buffer(this.buffers[e].data.slice(0));for(const r in this.attributes){var e=this.attributes[r];t.attributes[r]=new d.Attribute(e.buffer,e.size,e.normalized,e.type,e.stride,e.start,e.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=u.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),t}static merge(n){var a=new m,t=[],r=[],s=[];let o;for(let e=0;e<n.length;e++){o=n[e];for(let e=0;e<o.buffers.length;e++)r[e]=r[e]||0,r[e]+=o.buffers[e].data.length,s[e]=0}for(let e=0;e<o.buffers.length;e++)t[e]=new f[i.getBufferType(o.buffers[e].data)](r[e]),a.buffers[e]=new c.Buffer(t[e]);for(let e=0;e<n.length;e++){o=n[e];for(let e=0;e<o.buffers.length;e++)t[e].set(o.buffers[e].data,s[e]),s[e]+=o.buffers[e].data.length}if(a.attributes=o.attributes,o.indexBuffer){a.indexBuffer=a.buffers[o.buffers.indexOf(o.indexBuffer)],a.indexBuffer.type=u.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;let t=0,r=0,s=0,i=0;for(let e=0;e<o.buffers.length;e++)if(o.buffers[e]!==o.indexBuffer){i=e;break}for(const l in o.attributes){var e=o.attributes[l];(0|e.buffer)===i&&(r+=e.size*p[e.type]/4)}for(let e=0;e<n.length;e++){var h=n[e].indexBuffer.data;for(let e=0;e<h.length;e++)a.indexBuffer.data[e+s]+=t;t+=n[e].buffers[i].data.length/r,s+=h.length}}return a}}},{"./Attribute.js":96,"./Buffer.js":97,"./utils/interleaveTypedArrays.js":103,"@pixi/constants":63,"@pixi/runner":278,"@pixi/utils":344}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var v=e("@pixi/constants"),s=e("@pixi/extensions"),i=e("@pixi/settings");const y={5126:4,5123:2,5121:1};class n{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let t=this.renderer.context.extensions.vertexArrayObject;(t=i.settings.PREFER_ENV===v.ENV.WEBGL_LEGACY?null:t)?(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(e,t)=>n.vertexAttribDivisorANGLE(e,t),e.drawElementsInstanced=(e,t,r,s,i)=>n.drawElementsInstancedANGLE(e,t,r,s,i),e.drawArraysInstanced=(e,t,r,s)=>n.drawArraysInstancedANGLE(e,t,r,s)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;var r=this["gl"];let s=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;s||((this.managedGeometries[e.id]=e).disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},i=!0);var n=s[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==n&&(this._activeVao=n,this.hasVao?r.bindVertexArray(n):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){var t=this._activeGeometry,r=this.renderer.buffer;for(let e=0;e<t.buffers.length;e++){var s=t.buffers[e];r.update(s)}}checkCompatibility(e,t){var r=e.attributes;for(const s in t.attributeData)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,t){var r=e.attributes,s=t.attributeData,i=["g",e.id];for(const n in r)s[n]&&i.push(n,s[n].location);return i.join("-")}initGeometryVao(e,t,r=!0){var s=this.gl,i=this.CONTEXT_UID,n=this.renderer.buffer,a=t.program,t=(a.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a),this.getSignature(e,a)),o=e.glVertexArrayObjects[this.CONTEXT_UID],h=o[t];if(h)return o[a.id]=h;var l=e.buffers,u=e.attributes,d={},c={};for(const g in l)d[g]=0,c[g]=0;for(const _ in u)!u[_].size&&a.attributeData[_]?u[_].size=a.attributeData[_].size:u[_].size||console.warn(`PIXI Geometry attribute '${_}' size cannot be determined (likely the bound shader does not have the attribute)`),d[u[_].buffer]+=u[_].size*y[u[_].type];for(const x in u){var p=u[x],f=p.size;void 0===p.stride&&(d[p.buffer]===f*y[p.type]?p.stride=0:p.stride=d[p.buffer]),void 0===p.start&&(p.start=c[p.buffer],c[p.buffer]+=f*y[p.type])}h=s.createVertexArray(),s.bindVertexArray(h);for(let e=0;e<l.length;e++){var m=l[e];n.bind(m),r&&m._glBuffers[i].refCount++}return this.activateVao(e,a),o[a.id]=h,o[t]=h,s.bindVertexArray(null),n.unbind(v.BUFFER_TYPE.ARRAY_BUFFER),h}disposeGeometry(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r,s=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=e.buffers,a=this.renderer?.buffer;if(e.disposeRunner.remove(this),s){if(a)for(let e=0;e<n.length;e++){var o=n[e]._glBuffers[this.CONTEXT_UID];o&&(o.refCount--,0!==o.refCount||t||a.dispose(n[e],t))}if(!t)for(const h in s)"g"===h[0]&&(r=s[h],this._activeVao===r&&this.unbind(),i.deleteVertexArray(r));delete e.glVertexArrayObjects[this.CONTEXT_UID]}}}disposeAll(t){var r=Object.keys(this.managedGeometries);for(let e=0;e<r.length;e++)this.disposeGeometry(this.managedGeometries[r[e]],t)}activateVao(e,t){var r=this.gl,s=this.CONTEXT_UID,i=this.renderer.buffer,n=e.buffers,a=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);let o=null;for(const d in a){var h=a[d],l=n[h.buffer],u=l._glBuffers[s];if(t.attributeData[d]){o!==u&&(i.bind(l),o=u);l=t.attributeData[d].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,h.divisor)}}}}draw(e,t,r,s){var i,n,a=this["gl"],o=this._activeGeometry;return o.indexBuffer?(n=2===(i=o.indexBuffer.data.BYTES_PER_ELEMENT)?a.UNSIGNED_SHORT:a.UNSIGNED_INT,2===i||4===i&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,t||o.indexBuffer.data.length,n,(r||0)*i,s||1):a.drawElements(e,t||o.indexBuffer.data.length,n,(r||0)*i):console.warn("unsupported index buffer type: uint32")):o.instanced?a.drawArraysInstanced(e,r,t||o.getSize(),s||1):a.drawArrays(e,r,t||o.getSize()),this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}n.extension={type:s.ExtensionType.RendererSystem,name:"geometry"},s.extensions.add(n),r.GeometrySystem=n},{"@pixi/constants":63,"@pixi/extensions":192,"@pixi/settings":282}],102:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ViewableBuffer=class{constructor(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[e+"View"]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}}}},{}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=e("@pixi/utils");const p={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};r.interleaveTypedArrays=function(t,r){let s=0,i=0;var n={};for(let e=0;e<t.length;e++)i+=r[e],s+=t[e].length;var a=new ArrayBuffer(4*s),o=null;let h=0;for(let e=0;e<t.length;e++){var l=r[e],u=t[e],d=c.getBufferType(u);n[d]||(n[d]=new p[d](a)),o=n[d];for(let e=0;e<u.length;e++)o[(e/l|0)*i+h+e%l]=u[e];h+=l}return new Float32Array(a)}},{"@pixi/utils":344}],104:[function(e,F,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e("./settings.js");var r=e("@pixi/color"),s=e("@pixi/constants"),i=e("@pixi/extensions"),n=e("@pixi/math"),a=e("@pixi/runner"),o=e("@pixi/settings"),h=e("@pixi/ticker"),l=e("@pixi/utils"),u=e("./autoDetectRenderer.js"),d=e("./background/BackgroundSystem.js"),c=e("./batch/BatchDrawCall.js"),p=e("./batch/BatchGeometry.js"),f=e("./batch/BatchRenderer.js"),m=e("./batch/BatchShaderGenerator.js"),g=e("./batch/BatchSystem.js"),_=e("./batch/BatchTextureArray.js"),x=e("./batch/ObjectRenderer.js"),v=e("./context/ContextSystem.js"),y=e("./filters/Filter.js"),T=e("./filters/FilterState.js"),b=e("./filters/FilterSystem.js"),E=(e("./filters/IFilterTarget.js"),e("./filters/spriteMask/SpriteMaskFilter.js")),S=e("./fragments/index.js"),A=e("./framebuffer/Framebuffer.js"),P=e("./framebuffer/FramebufferSystem.js"),M=e("./framebuffer/GLFramebuffer.js"),R=e("./framebuffer/MultisampleSystem.js"),w=e("./geometry/Attribute.js"),j=e("./geometry/Buffer.js"),C=e("./geometry/BufferSystem.js"),O=e("./geometry/Geometry.js"),L=e("./geometry/GeometrySystem.js"),N=e("./geometry/ViewableBuffer.js"),k=(e("./IRenderer.js"),e("./mask/MaskData.js")),U=e("./mask/MaskSystem.js"),G=e("./mask/ScissorSystem.js"),H=e("./mask/StencilSystem.js"),V=e("./plugin/PluginSystem.js"),X=e("./projection/ProjectionSystem.js"),W=e("./render/ObjectRendererSystem.js"),Y=e("./Renderer.js"),z=e("./renderTexture/BaseRenderTexture.js"),$=e("./renderTexture/GenerateTextureSystem.js"),q=e("./renderTexture/RenderTexture.js"),K=e("./renderTexture/RenderTexturePool.js"),Q=e("./renderTexture/RenderTextureSystem.js"),I=e("./shader/GLProgram.js"),Z=e("./shader/Program.js"),J=e("./shader/Shader.js"),ee=e("./shader/ShaderSystem.js"),te=e("./shader/UniformGroup.js"),re=e("./shader/utils/checkMaxIfStatementsInShader.js"),se=e("./shader/utils/generateProgram.js"),B=e("./shader/utils/generateUniformBufferSync.js"),ie=e("./shader/utils/getTestContext.js"),ne=e("./shader/utils/uniformParsers.js"),ae=e("./shader/utils/unsafeEvalSupported.js"),oe=e("./startup/StartupSystem.js"),he=e("./state/State.js"),le=e("./state/StateSystem.js"),ue=(e("./system/ISystem.js"),e("./systems.js"),e("./textures/BaseTexture.js")),de=e("./textures/GLTexture.js"),ce=(e("./textures/resources/index.js"),e("./textures/Texture.js")),pe=e("./textures/TextureGCSystem.js"),fe=e("./textures/TextureMatrix.js"),me=e("./textures/TextureSystem.js"),ge=e("./textures/TextureUvs.js"),_e=e("./transformFeedback/TransformFeedback.js"),xe=e("./transformFeedback/TransformFeedbackSystem.js"),ve=e("./utils/Quad.js"),ye=e("./utils/QuadUv.js"),Te=e("./view/ViewSystem.js"),be=e("./system/SystemManager.js"),Ee=e("./textures/resources/BaseImageResource.js"),Se=e("./textures/resources/Resource.js"),Ae=e("./textures/resources/AbstractMultiResource.js"),Pe=e("./textures/resources/ArrayResource.js"),D=e("./textures/resources/autoDetectResource.js"),Me=e("./textures/resources/BufferResource.js"),Re=e("./textures/resources/CanvasResource.js"),we=e("./textures/resources/CubeResource.js"),je=e("./textures/resources/ImageBitmapResource.js"),Ce=e("./textures/resources/ImageResource.js"),Oe=e("./textures/resources/SVGResource.js"),e=e("./textures/resources/VideoResource.js");function Ie(r){var s;return r&&r.__esModule?r:(s=Object.create(null),r&&Object.keys(r).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(r,e),Object.defineProperty(s,e,t.get?t:{enumerable:!0,get:function(){return r[e]}}))}),s.default=r,s)}t.utils=Ie(l),t.autoDetectRenderer=u.autoDetectRenderer,t.BackgroundSystem=d.BackgroundSystem,t.BatchDrawCall=c.BatchDrawCall,t.BatchGeometry=p.BatchGeometry,t.BatchRenderer=f.BatchRenderer,t.BatchShaderGenerator=m.BatchShaderGenerator,t.BatchSystem=g.BatchSystem,t.BatchTextureArray=_.BatchTextureArray,t.ObjectRenderer=x.ObjectRenderer,t.ContextSystem=v.ContextSystem,t.Filter=y.Filter,t.FilterState=T.FilterState,t.FilterSystem=b.FilterSystem,t.SpriteMaskFilter=E.SpriteMaskFilter,t.defaultFilterVertex=S.defaultFilterVertex,t.defaultVertex=S.defaultVertex,t.Framebuffer=A.Framebuffer,t.FramebufferSystem=P.FramebufferSystem,t.GLFramebuffer=M.GLFramebuffer,t.MultisampleSystem=R.MultisampleSystem,t.Attribute=w.Attribute,t.Buffer=j.Buffer,t.BufferSystem=C.BufferSystem,t.Geometry=O.Geometry,t.GeometrySystem=L.GeometrySystem,t.ViewableBuffer=N.ViewableBuffer,t.MaskData=k.MaskData,t.MaskSystem=U.MaskSystem,t.ScissorSystem=G.ScissorSystem,t.StencilSystem=H.StencilSystem,t.PluginSystem=V.PluginSystem,t.ProjectionSystem=X.ProjectionSystem,t.ObjectRendererSystem=W.ObjectRendererSystem,t.Renderer=Y.Renderer,t.BaseRenderTexture=z.BaseRenderTexture,t.GenerateTextureSystem=$.GenerateTextureSystem,t.RenderTexture=q.RenderTexture,t.RenderTexturePool=K.RenderTexturePool,t.RenderTextureSystem=Q.RenderTextureSystem,t.GLProgram=I.GLProgram,t.IGLUniformData=I.IGLUniformData,t.Program=Z.Program,t.Shader=J.Shader,t.ShaderSystem=ee.ShaderSystem,t.UniformGroup=te.UniformGroup,t.checkMaxIfStatementsInShader=re.checkMaxIfStatementsInShader,t.generateProgram=se.generateProgram,t.createUBOElements=B.createUBOElements,t.generateUniformBufferSync=B.generateUniformBufferSync,t.getUBOData=B.getUBOData,t.getTestContext=ie.getTestContext,t.uniformParsers=ne.uniformParsers,t.unsafeEvalSupported=ae.unsafeEvalSupported,t.StartupSystem=oe.StartupSystem,t.State=he.State,t.StateSystem=le.StateSystem,t.BaseTexture=ue.BaseTexture,t.GLTexture=de.GLTexture,t.Texture=ce.Texture,t.TextureGCSystem=pe.TextureGCSystem,t.TextureMatrix=fe.TextureMatrix,t.TextureSystem=me.TextureSystem,t.TextureUvs=ge.TextureUvs,t.TransformFeedback=_e.TransformFeedback,t.TransformFeedbackSystem=xe.TransformFeedbackSystem,t.Quad=ve.Quad,t.QuadUv=ye.QuadUv,t.ViewSystem=Te.ViewSystem,t.SystemManager=be.SystemManager,t.BaseImageResource=Ee.BaseImageResource,t.Resource=Se.Resource,t.AbstractMultiResource=Ae.AbstractMultiResource,t.ArrayResource=Pe.ArrayResource,t.INSTALLED=D.INSTALLED,t.autoDetectResource=D.autoDetectResource,t.BufferResource=Me.BufferResource,t.CanvasResource=Re.CanvasResource,t.CubeResource=we.CubeResource,t.ImageBitmapResource=je.ImageBitmapResource,t.ImageResource=Ce.ImageResource,t.SVGResource=Oe.SVGResource,t.VideoResource=e.VideoResource,t.VERSION="7.2.4",Object.keys(r).forEach(function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}),Object.keys(s).forEach(function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}),Object.keys(i).forEach(function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}),Object.keys(n).forEach(function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}),Object.keys(a).forEach(function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}),Object.keys(o).forEach(function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}),Object.keys(h).forEach(function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})})},{"./IRenderer.js":64,"./Renderer.js":65,"./autoDetectRenderer.js":66,"./background/BackgroundSystem.js":67,"./batch/BatchDrawCall.js":68,"./batch/BatchGeometry.js":69,"./batch/BatchRenderer.js":70,"./batch/BatchShaderGenerator.js":71,"./batch/BatchSystem.js":72,"./batch/BatchTextureArray.js":73,"./batch/ObjectRenderer.js":74,"./context/ContextSystem.js":79,"./filters/Filter.js":80,"./filters/FilterState.js":81,"./filters/FilterSystem.js":82,"./filters/IFilterTarget.js":83,"./filters/spriteMask/SpriteMaskFilter.js":86,"./fragments/index.js":91,"./framebuffer/Framebuffer.js":92,"./framebuffer/FramebufferSystem.js":93,"./framebuffer/GLFramebuffer.js":94,"./framebuffer/MultisampleSystem.js":95,"./geometry/Attribute.js":96,"./geometry/Buffer.js":97,"./geometry/BufferSystem.js":98,"./geometry/Geometry.js":100,"./geometry/GeometrySystem.js":101,"./geometry/ViewableBuffer.js":102,"./mask/MaskData.js":106,"./mask/MaskSystem.js":107,"./mask/ScissorSystem.js":108,"./mask/StencilSystem.js":109,"./plugin/PluginSystem.js":110,"./projection/ProjectionSystem.js":111,"./render/ObjectRendererSystem.js":117,"./renderTexture/BaseRenderTexture.js":112,"./renderTexture/GenerateTextureSystem.js":113,"./renderTexture/RenderTexture.js":114,"./renderTexture/RenderTexturePool.js":115,"./renderTexture/RenderTextureSystem.js":116,"./settings.js":118,"./shader/GLProgram.js":119,"./shader/Program.js":120,"./shader/Shader.js":121,"./shader/ShaderSystem.js":122,"./shader/UniformGroup.js":123,"./shader/utils/checkMaxIfStatementsInShader.js":126,"./shader/utils/generateProgram.js":129,"./shader/utils/generateUniformBufferSync.js":130,"./shader/utils/getTestContext.js":134,"./shader/utils/uniformParsers.js":141,"./shader/utils/unsafeEvalSupported.js":142,"./startup/StartupSystem.js":143,"./state/State.js":144,"./state/StateSystem.js":145,"./system/ISystem.js":147,"./system/SystemManager.js":148,"./systems.js":149,"./textures/BaseTexture.js":150,"./textures/GLTexture.js":151,"./textures/Texture.js":152,"./textures/TextureGCSystem.js":153,"./textures/TextureMatrix.js":154,"./textures/TextureSystem.js":155,"./textures/TextureUvs.js":156,"./textures/resources/AbstractMultiResource.js":157,"./textures/resources/ArrayResource.js":158,"./textures/resources/BaseImageResource.js":159,"./textures/resources/BufferResource.js":160,"./textures/resources/CanvasResource.js":161,"./textures/resources/CubeResource.js":162,"./textures/resources/ImageBitmapResource.js":164,"./textures/resources/ImageResource.js":165,"./textures/resources/Resource.js":166,"./textures/resources/SVGResource.js":167,"./textures/resources/VideoResource.js":168,"./textures/resources/autoDetectResource.js":169,"./textures/resources/index.js":170,"./transformFeedback/TransformFeedback.js":172,"./transformFeedback/TransformFeedbackSystem.js":173,"./utils/Quad.js":174,"./utils/QuadUv.js":175,"./view/ViewSystem.js":176,"@pixi/color":48,"@pixi/constants":63,"@pixi/extensions":192,"@pixi/math":242,"@pixi/runner":278,"@pixi/settings":282,"@pixi/ticker":330,"@pixi/utils":344}],105:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.AbstractMaskSystem=class{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){var t=this.renderer["gl"],r=this.getStackLength(),e=(this.maskStack=e,this.getStackLength());e!==r&&(0===e?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}},{}],106:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("../filters/Filter.js");r.MaskData=class{constructor(e=null){this.type=s.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=i.Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=s.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}},{"../filters/Filter.js":80,"@pixi/constants":63}],107:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/constants"),s=e("@pixi/extensions"),h=e("../filters/spriteMask/SpriteMaskFilter.js"),n=e("./MaskData.js");class a{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;r.isMaskData||((s=this.maskDataPool.pop()||new n.MaskData).pooled=!0,s.maskObject=t,r=s);var s,t=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(t),r._colorMask=t?t._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==i.MASK_TYPES.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case i.MASK_TYPES.SCISSOR:this.renderer.scissor.push(r);break;case i.MASK_TYPES.STENCIL:this.renderer.stencil.push(r);break;case i.MASK_TYPES.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case i.MASK_TYPES.COLOR:this.pushColorMask(r)}r.type===i.MASK_TYPES.SPRITE&&this.maskStack.push(r)}pop(e){var t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case i.MASK_TYPES.SCISSOR:this.renderer.scissor.pop(t);break;case i.MASK_TYPES.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case i.MASK_TYPES.SPRITE:this.popSpriteMask(t);break;case i.MASK_TYPES.COLOR:this.popColorMask(t)}t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length&&(e=this.maskStack[this.maskStack.length-1]).type===i.MASK_TYPES.SPRITE&&e._filters&&(e._filters[0].maskSprite=e.maskObject)}}detect(e){var t=e.maskObject;t?t.isSprite?e.type=i.MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=i.MASK_TYPES.SCISSOR:e.type=i.MASK_TYPES.STENCIL:e.type=i.MASK_TYPES.COLOR}pushSpriteMask(e){var t=e["maskObject"],r=e._target;let s=e._filters;s=(s=s||this.alphaMaskPool[this.alphaMaskIndex])||(this.alphaMaskPool[this.alphaMaskIndex]=[new h.SpriteMaskFilter]);var i=this.renderer,n=i.renderTexture;let a,o;o=n.current?(n=n.current,a=e.resolution||n.resolution,e.multisample??n.multisample):(a=e.resolution||i.resolution,e.multisample??i.multisample),s[0].resolution=a,s[0].multisample=o,s[0].maskSprite=t;n=r.filterArea;r.filterArea=t.getBounds(!0),i.filter.push(r,s),r.filterArea=n,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){var t=e._colorMask,e=e._colorMask=t&e.colorMask;e!==t&&this.renderer.gl.colorMask(0!=(1&e),0!=(2&e),0!=(4&e),0!=(8&e))}popColorMask(e){var e=e._colorMask,t=0<this.maskStack.length?this.maskStack[this.maskStack.length-1]._colorMask:15;t!==e&&this.renderer.gl.colorMask(0!=(1&t),0!=(2&t),0!=(4&t),0!=(8&t))}destroy(){this.renderer=null}}a.extension={type:s.ExtensionType.RendererSystem,name:"mask"},s.extensions.add(a),r.MaskSystem=a},{"../filters/spriteMask/SpriteMaskFilter.js":86,"./MaskData.js":106,"@pixi/constants":63,"@pixi/extensions":192}],108:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/extensions"),n=e("@pixi/math"),i=e("@pixi/settings"),e=e("./AbstractMaskSystem.js");const a=new n.Matrix,o=[],h=class extends e.AbstractMaskSystem{constructor(e){super(e),this.glConst=i.settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var t,r,s,i;e._scissorRectLocal||(t=e._scissorRect,i=e["maskObject"],r=this["renderer"],s=r.renderTexture,i=i.getBounds(!0,o.pop()??new n.Rectangle),this.roundFrameToPixels(i,(s.current||r).resolution,s.sourceFrame,s.destinationFrame,r.projection.transform),t&&i.fit(t),e._scissorRectLocal=i)}static isMatrixRotated(e){var t,r,s;return!!e&&({a:e,b:t,c:r,d:s}=e,1e-4<Math.abs(t)||1e-4<Math.abs(r))&&(1e-4<Math.abs(e)||1e-4<Math.abs(s))}testScissor(e){var t=e["maskObject"];if(!t.isFastRect||!t.isFastRect())return!1;if(h.isMatrixRotated(t.worldTransform))return!1;if(h.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);t=e._scissorRectLocal;return 0<t.width&&0<t.height}roundFrameToPixels(e,t,r,s,i){h.isMatrixRotated(i)||((i=i?a.copyFrom(i):a.identity()).translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(i,e),e.fit(s),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer["gl"];e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){var t=this.renderer["gl"];e&&o.push(e._scissorRectLocal),0<this.getStackLength()?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};e=h;e.extension={type:s.ExtensionType.RendererSystem,name:"scissor"},s.extensions.add(e),r.ScissorSystem=e},{"./AbstractMaskSystem.js":105,"@pixi/extensions":192,"@pixi/math":242,"@pixi/settings":282}],109:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/extensions"),i=e("@pixi/settings");class n extends e("./AbstractMaskSystem.js").AbstractMaskSystem{constructor(e){super(e),this.glConst=i.settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){var t=e.maskObject,r=this.renderer["gl"],s=e._stencilCounter,i=(0===s&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,e._colorMask);0!==i&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,r.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))),this._useCurrent()}pop(e){var t,r,s=this.renderer.gl;0===this.getStackLength()?s.disable(s.STENCIL_TEST):(0!==(r=(t=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null)?t._colorMask:15)&&(t._colorMask=0,s.colorMask(!1,!1,!1,!1)),s.stencilOp(s.KEEP,s.KEEP,s.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==r&&(t._colorMask=r,s.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))),this._useCurrent())}_useCurrent(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}n.extension={type:s.ExtensionType.RendererSystem,name:"stencil"},s.extensions.add(n),r.StencilSystem=n},{"./AbstractMaskSystem.js":105,"@pixi/extensions":192,"@pixi/settings":282}],110:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/extensions"),i=e("@pixi/utils");class n{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return i.deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return i.deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return i.deprecation("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){var e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}n.extension={type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem],name:"_plugin"},s.extensions.add(n),r.PluginSystem=n},{"@pixi/extensions":192,"@pixi/utils":344}],111:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/extensions"),i=e("@pixi/math");class n{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new i.Matrix,this.transform=null}update(e,t,r,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,s),this.transform&&this.projectionMatrix.append(this.transform);t=this.renderer;t.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,t.globalUniforms.update(),t.shader.shader&&t.shader.syncUniformGroup(t.shader.shader.uniforms.globals)}calculateProjection(e,t,r,s){var i=this.projectionMatrix,s=s?-1:1;i.identity(),i.a=1/t.width*2,i.d=s*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-s-t.y*i.d}setTransform(e){}destroy(){this.renderer=null}}n.extension={type:s.ExtensionType.RendererSystem,name:"projection"},s.extensions.add(n),r.ProjectionSystem=n},{"@pixi/extensions":192,"@pixi/math":242}],112:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/color"),i=e("@pixi/constants"),n=e("../framebuffer/Framebuffer.js");class a extends e("../textures/BaseTexture.js").BaseTexture{constructor(e={}){(e="number"==typeof e?{width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}:e).width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=i.MSAA_QUALITY.NONE),super(null,e),this.mipmap=i.MIPMAP_MODES.OFF,this.valid=!0,this._clear=new s.Color([0,0,0,0]),this.framebuffer=new n.Framebuffer(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}r.BaseRenderTexture=a},{"../framebuffer/Framebuffer.js":92,"../textures/BaseTexture.js":150,"@pixi/color":48,"@pixi/constants":63}],113:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/extensions"),i=e("@pixi/math"),n=e("./RenderTexture.js");const a=new i.Transform;class o{constructor(e){this.renderer=e,this._tempMatrix=new i.Matrix}generateTexture(e,t){const{region:r,...s}=t||{};var t=r||e.getLocalBounds(null,!0),i=(0===t.width&&(t.width=1),0===t.height&&(t.height=1),n.RenderTexture.create({width:t.width,height:t.height,...s})),t=(this._tempMatrix.tx=-t.x,this._tempMatrix.ty=-t.y,e.transform);return e.transform=a,this.renderer.render(e,{renderTexture:i,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=t,i}destroy(){}}o.extension={type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem],name:"textureGenerator"},s.extensions.add(o),r.GenerateTextureSystem=o},{"./RenderTexture.js":114,"@pixi/extensions":192,"@pixi/math":242}],114:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../textures/Texture.js"),i=e("./BaseRenderTexture.js");class n extends s.Texture{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){var s=this.baseTexture.resolution,e=Math.round(e*s)/s,t=Math.round(t*s)/s;this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r&&this.baseTexture.resize(e,t),this.updateUvs()}setResolution(e){var t=this["baseTexture"];t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new n(new i.BaseRenderTexture(e))}}r.RenderTexture=n},{"../textures/Texture.js":152,"./BaseRenderTexture.js":112}],115:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("@pixi/constants"),o=e("@pixi/utils"),s=e("./BaseRenderTexture.js"),i=e("./RenderTexture.js");class n{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=a.MSAA_QUALITY.NONE){e=new s.BaseRenderTexture(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new i.RenderTexture(e)}getOptimalTexture(e,t,r=1,s=a.MSAA_QUALITY.NONE){let i,n=(e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?i=1<s?-s:-1:(e=o.nextPow2(e),t=o.nextPow2(t),i=((65535&e)<<16|65535&t)>>>0,1<s&&(i+=4294967296*s)),this.texturePool[i]||(this.texturePool[i]=[]),this.texturePool[i].pop());return(n=n||this.createTexture(e,t,s)).filterPoolKey=i,n.setResolution(r),n}getFilterTexture(e,t,r){t=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||a.MSAA_QUALITY.NONE);return t.filterFrame=e.filterFrame,t}returnTexture(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=!1!==e)for(const r in this.texturePool){var t=this.texturePool[r];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0)}this.texturePool={}}setScreenSize(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){this.enableFullScreen=0<e.width&&0<e.height;for(const r in this.texturePool)if(Number(r)<0){var t=this.texturePool[r];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}n.SCREEN_KEY=-1,r.RenderTexturePool=n},{"./BaseRenderTexture.js":112,"./RenderTexture.js":114,"@pixi/constants":63,"@pixi/utils":344}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("@pixi/color"),s=e("@pixi/extensions"),i=e("@pixi/math");const h=new i.Rectangle,l=new i.Rectangle;class n{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new i.Rectangle,this.destinationFrame=new i.Rectangle,this.viewportFrame=new i.Rectangle}contextChange(){var e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){var s=this.renderer;let i,n,a;(this.current=e)?(i=e.baseTexture,a=i.resolution,t||(h.width=e.frame.width,h.height=e.frame.height,t=h),r||(l.x=e.frame.x,l.y=e.frame.y,l.width=t.width,l.height=t.height,r=l),n=i.framebuffer):(a=s.resolution,t||(h.width=s._view.screen.width,h.height=s._view.screen.height,t=h),r||((r=h).width=t.width,r.height=t.height));var o=this.viewportFrame;o.x=r.x*a,o.y=r.y*a,o.width=r.width*a,o.height=r.height*a,e||(o.y=s.view.height-(o.y+o.height)),o.ceil(),this.renderer.framebuffer.bind(n,o),this.renderer.projection.update(r,t,a,!n),e?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){var r,s,i,n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,e=o.Color.shared.setValue(e||n),n=((this.current&&0<this.current.baseTexture.alphaMode||!this.current&&this._rendererPremultipliedAlpha)&&e.premultiply(e.alpha),this.destinationFrame),a=this.current?this.current.baseTexture:this.renderer._view.screen,n=n.width!==a.width||n.height!==a.height;n&&({x:a,y:r,width:s,height:i}=this.viewportFrame,a=Math.round(a),r=Math.round(r),s=Math.round(s),i=Math.round(i),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,r,s,i)),this.renderer.framebuffer.clear(e.red,e.green,e.blue,e.alpha,t),n&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}n.extension={type:s.ExtensionType.RendererSystem,name:"renderTexture"},s.extensions.add(n),r.RenderTextureSystem=n},{"@pixi/color":48,"@pixi/extensions":192,"@pixi/math":242}],117:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("@pixi/extensions");class s{constructor(e){this.renderer=e}render(e,t){var r,s=this.renderer;let i,n,a,o;t&&(i=t.renderTexture,n=t.clear,a=t.transform,o=t.skipUpdateTransform),this.renderingToScreen=!i,s.runners.prerender.emit(),s.emit("prerender"),s.projection.transform=a,s.context.isLost||(i||(this.lastObjectRendered=e),o||(r=e.enableTempParent(),e.updateTransform(),e.disableTempParent(r)),s.renderTexture.bind(i),s.batch.currentRenderer.start(),(n??s.background.clearBeforeRender)&&s.renderTexture.clear(),e.render(s),s.batch.currentRenderer.flush(),i&&(t.blit&&s.framebuffer.blit(),i.baseTexture.update()),s.runners.postrender.emit(),s.projection.transform=null,s.emit("postrender"))}destroy(){this.renderer=null,this.lastObjectRendered=null}}s.extension={type:e.ExtensionType.RendererSystem,name:"objectRenderer"},e.extensions.add(s),r.ObjectRendererSystem=s},{"@pixi/extensions":192}],118:[function(e,t,r){"use strict";var s=e("@pixi/constants"),i=e("@pixi/settings"),n=e("@pixi/utils"),a=e("./batch/BatchRenderer.js"),o=e("./filters/Filter.js"),h=e("./shader/Program.js"),l=(e("./systems.js"),e("./textures/BaseTexture.js")),u=e("./context/ContextSystem.js"),d=e("./background/BackgroundSystem.js"),c=e("./view/ViewSystem.js"),p=e("./startup/StartupSystem.js"),f=e("./textures/TextureGCSystem.js");i.settings.PREFER_ENV=s.ENV.WEBGL2,i.settings.STRICT_TEXTURE_CACHE=!1,i.settings.RENDER_OPTIONS={...u.ContextSystem.defaultOptions,...d.BackgroundSystem.defaultOptions,...c.ViewSystem.defaultOptions,...p.StartupSystem.defaultOptions},Object.defineProperties(i.settings,{WRAP_MODE:{get(){return l.BaseTexture.defaultOptions.wrapMode},set(e){n.deprecation("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),l.BaseTexture.defaultOptions.wrapMode=e}},SCALE_MODE:{get(){return l.BaseTexture.defaultOptions.scaleMode},set(e){n.deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),l.BaseTexture.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get(){return l.BaseTexture.defaultOptions.mipmap},set(e){n.deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),l.BaseTexture.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get(){return l.BaseTexture.defaultOptions.anisotropicLevel},set(e){n.deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),l.BaseTexture.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get(){return n.deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),o.Filter.defaultResolution},set(e){o.Filter.defaultResolution=e}},FILTER_MULTISAMPLE:{get(){return n.deprecation("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),o.Filter.defaultMultisample},set(e){o.Filter.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get(){return a.BatchRenderer.defaultMaxTextures},set(e){n.deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),a.BatchRenderer.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get(){return a.BatchRenderer.defaultBatchSize},set(e){n.deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),a.BatchRenderer.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get(){return a.BatchRenderer.canUploadSameBuffer},set(e){n.deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),a.BatchRenderer.canUploadSameBuffer=e}},GC_MODE:{get(){return f.TextureGCSystem.defaultMode},set(e){n.deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),f.TextureGCSystem.defaultMode=e}},GC_MAX_IDLE:{get(){return f.TextureGCSystem.defaultMaxIdle},set(e){n.deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),f.TextureGCSystem.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get(){return f.TextureGCSystem.defaultCheckCountMax},set(e){n.deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),f.TextureGCSystem.defaultCheckCountMax=e}},PRECISION_VERTEX:{get(){return h.Program.defaultVertexPrecision},set(e){n.deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),h.Program.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get(){return h.Program.defaultFragmentPrecision},set(e){n.deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),h.Program.defaultFragmentPrecision=e}}})},{"./background/BackgroundSystem.js":67,"./batch/BatchRenderer.js":70,"./context/ContextSystem.js":79,"./filters/Filter.js":80,"./shader/Program.js":120,"./startup/StartupSystem.js":143,"./systems.js":149,"./textures/BaseTexture.js":150,"./textures/TextureGCSystem.js":153,"./view/ViewSystem.js":176,"@pixi/constants":63,"@pixi/settings":282,"@pixi/utils":344}],119:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GLProgram=class{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}},r.IGLUniformData=class{}},{}],120:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/constants"),n=e("@pixi/utils"),s=e("./defaultProgram.js"),a=e("./defaultProgram2.js"),o=(e("./utils/index.js"),e("./utils/setPrecision.js")),h=e("./utils/getMaxFragmentPrecision.js");let l=0;const u={},d=class{constructor(e,t,r="pixi-shader",s={}){this.extra={},this.id=l++,this.vertexSrc=e||d.defaultVertexSrc,this.fragmentSrc=t||d.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),u[r]?(u[r]++,r+="-"+u[r]):u[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
`+this.vertexSrc,this.fragmentSrc=`#define SHADER_NAME ${r}
`+this.fragmentSrc,this.vertexSrc=o.setPrecision(this.vertexSrc,d.defaultVertexPrecision,i.PRECISION.HIGH),this.fragmentSrc=o.setPrecision(this.fragmentSrc,d.defaultFragmentPrecision,h.getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return a.default}static get defaultFragmentSrc(){return s.default}static from(e,t,r){var s=e+t;let i=n.ProgramCache[s];return i||(n.ProgramCache[s]=i=new d(e,t,r)),i}};e=d;e.defaultVertexPrecision=i.PRECISION.HIGH,e.defaultFragmentPrecision=n.isMobile.apple.device?i.PRECISION.HIGH:i.PRECISION.MEDIUM,r.Program=e},{"./defaultProgram.js":124,"./defaultProgram2.js":125,"./utils/getMaxFragmentPrecision.js":133,"./utils/index.js":136,"./utils/setPrecision.js":140,"@pixi/constants":63,"@pixi/utils":344}],121:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/runner"),i=e("./Program.js"),n=e("./UniformGroup.js");r.Shader=class a{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof n.UniformGroup?this.uniformGroup=t:this.uniformGroup=new n.UniformGroup(t):this.uniformGroup=new n.UniformGroup({}),this.disposeRunner=new s.Runner("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const s in t.uniforms){var r=t.uniforms[s];if(r.group&&this.checkUniformExists(e,r))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){return e=i.Program.from(e,t),new a(e,r)}}},{"./Program.js":120,"./UniformGroup.js":123,"@pixi/runner":278}],122:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/extensions"),i=(e("./utils/index.js"),e("./utils/generateProgram.js")),a=e("./utils/generateUniformBufferSync.js"),n=e("./utils/unsafeEvalSupported.js"),o=e("./utils/generateUniformsSync.js");let h=0;const l={textureCount:0,uboCount:0};class u{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=h++}systemCheck(){if(!n.unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var r=e.program,s=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(s.program)),t||(l.textureCount=0,l.uboCount=0,this.syncUniformGroup(e.uniformGroup,l)),s}setUniforms(e){var t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){var r=this.getGlProgram();e.static&&e.dirtyId===r.uniformDirtyGroups[e.id]||(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=o.generateUniformsSync(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){var r,s=this.getGlProgram();e.static&&0===e.dirtyId&&s.uniformGroups[e.id]||(e.dirtyId=0,r=s.uniformGroups[e.id]||this.createSyncBufferGroup(e,s,t),e.buffer.update(),r(s.uniformData,e.uniforms,this.renderer,l,e.buffer)),this.renderer.buffer.bindBufferBase(e.buffer,s.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){var s=this.renderer["gl"],i=(this.renderer.buffer.bind(e.buffer),this.gl.getUniformBlockIndex(t.program,r)),r=(t.uniformBufferBindings[r]=this.shader.uniformBindCount,s.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++,this.getSignature(e,this.shader.program.uniformData,"ubo"));let n=this._uboCache[r];return n=n||(this._uboCache[r]=a.generateUniformBufferSync(e,this.shader.program.uniformData)),e.autoManage&&(s=new Float32Array(n.size/4),e.buffer.update(s)),t.uniformGroups[e.id]=n.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){var s=[r+"-"];for(const i in e.uniforms)s.push(i),t[i]&&s.push(t[i].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){var t=this.gl,e=e.program,t=i.generateProgram(t,e);return e.glPrograms[this.renderer.CONTEXT_UID]=t}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}u.extension={type:s.ExtensionType.RendererSystem,name:"shader"},s.extensions.add(u),r.ShaderSystem=u},{"./utils/generateProgram.js":129,"./utils/generateUniformBufferSync.js":130,"./utils/generateUniformsSync.js":131,"./utils/index.js":136,"./utils/unsafeEvalSupported.js":142,"@pixi/extensions":192}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("../geometry/Buffer.js");let n=0;r.UniformGroup=class a{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=n++,this.static=!!t,this.ubo=!!r,e instanceof i.Buffer?(this.buffer=e,this.buffer.type=s.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new i.Buffer(new Float32Array(1)),this.buffer.type=s.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new a(t,r)}static from(e,t,r){return new a(e,t,r)}static uboFrom(e,t){return new a(e,t??!0,!0)}}},{"../geometry/Buffer.js":97,"@pixi/constants":63}],124:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},{}],125:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},{}],126:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");r.checkMaxIfStatementsInShader=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var s=i.replace(/%forloop%/gi,function(t){let r="";for(let e=0;e<t;++e)0<e&&(r+="\nelse "),e<t-1&&(r+=`if(test == ${e}.0){}`);return r}(e));if(t.shaderSource(r,s),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}},{}],127:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compileShader=function(e,t,r){return t=e.createShader(t),e.shaderSource(t,r),e.compileShader(t),t}},{}],128:[function(e,t,r){"use strict";function s(e){var t=new Array(e);for(let e=0;e<t.length;e++)t[e]=!1;return t}Object.defineProperty(r,"__esModule",{value:!0}),r.defaultValue=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return s(2*t);case"bvec3":return s(3*t);case"bvec4":return s(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}},{}],129:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=e("../GLProgram.js"),d=e("./compileShader.js"),c=e("./defaultValue.js"),p=e("./getAttributeData.js"),f=e("./getUniformData.js"),m=e("./logProgramError.js");r.generateProgram=function(t,r){var e=d.compileShader(t,t.VERTEX_SHADER,r.vertexSrc),s=d.compileShader(t,t.FRAGMENT_SHADER,r.fragmentSrc),i=t.createProgram(),n=(t.attachShader(i,e),t.attachShader(i,s),r.extra?.transformFeedbackVaryings);if(n&&("function"!=typeof t.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,n.names,"separate"===n.bufferMode?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||m.logProgramError(t,i,e,s),r.attributeData=p.getAttributeData(i,t),r.uniformData=f.getUniformData(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(r.vertexSrc)){var a=Object.keys(r.attributeData);a.sort((e,t)=>t<e?1:-1);for(let e=0;e<a.length;e++)r.attributeData[a[e]].location=e,t.bindAttribLocation(i,e,a[e]);t.linkProgram(i)}t.deleteShader(e),t.deleteShader(s);var o={};for(const l in r.uniformData){var h=r.uniformData[l];o[l]={location:t.getUniformLocation(i,l),value:c.defaultValue(h.type,h.size)}}return new u.GLProgram(i,o)}},{"../GLProgram.js":119,"./compileShader.js":127,"./defaultValue.js":128,"./getAttributeData.js":132,"./getUniformData.js":135,"./logProgramError.js":137}],130:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("./index.js");var d=e("./uniformParsers.js"),c=e("./mapSize.js");function p(e,t,r,s,i){r.buffer.update(i)}const f={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},m={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function g(e){var t=e.map(e=>({data:e,offset:0,dataLen:0,dirty:0}));let r=0,s=0,i=0;for(let e=0;e<t.length;e++){var n,a=t[e];r=m[a.data.type],1<a.data.size&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,s%r!=0&&s<16&&(n=s%r%16,s+=n,i+=n),16<s+r?(i=16*Math.ceil(i/16),a.offset=i,i+=r,s=r):(a.offset=i,s+=r,i+=r)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}function _(e,t){var r=[];for(const s in e)t[s]&&r.push(t[s]);return r.sort((e,t)=>e.index-t.index),r}r.createUBOElements=g,r.generateUniformBufferSync=function(r,e){if(!r.autoManage)return{size:0,syncFunc:p};var{uboElements:s,size:e}=g(_(r.uniforms,e)),i=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let e=0;e<s.length;e++){var n,a,o=s[e],h=r.uniforms[o.data.name],l=o.data.name;let t=!1;for(let e=0;e<d.uniformParsers.length;e++){var u=d.uniformParsers[e];if(u.codeUbo&&u.test(o.data,h)){i.push(`offset = ${o.offset/4};`,d.uniformParsers[e].codeUbo(o.data.name,h)),t=!0;break}}t||(1<o.data.size?(n=c.mapSize(o.data.type),a=Math.max(m[o.data.type]/16,1),i.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${o.offset/4};

                t = 0;

                for(var i=0; i < ${o.data.size*a}; i++)
                {
                    for(var j = 0; j < ${n=n/a}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${(4-n%4)%4};
                }

                `)):(a=f[o.data.type],i.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${o.offset/4};
                ${a};
                `)))}return i.push(`
       renderer.buffer.update(buffer);
    `),{size:e,syncFunc:new Function("ud","uv","renderer","syncData","buffer",i.join("\n"))}},r.getUBOData=_},{"./index.js":136,"./mapSize.js":138,"./uniformParsers.js":141}],131:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./uniformParsers.js");const h={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},l={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};r.generateUniformsSync=function(e,t){var r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const a in e.uniforms){var s=t[a];if(s){var i,n=e.uniforms[a];let t=!1;for(let e=0;e<o.uniformParsers.length;e++)if(o.uniformParsers[e].test(s,n)){r.push(o.uniformParsers[e].code(a,n)),t=!0;break}t||(i=(1!==s.size||s.isArray?l:h)[s.type].replace("location",`ud["${a}"].location`),r.push(`
            cu = ud["${a}"];
            cv = cu.value;
            v = uv["${a}"];
            ${i};`))}else e.uniforms[a]?.group&&(e.uniforms[a].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${a}, '${a}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${a}, syncData);
                    `))}return new Function("ud","uv","renderer","syncData",r.join("\n"))}},{"./uniformParsers.js":141}],132:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./mapSize.js"),h=e("./mapType.js");r.getAttributeData=function(t,r){var s={},i=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES);for(let e=0;e<i;e++){var n,a=r.getActiveAttrib(t,e);a.name.startsWith("gl_")||(n={type:n=h.mapType(r,a.type),name:a.name,size:o.mapSize(n),location:r.getAttribLocation(t,a.name)},s[a.name]=n)}return s}},{"./mapSize.js":138,"./mapType.js":139}],133:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("./getTestContext.js");let n;r.getMaxFragmentPrecision=function(){var e;return n||(n=s.PRECISION.MEDIUM,(e=i.getTestContext())&&e.getShaderPrecisionFormat&&(e=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT),n=e.precision?s.PRECISION.HIGH:s.PRECISION.MEDIUM)),n}},{"./getTestContext.js":134,"@pixi/constants":63}],134:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("@pixi/settings");const n={};let a=n;r.getTestContext=function(){if(a===n||a?.isContextLost()){var t=i.settings.ADAPTER.createCanvas();let e;(e=i.settings.PREFER_ENV>=s.ENV.WEBGL2?t.getContext("webgl2",{}):e)||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),a=e}return a}},{"@pixi/constants":63,"@pixi/settings":282}],135:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=e("./defaultValue.js"),u=e("./mapType.js");r.getUniformData=function(t,r){var s={},i=r.getProgramParameter(t,r.ACTIVE_UNIFORMS);for(let e=0;e<i;e++){var n=r.getActiveUniform(t,e),a=n.name.replace(/\[.*?\]$/,""),o=!!n.name.match(/\[.*?\]$/),h=u.mapType(r,n.type);s[a]={name:a,index:e,type:h,size:n.size,isArray:o,value:l.defaultValue(h,n.size)}}return s}},{"./defaultValue.js":128,"./mapType.js":139}],136:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./checkMaxIfStatementsInShader.js"),i=e("./compileShader.js"),n=e("./defaultValue.js"),a=e("./generateUniformsSync.js"),o=e("./getMaxFragmentPrecision.js"),h=e("./getTestContext.js"),l=e("./logProgramError.js"),u=e("./mapSize.js"),d=e("./mapType.js"),c=e("./setPrecision.js"),p=e("./uniformParsers.js"),e=e("./unsafeEvalSupported.js");r.checkMaxIfStatementsInShader=s.checkMaxIfStatementsInShader,r.compileShader=i.compileShader,r.defaultValue=n.defaultValue,r.generateUniformsSync=a.generateUniformsSync,r.getMaxFragmentPrecision=o.getMaxFragmentPrecision,r.getTestContext=h.getTestContext,r.logProgramError=l.logProgramError,r.mapSize=u.mapSize,r.mapType=d.mapType,r.setPrecision=c.setPrecision,r.uniformParsers=p.uniformParsers,r.unsafeEvalSupported=e.unsafeEvalSupported},{"./checkMaxIfStatementsInShader.js":126,"./compileShader.js":127,"./defaultValue.js":128,"./generateUniformsSync.js":131,"./getMaxFragmentPrecision.js":133,"./getTestContext.js":134,"./logProgramError.js":137,"./mapSize.js":138,"./mapType.js":139,"./setPrecision.js":140,"./uniformParsers.js":141,"./unsafeEvalSupported.js":142}],137:[function(e,t,r){"use strict";function i(e,t){const r=e.getShaderSource(t).split("\n").map((e,t)=>t+": "+e);e=e.getShaderInfoLog(t),t=e.split("\n");const s={};t=t.map(e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(e=>!(!e||s[e])&&(s[e]=!0));const i=[""];t.forEach(e=>{r[e-1]=`%c${r[e-1]}%c`,i.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});t=r.join("\n");i[0]=t,console.error(e),console.groupCollapsed("click to view full shader code"),console.warn(...i),console.groupEnd()}Object.defineProperty(r,"__esModule",{value:!0}),r.logProgramError=function(e,t,r,s){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||i(e,r),e.getShaderParameter(s,e.COMPILE_STATUS)||i(e,s),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}},{}],138:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};r.mapSize=function(e){return s[e]}},{}],139:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=null;const n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};r.mapType=function(t,e){if(!i){var r=Object.keys(n);i={};for(let e=0;e<r.length;++e){var s=r[e];i[t[s]]=n[s]}}return i[e]}},{}],140:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/constants");r.setPrecision=function(t,r,s){if("precision"===t.substring(0,9))return s!==i.PRECISION.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t;{let e=r;return`precision ${e=r===i.PRECISION.HIGH&&s!==i.PRECISION.HIGH?i.PRECISION.MEDIUM:e} float;
`+t}}},{"@pixi/constants":63}],141:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.uniformParsers=[{test:e=>"float"===e.type&&1===e.size&&!e.isArray,code:e=>`
            if(uv["${e}"] !== ud["${e}"].value)
            {
                ud["${e}"].value = uv["${e}"]
                gl.uniform1f(ud["${e}"].location, uv["${e}"])
            }
            `},{test:(e,t)=>!("sampler2D"!==e.type&&"samplerCube"!==e.type&&"sampler2DArray"!==e.type||1!==e.size||e.isArray||null!=t&&void 0===t.castToBaseTexture),code:e=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${e}"], t);

            if(ud["${e}"].value !== t)
            {
                ud["${e}"].value = t;
                gl.uniform1i(ud["${e}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(e,t)=>"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a,code:e=>`
            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));
            `,codeUbo:e=>`
                var ${e}_matrix = uv.${e}.toArray(true);

                data[offset] = ${e}_matrix[0];
                data[offset+1] = ${e}_matrix[1];
                data[offset+2] = ${e}_matrix[2];
        
                data[offset + 4] = ${e}_matrix[3];
                data[offset + 5] = ${e}_matrix[4];
                data[offset + 6] = ${e}_matrix[5];
        
                data[offset + 8] = ${e}_matrix[6];
                data[offset + 9] = ${e}_matrix[7];
                data[offset + 10] = ${e}_matrix[8];
            `},{test:(e,t)=>"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${e}"].location, v.x, v.y);
                }`,codeUbo:e=>`
                v = uv.${e};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:e=>"vec2"===e.type&&1===e.size&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);
                }
            `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(e,t)=>"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:e=>"vec4"===e.type&&1===e.size&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])
                }`}]},{}],142:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let s;r.unsafeEvalSupported=function(){if("boolean"!=typeof s)try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");s=!0===e({a:"b"},"a","b")}catch(e){s=!1}return s}},{}],143:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("@pixi/extensions");class s{constructor(e){this.renderer=e}run(e){var t=this["renderer"];t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.2.4 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}s.defaultOptions={hello:!1},s.extension={type:[e.ExtensionType.RendererSystem,e.ExtensionType.CanvasRendererSystem],name:"startup"},e.extensions.add(s),r.StartupSystem=s},{"@pixi/extensions":192}],144:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants");r.State=class i{constructor(){this.data=0,this.blendMode=s.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==s.BLEND_MODES.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){var e=new i;return e.depthTest=!1,e.blend=!0,e}}},{"@pixi/constants":63}],145:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("@pixi/extensions"),n=e("./State.js"),a=e("./utils/mapWebGLBlendModesToPixi.js");const o=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=s.BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new n.State,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=a.mapWebGLBlendModesToPixi(e),this.set(this.defaultState),this.reset()}set(r){if(r=r||this.defaultState,this.stateId!==r.data){let e=this.stateId^r.data,t=0;for(;e;)1&e&&this.map[t].call(this,!!(r.data&1<<t)),e>>=1,t++;this.stateId=r.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,r)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(e){this.updateCheck(o.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(o.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){var t;e!==this.blendMode&&(this.blendMode=e,e=this.blendModes[e],t=this.gl,2===e.length?t.blendFunc(e[0],e[1]):t.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,t.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD)))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){var r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):t||-1===r||this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};e=o;e.extension={type:i.ExtensionType.RendererSystem,name:"state"},i.extensions.add(e),r.StateSystem=e},{"./State.js":144,"./utils/mapWebGLBlendModesToPixi.js":146,"@pixi/constants":63,"@pixi/extensions":192}],146:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants");r.mapWebGLBlendModesToPixi=function(e,t=[]){return t[s.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.ADD]=[e.ONE,e.ONE],t[s.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.NONE]=[0,0],t[s.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[s.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[s.BLEND_MODES.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[s.BLEND_MODES.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[s.BLEND_MODES.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[s.BLEND_MODES.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[s.BLEND_MODES.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}},{"@pixi/constants":63}],147:[function(e,t,r){},{}],148:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/runner");class i extends e("@pixi/utils").EventEmitter{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const r=(t.priority??[]).filter(e=>t.systems[e]);for(const e of[...r,...Object.keys(t.systems).filter(e=>!r.includes(e))])this.addSystem(t.systems[e],e)}addRunners(...e){e.forEach(e=>{this.runners[e]=new s.Runner(e)})}addSystem(e,t){var r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const s in this.runners)this.runners[s].add(r);return this}emitWithCustomOptions(r,s){const i=Object.keys(this._systemsHash);r.items.forEach(t=>{var e=i.find(e=>this._systemsHash[e]===t);t[r.name](s[e])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}r.SystemManager=i},{"@pixi/runner":278,"@pixi/utils":344}],149:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./background/BackgroundSystem.js"),i=e("./batch/BatchSystem.js"),n=e("./context/ContextSystem.js"),a=e("./filters/FilterSystem.js"),o=e("./framebuffer/FramebufferSystem.js"),h=e("./geometry/GeometrySystem.js"),l=e("./mask/MaskSystem.js"),u=e("./mask/ScissorSystem.js"),d=e("./mask/StencilSystem.js"),c=e("./plugin/PluginSystem.js"),p=e("./projection/ProjectionSystem.js"),f=e("./renderTexture/GenerateTextureSystem.js"),m=e("./renderTexture/RenderTextureSystem.js"),g=e("./shader/ShaderSystem.js"),_=e("./startup/StartupSystem.js"),x=e("./state/StateSystem.js"),v=e("./system/SystemManager.js"),y=e("./textures/TextureGCSystem.js"),T=e("./textures/TextureSystem.js"),b=e("./transformFeedback/TransformFeedbackSystem.js"),e=e("./view/ViewSystem.js");r.BackgroundSystem=s.BackgroundSystem,r.BatchSystem=i.BatchSystem,r.ContextSystem=n.ContextSystem,r.FilterSystem=a.FilterSystem,r.FramebufferSystem=o.FramebufferSystem,r.GeometrySystem=h.GeometrySystem,r.MaskSystem=l.MaskSystem,r.ScissorSystem=u.ScissorSystem,r.StencilSystem=d.StencilSystem,r.PluginSystem=c.PluginSystem,r.ProjectionSystem=p.ProjectionSystem,r.GenerateTextureSystem=f.GenerateTextureSystem,r.RenderTextureSystem=m.RenderTextureSystem,r.ShaderSystem=g.ShaderSystem,r.StartupSystem=_.StartupSystem,r.StateSystem=x.StateSystem,r.SystemManager=v.SystemManager,r.TextureGCSystem=y.TextureGCSystem,r.TextureSystem=T.TextureSystem,r.TransformFeedbackSystem=b.TransformFeedbackSystem,r.ViewSystem=e.ViewSystem},{"./background/BackgroundSystem.js":67,"./batch/BatchSystem.js":72,"./context/ContextSystem.js":79,"./filters/FilterSystem.js":82,"./framebuffer/FramebufferSystem.js":93,"./geometry/GeometrySystem.js":101,"./mask/MaskSystem.js":107,"./mask/ScissorSystem.js":108,"./mask/StencilSystem.js":109,"./plugin/PluginSystem.js":110,"./projection/ProjectionSystem.js":111,"./renderTexture/GenerateTextureSystem.js":113,"./renderTexture/RenderTextureSystem.js":116,"./shader/ShaderSystem.js":122,"./startup/StartupSystem.js":143,"./state/StateSystem.js":145,"./system/SystemManager.js":148,"./textures/TextureGCSystem.js":153,"./textures/TextureSystem.js":155,"./transformFeedback/TransformFeedbackSystem.js":173,"./view/ViewSystem.js":176}],150:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/constants"),p=e("@pixi/settings"),f=e("@pixi/utils"),m=e("./resources/autoDetectResource.js"),n=e("./resources/BufferResource.js"),g=e("./resources/Resource.js");const a={scaleMode:i.SCALE_MODES.NEAREST,format:i.FORMATS.RGBA,alphaMode:i.ALPHA_MODES.NPM},_=class extends f.EventEmitter{constructor(e=null,t=null){super();var{alphaMode:t,mipmap:r,anisotropicLevel:s,scaleMode:i,width:n,height:a,wrapMode:o,format:h,type:l,target:u,resolution:d,resourceOptions:c}=t=Object.assign({},_.defaultOptions,t);!e||e instanceof g.Resource||((e=m.autoDetectResource(e,c)).internal=!0),this.resolution=d||p.settings.RESOLUTION,this.width=Math.round((n||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=s,this._wrapMode=o,this._scaleMode=i,this.format=h,this.type=l,this.target=u,this.alphaMode=t,this.uid=f.uid(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=0<n&&0<a,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=f.isPow2(this.realWidth)&&f.isPow2(this.realHeight)}setResolution(e){var t=this.resolution;return t!==e&&(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource!==e){if(this.resource)throw new Error("Resource can be set only once");e.bind(this),this.resource=e}return this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete f.BaseTextureCache[this.cacheId],delete f.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),_.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=p.settings.STRICT_TEXTURE_CACHE){var s,i="string"==typeof e;let n=null,a=(n=i?e:(e._pixiId||(s=t?.pixiIdPrefix||"pixiid",e._pixiId=s+"_"+f.uid()),e._pixiId),f.BaseTextureCache[n]);if(i&&r&&!a)throw new Error(`The cacheId "${n}" does not exist in BaseTextureCache.`);return a||((a=new _(e,t)).cacheId=n,_.addToCache(a,n)),a}static fromBuffer(e,t,r,s){e=e||new Float32Array(t*r*4);t=new n.BufferResource(e,{width:t,height:r}),r=e instanceof Float32Array?i.TYPES.FLOAT:i.TYPES.UNSIGNED_BYTE;return new _(t,Object.assign({},a,{type:r},s))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),f.BaseTextureCache[t]&&f.BaseTextureCache[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),f.BaseTextureCache[t]=e)}static removeFromCache(t){if("string"==typeof t){var e,r=f.BaseTextureCache[t];if(r)return-1<(e=r.textureCacheIds.indexOf(t))&&r.textureCacheIds.splice(e,1),delete f.BaseTextureCache[t],r}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete f.BaseTextureCache[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};e=_;e.defaultOptions={mipmap:i.MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:i.SCALE_MODES.LINEAR,wrapMode:i.WRAP_MODES.CLAMP,alphaMode:i.ALPHA_MODES.UNPACK,target:i.TARGETS.TEXTURE_2D,format:i.FORMATS.RGBA,type:i.TYPES.UNSIGNED_BYTE},e._globalBatch=0,r.BaseTexture=e},{"./resources/BufferResource.js":160,"./resources/Resource.js":166,"./resources/autoDetectResource.js":169,"@pixi/constants":63,"@pixi/settings":282,"@pixi/utils":344}],151:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants");r.GLTexture=class{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=s.TYPES.UNSIGNED_BYTE,this.internalFormat=s.FORMATS.RGBA,this.samplerType=0}}},{"@pixi/constants":63}],152:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("@pixi/math"),h=e("@pixi/settings"),l=e("@pixi/utils"),u=e("./BaseTexture.js"),n=e("./resources/ImageResource.js"),s=e("./TextureUvs.js");const d=new s.TextureUvs;function i(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class c extends l.EventEmitter{constructor(e,t,r,s,i,n,a){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new o.Rectangle(0,0,1,1)),e instanceof c&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=s,this.valid=!1,this._uvs=d,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(i||0),!0===i)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=n?new o.Point(n.x,n.y):new o.Point(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){this.baseTexture&&(e&&(e=this.baseTexture["resource"],e?.url&&l.TextureCache[e.url]&&c.removeFromCache(e.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,c.removeFromCache(this),this.textureCacheIds=null}clone(){var e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),t=new c(this.baseTexture,!this.noFrame&&e,t,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(t._frame=e),t}updateUvs(){this._uvs===d&&(this._uvs=new s.TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=h.settings.STRICT_TEXTURE_CACHE){var s,i="string"==typeof e;let n=null,a=(n=i?e:e instanceof u.BaseTexture?(e.cacheId||(s=t?.pixiIdPrefix||"pixiid",e.cacheId=s+"-"+l.uid(),u.BaseTexture.addToCache(e,e.cacheId)),e.cacheId):(e._pixiId||(s=t?.pixiIdPrefix||"pixiid",e._pixiId=s+"_"+l.uid()),e._pixiId),l.TextureCache[n]);if(i&&r&&!a)throw new Error(`The cacheId "${n}" does not exist in TextureCache.`);return a||e instanceof u.BaseTexture?!a&&e instanceof u.BaseTexture&&(a=new c(e),c.addToCache(a,n)):(t.resolution||(t.resolution=l.getResolutionOfUrl(e)),(a=new c(new u.BaseTexture(e,t))).baseTexture.cacheId=n,u.BaseTexture.addToCache(a.baseTexture,n),c.addToCache(a,n)),a}static fromURL(e,t){var r=Object.assign({autoLoad:!1},t?.resourceOptions);const s=c.from(e,Object.assign({resourceOptions:r},t),!1);e=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):e.load().then(()=>Promise.resolve(s))}static fromBuffer(e,t,r,s){return new c(u.BaseTexture.fromBuffer(e,t,r,s))}static fromLoader(e,t,r,s){e=new u.BaseTexture(e,Object.assign({scaleMode:u.BaseTexture.defaultOptions.scaleMode,resolution:l.getResolutionOfUrl(t)},s)),s=e.resource;s instanceof n.ImageResource&&(s.url=t);const i=new c(e);return r=r||t,u.BaseTexture.addToCache(i.baseTexture,r),c.addToCache(i,r),r!==t&&(u.BaseTexture.addToCache(i.baseTexture,t),c.addToCache(i,t)),i.baseTexture.valid?Promise.resolve(i):new Promise(e=>{i.baseTexture.once("loaded",()=>e(i))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),l.TextureCache[t]&&l.TextureCache[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),l.TextureCache[t]=e)}static removeFromCache(t){if("string"==typeof t){var e,r=l.TextureCache[t];if(r)return-1<(e=r.textureCacheIds.indexOf(t))&&r.textureCacheIds.splice(e,1),delete l.TextureCache[t],r}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)l.TextureCache[t.textureCacheIds[e]]===t&&delete l.TextureCache[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;var{x:t,y:r,width:s,height:i}=e,n=t+s>this.baseTexture.width,a=r+i>this.baseTexture.height;if(n||a)throw t=`X: ${t} + ${s} = ${t+s} > `+this.baseTexture.width,r=`Y: ${r} + ${i} = ${r+i} > `+this.baseTexture.height,new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${t} ${n&&a?"and":"or"} `+r);this.valid=s&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return c._EMPTY||(c._EMPTY=new c(new u.BaseTexture),i(c._EMPTY),i(c._EMPTY.baseTexture)),c._EMPTY}static get WHITE(){var e,t;return c._WHITE||(t=(e=h.settings.ADAPTER.createCanvas(16,16)).getContext("2d"),e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),c._WHITE=new c(u.BaseTexture.from(e)),i(c._WHITE),i(c._WHITE.baseTexture)),c._WHITE}}r.Texture=c},{"./BaseTexture.js":150,"./TextureUvs.js":156,"./resources/ImageResource.js":165,"@pixi/math":242,"@pixi/settings":282,"@pixi/utils":344}],153:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),e=e("@pixi/extensions");const i=class{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=i.defaultMaxIdle,this.checkCountMax=i.defaultCheckCountMax,this.mode=i.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==s.GC_MODES.MANUAL)&&(this.checkCount++,this.checkCount>this.checkCountMax)&&(this.checkCount=0,this.run())}run(){var t=this.renderer.texture,r=t.managedTextures;let s=!1;for(let e=0;e<r.length;e++){var i=r[e];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),r[e]=null,s=!0)}if(s){let t=0;for(let e=0;e<r.length;e++)null!==r[e]&&(r[t++]=r[e]);r.length=t}}unload(t){var e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let e=t.children.length-1;0<=e;e--)this.unload(t.children[e])}destroy(){this.renderer=null}};var n=i;n.defaultMode=s.GC_MODES.AUTO,n.defaultMaxIdle=3600,n.defaultCheckCountMax=600,n.extension={type:e.ExtensionType.RendererSystem,name:"textureGC"},e.extensions.add(n),r.TextureGCSystem=n},{"@pixi/constants":63,"@pixi/extensions":192}],154:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/math");const n=new s.Matrix;r.TextureMatrix=class{constructor(e,t){this._texture=e,this.mapCoord=new s.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(t,r){void 0===r&&(r=t);var s=this.mapCoord;for(let e=0;e<t.length;e+=2){var i=t[e],n=t[e+1];r[e]=i*s.a+n*s.c+s.tx,r[e+1]=i*s.b+n*s.d+s.ty}return r}update(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var e=t._uvs,e=(this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0),t.orig),r=t.trim,e=(r&&(n.set(e.width/r.width,0,0,e.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(n)),t.baseTexture),r=this.uClampFrame,s=this.clampMargin/e.resolution,i=this.clampOffset;return r[0]=(t._frame.x+s+i)/e.width,r[1]=(t._frame.y+s+i)/e.height,r[2]=(t._frame.x+t._frame.width-s+i)/e.width,r[3]=(t._frame.y+t._frame.height-s+i)/e.height,this.uClampOffset[0]=i/e.realWidth,this.uClampOffset[1]=i/e.realHeight,this.isSimple=t._frame.width===e.width&&t._frame.height===e.height&&0===t.rotate,!0}}},{"@pixi/math":242}],155:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@pixi/constants"),s=e("@pixi/extensions"),i=e("@pixi/utils"),a=e("./BaseTexture.js"),o=e("./GLTexture.js"),h=e("./utils/mapTypeAndFormatToInternalFormat.js");class l{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new a.BaseTexture,this.hasIntegerTextures=!1}contextChange(){var t=this.gl=this.renderer.gl,r=(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=h.mapTypeAndFormatToInternalFormat(t),t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS));this.boundTextures.length=r;for(let e=0;e<r;e++)this.boundTextures[e]=null;this.emptyTextures={};var e=new o.GLTexture(t.createTexture());t.bindTexture(t.TEXTURE_2D,e.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=e,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new o.GLTexture(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let e=0;e<6;e++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let e=0;e<this.boundTextures.length;e++)this.bind(null,e)}bind(e,t=0){var r,s=this["gl"];(e=e?.castToBaseTexture())?.valid&&!e.parentTextureArray?(e.touched=this.renderer.textureGC.count,r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e),this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,s.activeTexture(s.TEXTURE0+t)),s.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,s.activeTexture(s.TEXTURE0+t)),this.updateTexture(e)):r.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e):(this.currentLocation!==t&&(this.currentLocation=t,s.activeTexture(s.TEXTURE0+t)),s.bindTexture(s.TEXTURE_2D,this.emptyTextures[s.TEXTURE_2D].texture),this.boundTextures[t]=null)}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(t){var{gl:r,boundTextures:s}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let e=0;e<s.length;e++)s[e]===this.unknownTexture&&this.bind(null,e)}for(let e=0;e<s.length;e++)s[e]===t&&(this.currentLocation!==e&&(r.activeTexture(r.TEXTURE0+e),this.currentLocation=e),r.bindTexture(t.target,this.emptyTextures[t.target].texture),s[e]=null)}ensureSamplerType(t){var{boundTextures:r,hasIntegerTextures:e,CONTEXT_UID:s}=this;if(e)for(let e=t-1;0<=e;--e){var i=r[e];i&&i._glTextures[s].samplerType!==n.SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(i)}}initTexture(e){var t=new o.GLTexture(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){t.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,2===this.webGLVersion&&e.type===n.TYPES.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var t,r,s,i=e._glTextures[this.CONTEXT_UID];i&&(s=this.renderer,this.initTextureType(e,i),e.resource?.upload(s,e,i)?i.samplerType!==n.SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0):(t=e.realWidth,r=e.realHeight,s=s.gl,(i.width!==t||i.height!==r||i.dirtyId<0)&&(i.width=t,i.height=r,s.texImage2D(e.target,0,i.internalFormat,t,r,0,e.format,i.type,null))),e.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(e),i.dirtyId=e.dirtyId)}destroyTexture(e,t){var r=this["gl"];(e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],t||-1!==(r=this.managedTextures.indexOf(e))&&i.removeItems(this.managedTextures,r,1))}updateTextureStyle(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==n.MIPMAP_MODES.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=1<=e.mipmap:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=n.WRAP_MODES.CLAMP,e.resource?.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){var r,s=this.gl;t.mipmap&&e.mipmap!==n.MIPMAP_MODES.ON_MANUAL&&s.generateMipmap(e.target),s.texParameteri(e.target,s.TEXTURE_WRAP_S,t.wrapMode),s.texParameteri(e.target,s.TEXTURE_WRAP_T,t.wrapMode),t.mipmap?(s.texParameteri(e.target,s.TEXTURE_MIN_FILTER,e.scaleMode===n.SCALE_MODES.LINEAR?s.LINEAR_MIPMAP_LINEAR:s.NEAREST_MIPMAP_NEAREST),(t=this.renderer.context.extensions.anisotropicFiltering)&&0<e.anisotropicLevel&&e.scaleMode===n.SCALE_MODES.LINEAR&&(r=Math.min(e.anisotropicLevel,s.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),s.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY_EXT,r))):s.texParameteri(e.target,s.TEXTURE_MIN_FILTER,e.scaleMode===n.SCALE_MODES.LINEAR?s.LINEAR:s.NEAREST),s.texParameteri(e.target,s.TEXTURE_MAG_FILTER,e.scaleMode===n.SCALE_MODES.LINEAR?s.LINEAR:s.NEAREST)}destroy(){this.renderer=null}}l.extension={type:s.ExtensionType.RendererSystem,name:"texture"},s.extensions.add(l),r.TextureSystem=l},{"./BaseTexture.js":150,"./GLTexture.js":151,"./utils/mapTypeAndFormatToInternalFormat.js":171,"@pixi/constants":63,"@pixi/extensions":192,"@pixi/utils":344}],156:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=e("@pixi/math");r.TextureUvs=class{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){var s,i,n,a,o=t.width,t=t.height;r?(s=e.width/2/o,i=e.height/2/t,n=e.x/o+s,a=e.y/t+i,r=h.groupD8.add(r,h.groupD8.NW),this.x0=n+s*h.groupD8.uX(r),this.y0=a+i*h.groupD8.uY(r),r=h.groupD8.add(r,2),this.x1=n+s*h.groupD8.uX(r),this.y1=a+i*h.groupD8.uY(r),r=h.groupD8.add(r,2),this.x2=n+s*h.groupD8.uX(r),this.y2=a+i*h.groupD8.uY(r),r=h.groupD8.add(r,2),this.x3=n+s*h.groupD8.uX(r),this.y3=a+i*h.groupD8.uY(r)):(this.x0=e.x/o,this.y0=e.y/t,this.x1=(e.x+e.width)/o,this.y1=e.y/t,this.x2=(e.x+e.width)/o,this.y2=(e.y+e.height)/t,this.x3=e.x/o,this.y3=(e.y+e.height)/t),this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}},{"@pixi/math":242}],157:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../BaseTexture.js"),s=e("./autoDetectResource.js"),n=e("./Resource.js");class a extends n.Resource{constructor(t,e){var{width:e,height:r}=e||{};super(e,r),this.items=[],this.itemDirtyIds=[];for(let e=0;e<t;e++){var s=new i.BaseTexture;this.items.push(s),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,r){for(let e=0;e<this.length;e++)t[e]&&(t[e].castToBaseTexture?this.addBaseTextureAt(t[e].castToBaseTexture(),e):t[e]instanceof n.Resource?this.addResourceAt(t[e],e):this.addResourceAt(s.autoDetectResource(t[e],r),e))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(this.items[t])return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this;throw new Error(`Index ${t} is out of bounds`)}bind(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)}unbind(t){super.unbind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)}load(){var e;return this._load||(e=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load()),this._load=Promise.all(e).then(()=>{var{realWidth:e,realHeight:t}=this.items[0];return this.resize(e,t),Promise.resolve(this)})),this._load}}r.AbstractMultiResource=a},{"../BaseTexture.js":150,"./Resource.js":166,"./autoDetectResource.js":169}],158:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants");class i extends e("./AbstractMultiResource.js").AbstractMultiResource{constructor(e,t){var{width:r,height:s}=t||{};let i,n;super(n=Array.isArray(e)?(i=e).length:e,{width:r,height:s}),i&&this.initFromArray(i,t)}addBaseTextureAt(e,t){if(e.resource)return this.addResourceAt(e.resource,t),this;throw new Error("ArrayResource does not support RenderTexture")}bind(e){super.bind(e),e.target=s.TARGETS.TEXTURE_2D_ARRAY}upload(e,t,r){var{length:s,itemDirtyIds:i,items:n}=this,a=e["gl"];r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,t.format,r.type,null);for(let e=0;e<s;e++){var o=n[e];i[e]<o.dirtyId&&(i[e]=o.dirtyId,o.valid)&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,e,o.resource.width,o.resource.height,1,t.format,r.type,o.resource.source)}return!0}}r.ArrayResource=i},{"./AbstractMultiResource.js":157,"@pixi/constants":63}],159:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("@pixi/constants"),s=e("@pixi/utils");class i extends e("./Resource.js").Resource{constructor(e){super(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){void 0!==r||t.startsWith("data:")?!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous"):e.crossOrigin=s.determineCrossOrigin(t)}upload(e,t,r,s){var e=e.gl,i=t.realWidth,n=t.realHeight;if(s=s||this.source,"undefined"!=typeof HTMLImageElement&&s instanceof HTMLImageElement){if(!s.complete||0===s.naturalWidth)return!1}else if("undefined"!=typeof HTMLVideoElement&&s instanceof HTMLVideoElement&&s.readyState<=1&&0===s.buffered.length)return!1;return e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===a.ALPHA_MODES.UNPACK),this.noSubImage||t.target!==e.TEXTURE_2D||r.width!==i||r.height!==n?(r.width=i,r.height=n,e.texImage2D(t.target,0,r.internalFormat,t.format,r.type,s)):e.texSubImage2D(e.TEXTURE_2D,0,0,0,t.format,r.type,s),!0}update(){var e,t;this.destroyed||(e=(t=this.source).naturalWidth||t.videoWidth||t.width,t=t.naturalHeight||t.videoHeight||t.height,this.resize(e,t),super.update())}dispose(){this.source=null}}r.BaseImageResource=i},{"./Resource.js":166,"@pixi/constants":63,"@pixi/utils":344}],160:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@pixi/constants");class s extends e("./Resource.js").Resource{constructor(e,t){var{width:t,height:r}=t||{};if(!t||!r)throw new Error("BufferResource width or height invalid");super(t,r),this.data=e}upload(e,t,r){var e=e.gl,s=(e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===n.ALPHA_MODES.UNPACK),t.realWidth),i=t.realHeight;return r.width===s&&r.height===i?e.texSubImage2D(t.target,0,0,0,s,i,t.format,r.type,this.data):(r.width=s,r.height=i,e.texImage2D(t.target,0,r.internalFormat,s,i,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}r.BufferResource=s},{"./Resource.js":166,"@pixi/constants":63}],161:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends e("./BaseImageResource.js").BaseImageResource{constructor(e){super(e)}static test(e){var t=globalThis["OffscreenCanvas"];return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}r.CanvasResource=s},{"./BaseImageResource.js":159}],162:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("@pixi/constants");const o=class extends e("./AbstractMultiResource.js").AbstractMultiResource{constructor(e,t){var{width:r,height:s,autoLoad:i,linkBaseTexture:n}=t||{};if(e&&e.length!==o.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:s});for(let e=0;e<o.SIDES;e++)this.items[e].target=a.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e;this.linkBaseTexture=!1!==n,e&&this.initFromArray(e,t),!1!==i&&this.load()}bind(e){super.bind(e),e.target=a.TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||0<Object.keys(e._glTextures).length){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=a.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(t,r,s){var i=this.itemDirtyIds;for(let e=0;e<o.SIDES;e++){var n=this.items[e];(i[e]<n.dirtyId||s.dirtyId<r.dirtyId)&&(n.valid&&n.resource?(n.resource.upload(t,n,s),i[e]=n.dirtyId):i[e]<-1&&(t.gl.texImage2D(n.target,0,s.internalFormat,r.realWidth,r.realHeight,0,r.format,s.type,null),i[e]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===o.SIDES}};e=o;e.SIDES=6,r.CubeResource=e},{"./AbstractMultiResource.js":157,"@pixi/constants":63}],163:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@pixi/constants");class s extends e("./BufferResource.js").BufferResource{upload(e,t,r){var e=e.gl,s=(e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===n.ALPHA_MODES.UNPACK),t.realWidth),i=t.realHeight;return r.width===s&&r.height===i?e.texSubImage2D(t.target,0,0,0,s,i,t.format,r.type,this.data):(r.width=s,r.height=i,e.texImage2D(t.target,0,r.internalFormat,s,i,0,t.format,r.type,this.data)),!0}}r.DepthResource=s},{"./BufferResource.js":160,"@pixi/constants":63}],164:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@pixi/constants"),a=e("@pixi/settings");class i extends e("./BaseImageResource.js").BaseImageResource{constructor(e,t){t=t||{};let r,s;s="string"==typeof e?(r=i.EMPTY,e):(r=e,null),super(r),this.url=s,this.crossOrigin=t.crossOrigin??!0,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(async(e,t)=>{if(null===this.url)e(this);else try{var r,s,i=await a.settings.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});this.destroyed||(r=await i.blob(),this.destroyed)||(s=await createImageBitmap(r,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===n.ALPHA_MODES.UNPACK?"premultiply":"none"}),this.destroyed)||(this.source=s,this.update(),e(this))}catch(e){this.destroyed||(t(e),this.onError.emit(e))}})),this._load}upload(e,t,r){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&"undefined"!=typeof ImageBitmap&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){return i._EMPTY=i._EMPTY??a.settings.ADAPTER.createCanvas(0,0),i._EMPTY}}r.ImageBitmapResource=i},{"./BaseImageResource.js":159,"@pixi/constants":63,"@pixi/settings":282}],165:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants"),i=e("@pixi/settings"),n=e("./BaseImageResource.js");class a extends n.BaseImageResource{constructor(e,t){var r;t=t||{},"string"==typeof e&&(r=new Image,n.BaseImageResource.crossOrigin(r,e,t.crossorigin),r.src=e,e=r),super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??i.settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((e,t)=>{const r=this.source;this.url=r.src;var s=()=>{this.destroyed||(r.onload=null,r.onerror=null,this.resize(r.width,r.height),this._load=null,this.createBitmap?e(this.process()):e(this))};r.complete&&r.src?s():(r.onload=s,r.onerror=e=>{t(e),this.onError.emit(e)})})),this._load}process(){const t=this.source;if(null===this._process){if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap;var e=!t.crossOrigin||"anonymous"===t.crossOrigin;this._process=fetch(t.src,{mode:e?"cors":"no-cors"}).then(e=>e.blob()).then(e=>r(e,0,0,t.width,t.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===s.ALPHA_MODES.UNPACK?"premultiply":"none"})).then(e=>this.destroyed?Promise.reject():(this.bitmap=e,this.update(),this._process=null,Promise.resolve(this)))}return this._process}upload(e,t,r){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let e=!0;var s=t._glTextures;for(const n in s){var i=s[n];if(i!==r&&i.dirtyId!==t.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return"undefined"!=typeof HTMLImageElement&&("string"==typeof e||e instanceof HTMLImageElement)}}r.ImageResource=a},{"./BaseImageResource.js":159,"@pixi/constants":63,"@pixi/settings":282}],166:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/runner");r.Resource=class{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new s.Runner("setRealSize"),this.onUpdate=new s.Runner("update"),this.onError=new s.Runner("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}},{"@pixi/runner":278}],167:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/settings"),a=e("@pixi/utils"),i=e("./BaseImageResource.js");const n=class extends i.BaseImageResource{constructor(e,t){t=t||{},super(s.settings.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(e=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),e(this)},n.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this.svg)))}this._loadSvg()})),this._load}_loadSvg(){const n=new Image;i.BaseImageResource.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=e=>{this._resolve&&(n.onerror=null,this.onError.emit(e))},n.onload=()=>{if(this._resolve){var r=n.width,s=n.height;if(!r||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let e=r*this.scale,t=s*this.scale;(this._overrideWidth||this._overrideHeight)&&(e=this._overrideWidth||this._overrideHeight/s*r,t=this._overrideHeight||this._overrideWidth/r*s),e=Math.round(e),t=Math.round(t);var i=this.source;i.width=e,i.height=t,i._pixiId="canvas_"+a.uid(),i.getContext("2d").drawImage(n,0,0,r,s,0,0,e,t),this._resolve(),this._resolve=null}}}static getSize(e){var e=n.SVG_SIZE.exec(e),t={};return e&&(t[e[1]]=Math.round(parseFloat(e[3])),t[e[5]]=Math.round(parseFloat(e[7]))),t}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return"svg"===t||"string"==typeof e&&e.startsWith("data:image/svg+xml")||"string"==typeof e&&n.SVG_XML.test(e)}};e=n;e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r.SVGResource=e},{"./BaseImageResource.js":159,"@pixi/settings":282,"@pixi/utils":344}],168:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/ticker"),h=e("./BaseImageResource.js");const l=class extends h.BaseImageResource{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){var r=document.createElement("video"),s=(r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),(t="string"==typeof t?[t]:t)[0].src||t[0]);h.BaseImageResource.crossOrigin(r,s,e.crossorigin);for(let e=0;e<t.length;++e){var i=document.createElement("source"),{src:n,mime:a}=t[e],o=(n=n||t[e]).split("?").shift().toLowerCase(),o=o.slice(o.lastIndexOf(".")+1),a=a||l.MIME_TYPES[o]||"video/"+o;i.src=n,i.type=a,r.appendChild(i)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==e.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==e.autoLoad&&this.load()}update(e=0){var t;!this.destroyed&&(t=s.Ticker.shared.elapsedMS*this.source.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}load(){if(!this._load){const t=this.source;(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())})}return this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)}_isSourcePlaying(){var e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()}_isSourceReady(){return 2<this.source.readyState}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(s.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){var e=this.source,t=(e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),this.valid);this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._isConnectedToTicker&&(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(s.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e)}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||l.TYPES.includes(t)}};e=l;e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},r.VideoResource=e},{"./BaseImageResource.js":159,"@pixi/ticker":330}],169:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=[];r.INSTALLED=n,r.autoDetectResource=function(t,r){if(!t)return null;let s="";var e;"string"==typeof t&&(e=/\.(\w{3,4})(?:$|\?|#)/i.exec(t))&&(s=e[1].toLowerCase());for(let e=n.length-1;0<=e;--e){var i=n[e];if(i.test&&i.test(t,s))return new i(t,r)}throw new Error("Unrecognized source type to auto-detect Resource")}},{}],170:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./ArrayResource.js"),i=e("./autoDetectResource.js"),n=e("./BufferResource.js"),a=e("./CanvasResource.js"),o=e("./CubeResource.js"),h=e("./ImageBitmapResource.js"),l=e("./ImageResource.js"),u=e("./SVGResource.js"),d=e("./VideoResource.js"),c=e("./BaseImageResource.js"),p=e("./Resource.js"),e=e("./AbstractMultiResource.js");i.INSTALLED.push(h.ImageBitmapResource,l.ImageResource,a.CanvasResource,d.VideoResource,u.SVGResource,n.BufferResource,o.CubeResource,s.ArrayResource),r.ArrayResource=s.ArrayResource,r.INSTALLED=i.INSTALLED,r.autoDetectResource=i.autoDetectResource,r.BufferResource=n.BufferResource,r.CanvasResource=a.CanvasResource,r.CubeResource=o.CubeResource,r.ImageBitmapResource=h.ImageBitmapResource,r.ImageResource=l.ImageResource,r.SVGResource=u.SVGResource,r.VideoResource=d.VideoResource,r.BaseImageResource=c.BaseImageResource,r.Resource=p.Resource,r.AbstractMultiResource=e.AbstractMultiResource},{"./AbstractMultiResource.js":157,"./ArrayResource.js":158,"./BaseImageResource.js":159,"./BufferResource.js":160,"./CanvasResource.js":161,"./CubeResource.js":162,"./ImageBitmapResource.js":164,"./ImageResource.js":165,"./Resource.js":166,"./SVGResource.js":167,"./VideoResource.js":168,"./autoDetectResource.js":169}],171:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/constants");r.mapTypeAndFormatToInternalFormat=function(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[s.TYPES.UNSIGNED_BYTE]:{[s.FORMATS.RGBA]:e.RGBA8,[s.FORMATS.RGB]:e.RGB8,[s.FORMATS.RG]:e.RG8,[s.FORMATS.RED]:e.R8,[s.FORMATS.RGBA_INTEGER]:e.RGBA8UI,[s.FORMATS.RGB_INTEGER]:e.RGB8UI,[s.FORMATS.RG_INTEGER]:e.RG8UI,[s.FORMATS.RED_INTEGER]:e.R8UI,[s.FORMATS.ALPHA]:e.ALPHA,[s.FORMATS.LUMINANCE]:e.LUMINANCE,[s.FORMATS.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[s.TYPES.BYTE]:{[s.FORMATS.RGBA]:e.RGBA8_SNORM,[s.FORMATS.RGB]:e.RGB8_SNORM,[s.FORMATS.RG]:e.RG8_SNORM,[s.FORMATS.RED]:e.R8_SNORM,[s.FORMATS.RGBA_INTEGER]:e.RGBA8I,[s.FORMATS.RGB_INTEGER]:e.RGB8I,[s.FORMATS.RG_INTEGER]:e.RG8I,[s.FORMATS.RED_INTEGER]:e.R8I},[s.TYPES.UNSIGNED_SHORT]:{[s.FORMATS.RGBA_INTEGER]:e.RGBA16UI,[s.FORMATS.RGB_INTEGER]:e.RGB16UI,[s.FORMATS.RG_INTEGER]:e.RG16UI,[s.FORMATS.RED_INTEGER]:e.R16UI,[s.FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[s.TYPES.SHORT]:{[s.FORMATS.RGBA_INTEGER]:e.RGBA16I,[s.FORMATS.RGB_INTEGER]:e.RGB16I,[s.FORMATS.RG_INTEGER]:e.RG16I,[s.FORMATS.RED_INTEGER]:e.R16I},[s.TYPES.UNSIGNED_INT]:{[s.FORMATS.RGBA_INTEGER]:e.RGBA32UI,[s.FORMATS.RGB_INTEGER]:e.RGB32UI,[s.FORMATS.RG_INTEGER]:e.RG32UI,[s.FORMATS.RED_INTEGER]:e.R32UI,[s.FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[s.TYPES.INT]:{[s.FORMATS.RGBA_INTEGER]:e.RGBA32I,[s.FORMATS.RGB_INTEGER]:e.RGB32I,[s.FORMATS.RG_INTEGER]:e.RG32I,[s.FORMATS.RED_INTEGER]:e.R32I},[s.TYPES.FLOAT]:{[s.FORMATS.RGBA]:e.RGBA32F,[s.FORMATS.RGB]:e.RGB32F,[s.FORMATS.RG]:e.RG32F,[s.FORMATS.RED]:e.R32F,[s.FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[s.TYPES.HALF_FLOAT]:{[s.FORMATS.RGBA]:e.RGBA16F,[s.FORMATS.RGB]:e.RGB16F,[s.FORMATS.RG]:e.RG16F,[s.FORMATS.RED]:e.R16F},[s.TYPES.UNSIGNED_SHORT_5_6_5]:{[s.FORMATS.RGB]:e.RGB565},[s.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[s.FORMATS.RGBA]:e.RGBA4},[s.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[s.FORMATS.RGBA]:e.RGB5_A1},[s.TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[s.FORMATS.RGBA]:e.RGB10_A2,[s.FORMATS.RGBA_INTEGER]:e.RGB10_A2UI},[s.TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[s.FORMATS.RGB]:e.R11F_G11F_B10F},[s.TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[s.FORMATS.RGB]:e.RGB9_E5},[s.TYPES.UNSIGNED_INT_24_8]:{[s.FORMATS.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[s.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[s.FORMATS.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:{[s.TYPES.UNSIGNED_BYTE]:{[s.FORMATS.RGBA]:e.RGBA,[s.FORMATS.RGB]:e.RGB,[s.FORMATS.ALPHA]:e.ALPHA,[s.FORMATS.LUMINANCE]:e.LUMINANCE,[s.FORMATS.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[s.TYPES.UNSIGNED_SHORT_5_6_5]:{[s.FORMATS.RGB]:e.RGB},[s.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[s.FORMATS.RGBA]:e.RGBA},[s.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[s.FORMATS.RGBA]:e.RGBA}}}},{"@pixi/constants":63}],172:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/runner");r.TransformFeedback=class{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new s.Runner("disposeTransformFeedback")}bindBuffer(e,t){this.buffers[e]=t}destroy(){this.disposeRunner.emit(this,!1)}}},{"@pixi/runner":278}],173:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("@pixi/extensions");class s{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){var{gl:t,CONTEXT_UID:r}=this,r=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,r)}unbind(){var e=this["gl"];e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){var{gl:r,renderer:s}=this;t&&s.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){var e=this["gl"];e.endTransformFeedback()}createGLTransformFeedback(t){var{gl:r,renderer:s,CONTEXT_UID:i}=this,e=r.createTransformFeedback();t._glTransformFeedbacks[i]=e,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,e);for(let e=0;e<t.buffers.length;e++){var n=t.buffers[e];n&&(s.buffer.update(n),n._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,e,n._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),e}disposeTransformFeedback(t,r){var e=t._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl,i=(t.disposeRunner.remove(this),this.renderer.buffer);if(i)for(let e=0;e<t.buffers.length;e++){var n,a=t.buffers[e];a&&(n=a._glBuffers[this.CONTEXT_UID])&&(n.refCount--,0!==n.refCount||r||i.dispose(a,r))}e&&(r||s.deleteTransformFeedback(e),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}s.extension={type:e.ExtensionType.RendererSystem,name:"transformFeedback"},e.extensions.add(s),r.TransformFeedbackSystem=s},{"@pixi/extensions":192}],174:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends e("../geometry/Geometry.js").Geometry{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}r.Quad=s},{"../geometry/Geometry.js":100}],175:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../geometry/Buffer.js");class i extends e("../geometry/Geometry.js").Geometry{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new s.Buffer(this.vertices),this.uvBuffer=new s.Buffer(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){var r;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+t.width/e.width,this.uvs[3]=0,this.uvs[4]=0+t.width/e.width,this.uvs[5]=0+t.height/e.height,this.uvs[6]=0,this.uvs[7]=0+t.height/e.height,e=t.x,r=t.y,this.vertices[0]=e,this.vertices[1]=r,this.vertices[2]=e+t.width,this.vertices[3]=r,this.vertices[4]=e+t.width,this.vertices[5]=r+t.height,this.vertices[6]=e,this.vertices[7]=r+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}r.QuadUv=i},{"../geometry/Buffer.js":97,"../geometry/Geometry.js":100}],176:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/extensions"),i=e("@pixi/math"),n=e("@pixi/settings");class a{constructor(e){this.renderer=e}init(e){this.screen=new i.Rectangle(0,0,e.width,e.height),this.element=e.view||n.settings.ADAPTER.createCanvas(),this.resolution=e.resolution||n.settings.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);e=this.element.width/this.resolution,t=this.element.height/this.resolution;this.screen.width=e,this.screen.height=t,this.autoDensity&&(this.element.style.width=e+"px",this.element.style.height=t+"px"),this.renderer.emit("resize",e,t),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}a.defaultOptions={width:800,height:600,resolution:n.settings.RESOLUTION,autoDensity:!1},a.extension={type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem],name:"_view"},s.extensions.add(a),r.ViewSystem=a},{"@pixi/extensions":192,"@pixi/math":242,"@pixi/settings":282}],177:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");r.Bounds=class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?s.Rectangle.EMPTY:((e=e||new s.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){var{a:e,b:r,c:s,d:i,tx:n,ty:a}=e,e=e*t.x+s*t.y+n,s=r*t.x+i*t.y+a;this.minX=Math.min(this.minX,e),this.maxX=Math.max(this.maxX,e),this.minY=Math.min(this.minY,s),this.maxY=Math.max(this.maxY,s)}addQuad(e){var t=this.minX,r=this.minY,s=this.maxX,i=this.maxY,n=e[0],a=e[1],t=n<t?n:t,r=a<r?a:r,s=s<n?n:s,i=i<a?a:i;t=(n=e[2])<t?n:t,r=(a=e[3])<r?a:r,s=s<n?n:s,i=i<a?a:i,t=(n=e[4])<t?n:t,r=(a=e[5])<r?a:r,s=s<n?n:s,i=i<a?a:i,n=e[6],r=(a=e[7])<r?a:r,s=s<n?n:s,i=i<a?a:i,this.minX=n<t?n:t,this.minY=r,this.maxX=s,this.maxY=i}addFrame(e,t,r,s,i){this.addFrameMatrix(e.worldTransform,t,r,s,i)}addFrameMatrix(e,t,r,s,i){var n=e.a,a=e.b,o=e.c,h=e.d,l=e.tx,e=e.ty,u=n*t+o*r+l,d=a*t+h*r+e,c=u<(c=this.minX)?u:c,p=d<(p=this.minY)?d:p,f=(f=this.maxX)<u?u:f,m=(m=this.maxY)<d?d:m;c=(u=n*s+o*r+l)<c?u:c,p=(d=a*s+h*r+e)<p?d:p,f=f<u?u:f,m=m<d?d:m,c=(u=n*t+o*i+l)<c?u:c,p=(d=a*t+h*i+e)<p?d:p,m=m<d?d:m,p=(d=a*s+h*i+e)<p?d:p,f=(f=f<u?u:f)<(u=n*s+o*i+l)?u:f,m=m<d?d:m,this.minX=u<c?u:c,this.minY=p,this.maxX=f,this.maxY=m}addVertexData(t,r,s){let i=this.minX,n=this.minY,a=this.maxX,o=this.maxY;for(let e=r;e<s;e+=2){var h=t[e],l=t[e+1];i=h<i?h:i,n=l<n?l:n,a=h>a?h:a,o=l>o?l:o}this.minX=i,this.minY=n,this.maxX=a,this.maxY=o}addVertices(e,t,r,s){this.addVerticesMatrix(e.worldTransform,t,r,s)}addVerticesMatrix(e,t,r,s,i=0,n=i){var a=e.a,o=e.b,h=e.c,l=e.d,u=e.tx,d=e.ty;let c=this.minX,p=this.minY,f=this.maxX,m=this.maxY;for(let e=r;e<s;e+=2){var g=t[e],_=t[e+1],x=a*g+h*_+u,_=l*_+o*g+d;c=Math.min(c,x-i),f=Math.max(f,x+i),p=Math.min(p,_-n),m=Math.max(m,_+n)}this.minX=c,this.minY=p,this.maxX=f,this.maxY=m}addBounds(e){var t=this.minX,r=this.minY,s=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>i?e.maxY:i}addBoundsMask(e,t){var r,s,i,n=(e.minX>t.minX?e:t).minX,a=(e.minY>t.minY?e:t).minY,o=(e.maxX<t.maxX?e:t).maxX,e=(e.maxY<t.maxY?e:t).maxY;n<=o&&a<=e&&(t=this.minX,r=this.minY,s=this.maxX,i=this.maxY,this.minX=n<t?n:t,this.minY=a<r?a:r,this.maxX=s<o?o:s,this.maxY=i<e?e:i)}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){var r,s,i,n=e.minX>t.x?e.minX:t.x,a=e.minY>t.y?e.minY:t.y,o=e.maxX<t.x+t.width?e.maxX:t.x+t.width,e=e.maxY<t.y+t.height?e.maxY:t.y+t.height;n<=o&&a<=e&&(t=this.minX,r=this.minY,s=this.maxX,i=this.maxY,this.minX=n<t?n:t,this.minY=a<r?a:r,this.maxX=s<o?o:s,this.maxY=i<e?e:i)}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,s,i,n){t-=n,r+=i,s+=n,this.minX=this.minX<(e-=i)?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>s?this.maxY:s}}},{"@pixi/core":104}],178:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/core"),e=e("./DisplayObject.js");const o=new i.Matrix;function n(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const h=class extends e.DisplayObject{constructor(){super(),this.children=[],this.sortableChildren=h.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...t){if(1<t.length)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{var e=t[0];e.parent&&e.parent.removeChild(e),(e.parent=this).sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(e+`addChildAt: The index ${t} supplied is out of bounds `+this.children.length);return e.parent&&e.parent.removeChild(e),(e.parent=this).sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){var r,s;e!==t&&(r=this.getChildIndex(e),s=this.getChildIndex(t),this.children[r]=t,this.children[s]=e,this.onChildrenChange(r<s?r:s))}getChildIndex(e){e=this.children.indexOf(e);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds `+this.children.length);var r=this.getChildIndex(e);i.utils.removeItems(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...t){if(1<t.length)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{var e=t[0],r=this.children.indexOf(e);if(-1===r)return null;e.parent=null,e.transform._parentID=-1,i.utils.removeItems(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,i.utils.removeItems(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){var r,s=t-e;if(0<s&&s<=t){r=this.children.splice(e,s);for(let e=0;e<r.length;++e)r[e].parent=null,r[e].transform&&(r[e].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let e=0;e<r.length;++e)r[e].emit("removed",this),this.emit("childRemoved",r[e],this,e);return r}if(0==s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let r=!1;for(let e=0,t=this.children.length;e<t;++e){var s=this.children[e];s._lastSortedIndex=e,r||0===s.zIndex||(r=!0)}r&&1<this.children.length&&this.children.sort(n),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){var r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){var t,r=this.children[e];r.visible&&r.renderable&&(r.calculateBounds(),r._mask?(t=r._mask.isMaskData?r._mask.maskObject:r._mask)?(t.calculateBounds(),this._bounds.addBoundsMask(r._bounds,t._bounds)):this._bounds.addBounds(r._bounds):r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds))}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){e=super.getLocalBounds(e);if(!t)for(let e=0,t=this.children.length;e<t;++e){var r=this.children[e];r.visible&&r.updateTransform()}return e}_calculateBounds(){}_renderWithCulling(r){var s=r.renderTexture.sourceFrame;if(0<s.width&&0<s.height){let e,t;this.cullArea?(e=this.cullArea,t=this.worldTransform):this._render!==h.prototype._render&&(e=this.getBounds(!0));var i=r.projection.transform;if(i&&(t?(t=o.copyFrom(t)).prepend(i):t=i),e&&s.intersects(e,t))this._render(r);else if(this.cullArea)return;for(let e=0,t=this.children.length;e<t;++e){var n=this.children[e],a=n.cullable;n.cullable=a||!this.cullArea,n.render(r),n.cullable=a}}}render(r){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters?.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(let e=0,t=this.children.length;e<t;++e)this.children[e].render(r)}}renderAdvanced(r){var t=this.filters,e=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]);for(let e=this._enabledFilters.length=0;e<t.length;e++)t[e].enabled&&this._enabledFilters.push(t[e])}var s=t&&this._enabledFilters?.length||e&&(!e.isMaskData||e.enabled&&(e.autoDetect||e.type!==i.MASK_TYPES.NONE));if(s&&r.batch.flush(),t&&this._enabledFilters?.length&&r.filter.push(this,this._enabledFilters),e&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(let e=0,t=this.children.length;e<t;++e)this.children[e].render(r)}s&&r.batch.flush(),e&&r.mask.pop(this),t&&this._enabledFilters?.length&&r.filter.pop()}_render(e){}destroy(t){super.destroy(),this.sortDirty=!1;var e="boolean"==typeof t?t:t?.children,r=this.removeChildren(0,this.children.length);if(e)for(let e=0;e<r.length;++e)r[e].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}};e=h;e.defaultSortableChildren=!1,e.prototype.containerUpdateTransform=e.prototype.updateTransform,r.Container=e},{"./DisplayObject.js":179,"@pixi/core":104}],179:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@pixi/core"),a=e("./Bounds.js");class i extends n.utils.EventEmitter{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new n.Transform,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new a.Bounds,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){var r=Object.keys(t);for(let e=0;e<r.length;++e){var s=r[e];Object.defineProperty(i.prototype,s,Object.getOwnPropertyDescriptor(t,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new n.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new n.Rectangle),e=this._localBoundsRect),this._localBounds||(this._localBounds=new a.Bounds);var t=this.transform,r=this.parent,s=(this.parent=null,this.transform=this._tempDisplayObjectParent.transform,this._bounds),i=this._boundsID,e=(this._bounds=this._localBounds,this.getBounds(!1,e));return this.parent=r,this.transform=t,this._bounds=s,this._bounds.updateID+=this._boundsID-i,e}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,s){return t&&(e=t.toGlobal(e,r,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(e&&e.addChild)return e.addChild(this),e;throw new Error("setParent: Argument must be a Container")}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,t=0,r=1,s=1,i=0,n=0,a=0,o=0,h=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=s||1,this.rotation=i,this.skew.x=n,this.skew.y=a,this.pivot.x=o,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new s),this.tempDisplayObjectParent}enableTempParent(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*n.RAD_TO_DEG}set angle(e){this.transform.rotation=e*n.DEG_TO_RAD}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1}while(e=e.parent);return!0}get mask(){return this._mask}set mask(e){var t,r;this._mask!==e&&(this._mask&&(t=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(t._maskRefCount--,0===t._maskRefCount)&&(t.renderable=!0,t.isMask=!1),this._mask=e,this._mask)&&(r=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(0===r._maskRefCount&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}class s extends i{constructor(){super(...arguments),this.sortDirty=null}}i.prototype.displayObjectUpdateTransform=i.prototype.updateTransform,r.DisplayObject=i,r.TemporaryDisplayObject=s},{"./Bounds.js":177,"@pixi/core":104}],180:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("./settings.js");var s=e("./Bounds.js"),i=e("./Container.js"),e=e("./DisplayObject.js");r.Bounds=s.Bounds,r.Container=i.Container,r.DisplayObject=e.DisplayObject,r.TemporaryDisplayObject=e.TemporaryDisplayObject},{"./Bounds.js":177,"./Container.js":178,"./DisplayObject.js":179,"./settings.js":181}],181:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./Container.js");Object.defineProperties(s.settings,{SORTABLE_CHILDREN:{get(){return i.Container.defaultSortableChildren},set(e){s.utils.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),i.Container.defaultSortableChildren=e}}}),Object.defineProperty(r,"settings",{enumerable:!0,get:function(){return s.settings}})},{"./Container.js":178,"@pixi/core":104}],182:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),c=e("./EventTicker.js"),i=e("./FederatedMouseEvent.js"),h=e("./FederatedPointerEvent.js"),n=e("./FederatedWheelEvent.js");const a=new s.Point,o=new s.Point;r.EventBoundary=class{constructor(e){this.dispatch=new s.utils.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((e,t)=>e.priority-t.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(r){if(this.rootTarget){var s=this.mappingTable[r.type];if(s)for(let e=0,t=s.length;e<t;e++)s[e].fn(r);else console.warn("[EventBoundary]: Event mapping not defined for "+r.type)}}hitTest(e,t){c.EventsTicker.pauseUpdate=!0;e=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,a.set(e,t),this.hitTestFn,this.hitPruneFn);return e&&e[0]}propagate(r,s){if(r.target){var i=r.composedPath();r.eventPhase=r.CAPTURING_PHASE;for(let e=0,t=i.length-1;e<t;e++)if(r.currentTarget=i[e],this.notifyTarget(r,s),r.propagationStopped||r.propagationImmediatelyStopped)return;if(r.eventPhase=r.AT_TARGET,r.currentTarget=r.target,this.notifyTarget(r,s),!r.propagationStopped&&!r.propagationImmediatelyStopped){r.eventPhase=r.BUBBLING_PHASE;for(let e=i.length-2;0<=e;e--)if(r.currentTarget=i[e],this.notifyTarget(r,s),r.propagationStopped||r.propagationImmediatelyStopped)return}}}all(r,e,s=this._allInteractiveElements){if(0!==s.length){r.eventPhase=r.BUBBLING_PHASE;var i=Array.isArray(e)?e:[e];for(let t=s.length-1;0<=t;t--)i.forEach(e=>{r.currentTarget=s[t],this.notifyTarget(r,e)})}}propagationPath(t){var r=[t];for(let e=0;e<2048&&t!==this.rootTarget;e++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(t.parent),t=t.parent}return r.reverse(),r}hitTestMoveRecursive(t,r,s,i,n,a=!1){let o=!1;if(this._interactivePrune(t))return null;if("dynamic"!==t.eventMode&&"dynamic"!==r||(c.EventsTicker.pauseUpdate=!1),t.interactiveChildren&&t.children){var h=t.children;for(let e=h.length-1;0<=e;e--){var l,u=h[e],u=this.hitTestMoveRecursive(u,this._isInteractive(r)?r:u.eventMode,s,i,n,a||n(t,s));!u||0<u.length&&!u[u.length-1].parent||(l=t.isInteractive(),(0<u.length||l)&&(l&&this._allInteractiveElements.push(t),u.push(t)),0===this._hitElements.length&&(this._hitElements=u),o=!0)}}var e=this._isInteractive(r),d=t.isInteractive();return d&&this._allInteractiveElements.push(t),a||0<this._hitElements.length?null:o?this._hitElements:e&&!n(t,s)&&i(t,s)?d?[t]:[]:null}hitTestRecursive(t,r,s,i,n){if(this._interactivePrune(t)||n(t,s))return null;if("dynamic"!==t.eventMode&&"dynamic"!==r||(c.EventsTicker.pauseUpdate=!1),t.interactiveChildren&&t.children){var a=t.children;for(let e=a.length-1;0<=e;e--){var o,h=a[e],h=this.hitTestRecursive(h,this._isInteractive(r)?r:h.eventMode,s,i,n);if(h)if(!(0<h.length)||h[h.length-1].parent)return o=t.isInteractive(),(0<h.length||o)&&h.push(t),h}}var e=this._isInteractive(r),l=t.isInteractive();return e&&i(t,s)?l?[t]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!(e&&!e.isMask&&e.visible&&e.renderable)||"none"===e.eventMode||"passive"===e.eventMode&&!e.interactiveChildren||!!e.isMask}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,o),!e.hitArea.contains(o.x,o.y)))return!0;if(e._mask){e=e._mask.isMaskData?e._mask.maskObject:e._mask;if(e&&!e.containsPoint?.(t))return!0}return!1}hitTestFn(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}notifyTarget(e,t){t=t??e.type;e.currentTarget["on"+t]?.(e);var r=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?t+"capture":t;this.notifyListeners(e,r),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){var t,r;e instanceof h.FederatedPointerEvent?(t=this.createPointerEvent(e),this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType?this.dispatchEvent(t,"touchstart"):"mouse"!==t.pointerType&&"pen"!==t.pointerType||(r=2===t.button,this.dispatchEvent(t,r?"rightdown":"mousedown")),this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)):console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapPointerMove(t){if(t instanceof h.FederatedPointerEvent){this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;var r=this.createPointerEvent(t),s=(this._isPointerMoveEvent=!1,"mouse"===r.pointerType||"pen"===r.pointerType),e=this.trackingData(t.pointerId),i=this.findMountedTarget(e.overTargets);if(0<e.overTargets?.length&&i!==r.target){var n="mousemove"===t.type?"mouseout":"pointerout",n=this.createPointerEvent(t,n,i);if(this.dispatchEvent(n,"pointerout"),s&&this.dispatchEvent(n,"mouseout"),!r.composedPath().includes(i)){var a=this.createPointerEvent(t,"pointerleave",i);for(a.eventPhase=a.AT_TARGET;a.target&&!r.composedPath().includes(a.target);)a.currentTarget=a.target,this.notifyTarget(a),s&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;this.freeEvent(a)}this.freeEvent(n)}if(i!==r.target){n="mousemove"===t.type?"mouseover":"pointerover",t=this.clonePointerEvent(r,n);this.dispatchEvent(t,"pointerover"),s&&this.dispatchEvent(t,"mouseover");let e=i?.parent;for(;e&&e!==this.rootTarget.parent&&e!==r.target;)e=e.parent;if(!e||e===this.rootTarget.parent){var o=this.clonePointerEvent(r,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==i&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),s&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;this.freeEvent(o)}this.freeEvent(t)}n=[],t=this.enableGlobalMoveEvents??!0;this.moveOnAll?n.push("pointermove"):this.dispatchEvent(r,"pointermove"),t&&n.push("globalpointermove"),"touch"===r.pointerType&&(this.moveOnAll?n.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),t)&&n.push("globaltouchmove"),s&&(this.moveOnAll?n.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),t&&n.push("globalmousemove"),this.cursor=r.target?.cursor),0<n.length&&this.all(r,n),this._allInteractiveElements.length=0,this._hitElements.length=0,e.overTargets=r.composedPath(),this.freeEvent(r)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapPointerOver(e){if(e instanceof h.FederatedPointerEvent){var t=this.trackingData(e.pointerId),e=this.createPointerEvent(e),r="mouse"===e.pointerType||"pen"===e.pointerType,s=(this.dispatchEvent(e,"pointerover"),r&&this.dispatchEvent(e,"mouseover"),"mouse"===e.pointerType&&(this.cursor=e.target?.cursor),this.clonePointerEvent(e,"pointerenter"));for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),r&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;t.overTargets=e.composedPath(),this.freeEvent(e),this.freeEvent(s)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapPointerOut(e){if(e instanceof h.FederatedPointerEvent){var t=this.trackingData(e.pointerId);if(t.overTargets){var r="mouse"===e.pointerType||"pen"===e.pointerType,s=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",s),n=(this.dispatchEvent(i),r&&this.dispatchEvent(i,"mouseout"),this.createPointerEvent(e,"pointerleave",s));for(n.eventPhase=n.AT_TARGET;n.target&&n.target!==this.rootTarget.parent;)n.currentTarget=n.target,this.notifyTarget(n),r&&this.notifyTarget(n,"mouseleave"),n.target=n.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(n)}this.cursor=null}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapPointerUp(r){if(r instanceof h.FederatedPointerEvent){var s,e=performance.now(),i=this.createPointerEvent(r),n=(this.dispatchEvent(i,"pointerup"),"touch"===i.pointerType?this.dispatchEvent(i,"touchend"):"mouse"!==i.pointerType&&"pen"!==i.pointerType||(n=2===i.button,this.dispatchEvent(i,n?"rightup":"mouseup")),this.trackingData(r.pointerId)),a=this.findMountedTarget(n.pressTargetsByButton[r.button]);let t=a;if(a&&!i.composedPath().includes(a)){let e=a;for(;e&&!i.composedPath().includes(e);)i.currentTarget=e,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType?this.notifyTarget(i,"touchendoutside"):"mouse"!==i.pointerType&&"pen"!==i.pointerType||(s=2===i.button,this.notifyTarget(i,s?"rightupoutside":"mouseupoutside")),e=e.parent;delete n.pressTargetsByButton[r.button],t=e}t&&((a=this.clonePointerEvent(i,"click")).target=t,a.path=null,n.clicksByButton[r.button]||(n.clicksByButton[r.button]={clickCount:0,target:a.target,timeStamp:e}),(n=n.clicksByButton[r.button]).target===a.target&&e-n.timeStamp<200?++n.clickCount:n.clickCount=1,n.target=a.target,n.timeStamp=e,a.detail=n.clickCount,"mouse"===a.pointerType?(r=2===a.button,this.dispatchEvent(a,r?"rightclick":"click")):"touch"===a.pointerType&&this.dispatchEvent(a,"tap"),this.dispatchEvent(a,"pointertap"),this.freeEvent(a)),this.freeEvent(i)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapPointerUpOutside(t){if(t instanceof h.FederatedPointerEvent){var r=this.trackingData(t.pointerId),s=this.findMountedTarget(r.pressTargetsByButton[t.button]),i=this.createPointerEvent(t);if(s){let e=s;for(;e;)i.currentTarget=e,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType?this.notifyTarget(i,"touchendoutside"):"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),e=e.parent;delete r.pressTargetsByButton[t.button]}this.freeEvent(i)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}mapWheel(e){e instanceof n.FederatedWheelEvent?(e=this.createWheelEvent(e),this.dispatchEvent(e),this.freeEvent(e)):console.warn("EventBoundary cannot map a non-wheel event as a wheel event")}findMountedTarget(t){if(!t)return null;let r=t[0];for(let e=1;e<t.length&&t[e].parent===r;e++)r=t[e];return r}createPointerEvent(e,t,r){var s=this.allocateEvent(h.FederatedPointerEvent);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=r??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],"string"==typeof t&&(s.type=t),s}createWheelEvent(e){var t=this.allocateEvent(n.FederatedWheelEvent);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){var r=this.allocateEvent(h.FederatedPointerEvent);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof h.FederatedPointerEvent&&t instanceof h.FederatedPointerEvent&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof i.FederatedMouseEvent&&t instanceof i.FederatedMouseEvent&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);e=this.eventPool.get(e).pop()||new e(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(r,s){var i=r.currentTarget._events[s];if(i&&r.currentTarget.isInteractive())if("fn"in i)i.once&&r.currentTarget.removeListener(s,i.fn,void 0,!0),i.fn.call(i.context,r);else for(let e=0,t=i.length;e<t&&!r.propagationImmediatelyStopped;e++)i[e].once&&r.currentTarget.removeListener(s,i[e].fn,void 0,!0),i[e].fn.call(i[e].context,r)}}},{"./EventTicker.js":184,"./FederatedMouseEvent.js":188,"./FederatedPointerEvent.js":189,"./FederatedWheelEvent.js":190,"@pixi/core":104}],183:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./EventBoundary.js"),n=e("./EventTicker.js"),a=e("./FederatedPointerEvent.js"),o=e("./FederatedWheelEvent.js");const h={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},l=class{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new i.EventBoundary(null),n.EventsTicker.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new a.FederatedPointerEvent(null),this.rootWheelEvent=new o.FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...l.defaultEventFeatures},{set:(e,t,r)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=r),e[t]=r,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){var{view:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,l._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor!==e){this.currentCursor=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){var r=this.normalizeToPointerData(e);!this.autoPreventDefault||!r[0].isNormalized||!e.cancelable&&"cancelable"in e||e.preventDefault();for(let e=0,t=r.length;e<t;e++){var s=r[e],s=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}}onPointerMove(e){if(this.features.move&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){n.EventsTicker.pointerMoved();var r=this.normalizeToPointerData(e);for(let e=0,t=r.length;e<t;e++){var s=this.bootstrapEvent(this.rootPointerEvent,r[e]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}}onPointerUp(t){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==t.pointerType)){let e=t.target;var r=(e=t.composedPath&&0<t.composedPath().length?t.composedPath()[0]:e)!==this.domElement?"outside":"",s=this.normalizeToPointerData(t);for(let e=0,t=s.length;e<t;e++){var i=this.bootstrapEvent(this.rootPointerEvent,s[e]);i.type+=r,this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}}onPointerOverOut(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){var r=this.normalizeToPointerData(e);for(let e=0,t=r.length;e<t;e++){var s=this.bootstrapEvent(this.rootPointerEvent,r[e]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}}onWheel(e){this.features.wheel&&(e=this.normalizeWheelEvent(e),this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e))}setTargetElement(e){this.removeEvents(),this.domElement=e,n.EventsTicker.domElement=e,this.addEvents()}addEvents(){var e;!this.eventsAdded&&this.domElement&&(n.EventsTicker.addTickerListener(),(e=this.domElement.style)&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0)}removeEvents(){var e;this.eventsAdded&&this.domElement&&(n.EventsTicker.removeTickerListener(),e=this.domElement.style,globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1)}mapPositionToPoint(e,t,r){let s;s=this.domElement.parentElement?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};var i=1/this.resolution;e.x=(t-s.left)*(this.domElement.width/s.width)*i,e.y=(r-s.top)*(this.domElement.height/s.height)*i}normalizeToPointerData(r){var e,s=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(let e=0,t=r.changedTouches.length;e<t;e++){var i=r.changedTouches[e];void 0===i.button&&(i.button=0),void 0===i.buttons&&(i.buttons=1),void 0===i.isPrimary&&(i.isPrimary=1===r.touches.length&&"touchstart"===r.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=r.type,s.push(i)}else!globalThis.MouseEvent||r instanceof MouseEvent&&!(this.supportsPointerEvents&&r instanceof globalThis.PointerEvent)?(void 0===(e=r).isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=1),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0,s.push(e)):s.push(r);return s}normalizeWheelEvent(e){var t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=h[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};e=l;e.extension={name:"events",type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem]},e.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},s.extensions.add(e),r.EventSystem=e},{"./EventBoundary.js":182,"./EventTicker.js":184,"./FederatedPointerEvent.js":189,"./FederatedWheelEvent.js":190,"@pixi/core":104}],184:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");e=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){!this.tickerAdded&&this.domElement&&(s.Ticker.system.add(this.tickerUpdate,this,s.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(s.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){var e;this.domElement&&!this._pauseUpdate&&(this._didMove?this._didMove=!1:(e=this.events.rootPointerEvent,this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))))}tickerUpdate(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}};r.EventsTicker=e},{"@pixi/core":104}],185:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");r.FederatedEvent=class i{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=i.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new s.Point,this.page=new s.Point,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,s,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}},{"@pixi/core":104}],186:[function(e,t,r){},{}],187:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("@pixi/display"),n=e("./EventSystem.js"),a=e("./FederatedEvent.js");function o(e){return"dynamic"===e||"static"===e}e={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??o(n.EventSystem.defaultEventMode)},set interactive(e){s.utils.deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??n.EventSystem.defaultEventMode},set eventMode(e){this._internalInteractive=o(e),this._internalEventMode=e},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,r){var r="boolean"==typeof r&&r||"object"==typeof r&&r.capture,s="function"==typeof t?void 0:t;t="function"==typeof t?t:t.handleEvent,this.on(e=r?e+"capture":e,t,s)},removeEventListener(e,t,r){var r="boolean"==typeof r&&r||"object"==typeof r&&r.capture,s="function"==typeof t?void 0:t;t="function"==typeof t?t:t.handleEvent,this.off(e=r?e+"capture":e,t,s)},dispatchEvent(e){if(e instanceof a.FederatedEvent)return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented;throw new Error("DisplayObject cannot propagate events outside of the Federated Events API")}};i.DisplayObject.mixin(e),r.FederatedDisplayObject=e},{"./EventSystem.js":183,"./FederatedEvent.js":185,"@pixi/core":104,"@pixi/display":180}],188:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");class i extends e("./FederatedEvent.js").FederatedEvent{constructor(){super(...arguments),this.client=new s.Point,this.movement=new s.Point,this.offset=new s.Point,this.global=new s.Point,this.screen=new s.Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,s,i,n,a,o,h,l,u,d,c,p,f){throw new Error("Method not implemented.")}}r.FederatedMouseEvent=i},{"./FederatedEvent.js":185,"@pixi/core":104}],189:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends e("./FederatedMouseEvent.js").FederatedMouseEvent{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}r.FederatedPointerEvent=s},{"./FederatedMouseEvent.js":188}],190:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends e("./FederatedMouseEvent.js").FederatedMouseEvent{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}s.DOM_DELTA_PIXEL=0,s.DOM_DELTA_LINE=1,s.DOM_DELTA_PAGE=2,r.FederatedWheelEvent=s},{"./FederatedMouseEvent.js":188}],191:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./EventBoundary.js"),i=e("./EventSystem.js"),n=e("./FederatedEvent.js"),a=(e("./FederatedEventMap.js"),e("./FederatedEventTarget.js")),o=e("./FederatedMouseEvent.js"),h=e("./FederatedPointerEvent.js"),e=e("./FederatedWheelEvent.js");r.EventBoundary=s.EventBoundary,r.EventSystem=i.EventSystem,r.FederatedEvent=n.FederatedEvent,r.FederatedDisplayObject=a.FederatedDisplayObject,r.FederatedMouseEvent=o.FederatedMouseEvent,r.FederatedPointerEvent=h.FederatedPointerEvent,r.FederatedWheelEvent=e.FederatedWheelEvent},{"./EventBoundary.js":182,"./EventSystem.js":183,"./FederatedEvent.js":185,"./FederatedEventMap.js":186,"./FederatedEventTarget.js":187,"./FederatedMouseEvent.js":188,"./FederatedPointerEvent.js":189,"./FederatedWheelEvent.js":190}],192:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={..."object"!=typeof e.extension?{type:e.extension}:e.extension,ref:e}}if("object"!=typeof e)throw new Error("Invalid extension type");return"string"==typeof(e={...e}).type&&(e.type=[e.type]),e},i=(e,t)=>s(e).priority??t;var n={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(s).forEach(t=>{t.type.forEach(e=>this._removeHandlers[e]?.(t))}),this},add(...e){return e.map(s).forEach(s=>{s.type.forEach(e=>{var t=this._addHandlers,r=this._queue;t[e]?t[e](s):(r[e]=r[e]||[],r[e].push(s))})}),this},handle(e,t,r){var s=this._addHandlers,i=this._removeHandlers;if(s[e]||i[e])throw new Error(`Extension type ${e} already has a handler`);s[e]=t,i[e]=r;s=this._queue;return s[e]&&(s[e].forEach(e=>t(e)),delete s[e]),this},handleByMap(e,t){return this.handle(e,e=>{t[e.name]=e.ref},e=>{delete t[e.name]})},handleByList(e,t,r=-1){return this.handle(e,e=>{t.includes(e.ref)||(t.push(e.ref),t.sort((e,t)=>i(t,r)-i(e,r)))},e=>{e=t.indexOf(e.ref);-1!==e&&t.splice(e,1)})}};r.ExtensionType=(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))({}),r.extensions=n},{}],193:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=e("@pixi/core");const u=new l.Rectangle,i=class{constructor(e){this.renderer=e}async image(e,t,r){var s=new Image;return s.src=await this.base64(e,t,r),s}async base64(e,t,i){const n=this.canvas(e);if(void 0!==n.toBlob)return new Promise((r,s)=>{n.toBlob(e=>{if(e){const t=new FileReader;t.onload=()=>r(t.result),t.onerror=s,t.readAsDataURL(e)}else s(new Error("ICanvas.toBlob failed!"))},t,i)});if(void 0!==n.toDataURL)return n.toDataURL(t,i);if(void 0===n.convertToBlob)throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented");{const s=await n.convertToBlob({type:t,quality:i});return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>e(r.result),r.onerror=t,r.readAsDataURL(s)})}}canvas(e,t){var{pixels:e,width:t,height:r,flipY:s}=this._rawPixels(e,t),s=(s&&i._flipY(e,t,r),i._unpremultiplyAlpha(e),new l.utils.CanvasRenderTarget(t,r,1)),e=new ImageData(new Uint8ClampedArray(e.buffer),t,r);return s.context.putImageData(e,0,0),s.canvas}pixels(e,t){var{pixels:e,width:t,height:r,flipY:s}=this._rawPixels(e,t);return s&&i._flipY(e,t,r),i._unpremultiplyAlpha(e),e}_rawPixels(e,t){var r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let s,i=!1,n,a=!1;e&&(e instanceof l.RenderTexture?n=e:(n=r.generateTexture(e,{resolution:r.resolution,multisample:r.multisample}),a=!0)),n?(s=n.baseTexture.resolution,t=t??n.frame,i=!1,a||(r.renderTexture.bind(n),(e=n.framebuffer.glFramebuffers[r.CONTEXT_UID]).blitFramebuffer&&r.framebuffer.bind(e.blitFramebuffer))):(s=r.resolution,t||((t=u).width=r.width/s,t.height=r.height/s),i=!0,r.renderTexture.bind());var e=Math.round(t.width*s),o=Math.round(t.height*s),h=new Uint8Array(4*e*o),r=r.gl;return r.readPixels(Math.round(t.x*s),Math.round(t.y*s),e,o,r.RGBA,r.UNSIGNED_BYTE,h),a&&n?.destroy(!0),{pixels:h,width:e,height:o,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){var s=e<<2,i=r>>1,n=new Uint8Array(s);for(let e=0;e<i;e++){var a=e*s,o=(r-e-1)*s;n.set(t.subarray(a,a+s)),t.copyWithin(a,o,o+s),t.set(n,o)}}static _unpremultiplyAlpha(t){var r=(t=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t).length;for(let e=0;e<r;e+=4){var s=t[e+3];0!==s&&(s=255.001/s,t[e]=t[e]*s+.5,t[e+1]=t[e+1]*s+.5,t[e+2]=t[e+2]*s+.5)}}};e=i;e.extension={name:"extract",type:l.ExtensionType.RendererSystem},l.extensions.add(e),r.Extract=e},{"@pixi/core":104}],194:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./Extract.js");r.Extract=e.Extract},{"./Extract.js":193}],195:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./alpha.js");class n extends s.Filter{constructor(e=1){super(s.defaultVertex,i.default,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}r.AlphaFilter=n},{"./alpha.js":196,"@pixi/core":104}],196:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"},{}],197:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./AlphaFilter.js");r.AlphaFilter=e.AlphaFilter},{"./AlphaFilter.js":195}],198:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("@pixi/core"),i=e("./BlurFilterPass.js");class s extends a.Filter{constructor(e=8,t=4,r=a.Filter.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new i.BlurFilterPass(!0,e,t,r,s),this.blurYFilter=new i.BlurFilterPass(!1,e,t,r,s),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,s){var i=Math.abs(this.blurXFilter.strength),n=Math.abs(this.blurYFilter.strength);i&&n?(i=e.getFilterTexture(),this.blurXFilter.apply(e,t,i,a.CLEAR_MODES.CLEAR),this.blurYFilter.apply(e,i,r,s),e.returnFilterTexture(i)):(n?this.blurYFilter:this.blurXFilter).apply(e,t,r,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}r.BlurFilter=s},{"./BlurFilterPass.js":199,"@pixi/core":104}],199:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=e("@pixi/core"),n=e("./generateBlurFragSource.js"),a=e("./generateBlurVertSource.js");class s extends l.Filter{constructor(e,t=8,r=4,s=l.Filter.defaultResolution,i=5){super(a.generateBlurVertSource(i,e),n.generateBlurFragSource(i)),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=r,this.blur=t}apply(s,e,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/s.renderer.width*(s.renderer.width/e.width):this.uniforms.strength=1/s.renderer.height*(s.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)s.applyFilter(this,e,i,n);else{var a=s.getFilterTexture(),o=s.renderer;let t=e,r=a;this.state.blend=!1,s.applyFilter(this,t,r,l.CLEAR_MODES.CLEAR);for(let e=1;e<this.passes-1;e++){s.bindAndClear(t,l.CLEAR_MODES.BLIT);var h=this.uniforms.uSampler=r;r=t,t=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,s.applyFilter(this,r,i,n),s.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}r.BlurFilterPass=s},{"./generateBlurFragSource.js":200,"./generateBlurVertSource.js":201,"@pixi/core":104}],200:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},h=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");r.generateBlurFragSource=function(r){var s=o[r],i=s.length;let e=h,n="",a;for(let t=0;t<r;t++){let e="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",t.toString());(a=t)>=i&&(a=r-t-1),e=e.replace("%value%",s[a].toString()),n=n+e+"\n"}return e=(e=e.replace("%blur%",n)).replace("%size%",r.toString())}},{}],201:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.generateBlurVertSource=function(e,t){var r=Math.ceil(e/2);let s=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`,i="",n;n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let t=0;t<e;t++){let e=n.replace("%index%",t.toString());e=e.replace("%sampleIndex%",t-(r-1)+".0"),i=i+e+"\n"}return s=(s=s.replace("%blur%",i)).replace("%size%",e.toString())}},{}],202:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./BlurFilter.js"),e=e("./BlurFilterPass.js");r.BlurFilter=s.BlurFilter,r.BlurFilterPass=e.BlurFilterPass},{"./BlurFilter.js":198,"./BlurFilterPass.js":199}],203:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=e("@pixi/core"),s=e("./colorMatrix.js");class i extends l.Filter{constructor(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(l.defaultFilterVertex,s.default,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){e=new Float32Array(e);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)}tint(e,t){var[e,r,s]=l.Color.shared.setValue(e).toArray();this._loadMatrix([e,0,0,0,0,0,r,0,0,0,0,0,s,0,0,0,0,0,1,0],t)}greyscale(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){e=(e||0)/180*Math.PI;var r=Math.cos(e),e=Math.sin(e),s=(0,Math.sqrt)(1/3);this._loadMatrix([r+1/3*(1-r),1/3*(1-r)-s*e,1/3*(1-r)+s*e,0,0,1/3*(1-r)+s*e,r+1/3*(1-r),1/3*(1-r)-s*e,0,0,1/3*(1-r)-s*e,1/3*(1-r)+s*e,r+1/3*(1-r),0,0,0,0,0,1,0],t)}contrast(e,t){var e=(e||0)+1,r=-.5*(e-1);this._loadMatrix([e,0,0,0,r,0,e,0,0,r,0,0,e,0,r,0,0,0,1,0],t)}saturate(e=0,t){var e=2*e/3+1,r=-.5*(e-1);this._loadMatrix([e,r,r,0,0,r,e,r,0,0,r,r,e,0,0,0,0,0,1,0],t)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,r,s,i){e=e||.2,t=t||.15,s=s||3375104;var n=l.Color.shared,[r,a,o]=n.setValue(r=r||16770432).toArray(),[n,s,h]=n.setValue(s).toArray();this._loadMatrix([.3,.59,.11,0,0,r,a,o,e,0,n,s,h,t,0,r-n,a-s,o-h,0,0],i)}night(e,t){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],t)}predator(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}i.prototype.grayscale=i.prototype.greyscale,r.ColorMatrixFilter=i},{"./colorMatrix.js":204,"@pixi/core":104}],204:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"},{}],205:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./ColorMatrixFilter.js");r.ColorMatrixFilter=e.ColorMatrixFilter},{"./ColorMatrixFilter.js":203}],206:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./displacement.js"),n=e("./displacement2.js");class a extends s.Filter{constructor(e,t){var r=new s.Matrix;e.renderable=!1,super(n.default,i.default,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,this.scale=new s.Point(t=null==t?20:t,t)}apply(e,t,r,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,n=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==n&&0!==a&&(this.uniforms.rotation[0]=i.a/n,this.uniforms.rotation[1]=i.b/n,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),e.applyFilter(this,t,r,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}r.DisplacementFilter=a},{"./displacement.js":207,"./displacement2.js":208,"@pixi/core":104}],207:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n"},{}],208:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n"},{}],209:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./DisplacementFilter.js");r.DisplacementFilter=e.DisplacementFilter},{"./DisplacementFilter.js":206}],210:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./fxaa.js"),n=e("./fxaa2.js");class a extends s.Filter{constructor(){super(n.default,i.default)}}r.FXAAFilter=a},{"./fxaa.js":211,"./fxaa2.js":212,"@pixi/core":104}],211:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'},{}],212:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n"},{}],213:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./FXAAFilter.js");r.FXAAFilter=e.FXAAFilter},{"./FXAAFilter.js":210}],214:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./noise.js");class n extends s.Filter{constructor(e=.5,t=Math.random()){super(s.defaultFilterVertex,i.default,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}r.NoiseFilter=n},{"./noise.js":216,"@pixi/core":104}],215:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./NoiseFilter.js");r.NoiseFilter=e.NoiseFilter},{"./NoiseFilter.js":214}],216:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"},{}],217:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=e("@pixi/core"),s=e("@pixi/display"),i=e("./const.js"),n=e("./GraphicsGeometry.js"),a=e("./styles/FillStyle.js"),o=e("./styles/LineStyle.js"),h=(e("./utils/index.js"),e("./utils/QuadraticUtils.js")),l=e("./utils/BezierUtils.js"),p=e("./utils/ArcUtils.js");const u={},d=class extends s.Container{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new a.FillStyle,this._lineStyle=new o.LineStyle,this._matrix=null,this._holeMode=!1,this.state=c.State.for2d(),this._geometry=e||new n.GraphicsGeometry,this._geometry.refCount++,this._transformID=-1,this._tintColor=new c.Color(16777215),this.blendMode=c.BLEND_MODES.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new d(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,s=.5,i=!1){return this.lineTextureStyle(e="number"==typeof e?{width:e,color:t,alpha:r,alignment:s,native:i}:e)}lineTextureStyle(e){var t={width:0,texture:c.Texture.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:i.LINE_CAP.BUTT,join:i.LINE_JOIN.MITER,miterLimit:10},t=(e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly(),0<e.width&&0<e.alpha);return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this}startPoly(){var e,t;this.currentPath?(e=this.currentPath.points,2<(t=this.currentPath.points.length)&&(this.drawShape(this.currentPath),this.currentPath=new c.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))):(this.currentPath=new c.Polygon,this.currentPath.closeStroke=!1)}finishPoly(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,s=r[r.length-2],i=r[r.length-1];return s===e&&i===t||r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,s){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),h.QuadraticUtils.curveTo(e,t,r,s,i),this}bezierCurveTo(e,t,r,s,i,n){return this._initCurve(),l.BezierUtils.curveTo(e,t,r,s,i,n,this.currentPath.points),this}arcTo(e,t,r,s,i){this._initCurve(e,t);var n=this.currentPath.points,e=p.ArcUtils.curveTo(e,t,r,s,i,n);return e&&({cx:t,cy:r,radius:s,startAngle:i,endAngle:n,anticlockwise:e}=e,this.arc(t,r,s,i,n,e)),this}arc(t,r,s,i,n,a=!1){if(i!==n){!a&&n<=i?n+=c.PI_2:a&&i<=n&&(i+=c.PI_2);var o=n-i;if(0!=o){var h,l,o=t+Math.cos(i)*s,u=r+Math.sin(i)*s,d=this._geometry.closePointEps;let e=this.currentPath?this.currentPath.points:null;e?(h=Math.abs(e[e.length-2]-o),l=Math.abs(e[e.length-1]-u),h<d&&l<d||e.push(o,u)):(this.moveTo(o,u),e=this.currentPath.points),p.ArcUtils.arc(o,u,t,r,s,i,n,a,e)}}return this}beginFill(e=0,t){return this.beginTextureFill({texture:c.Texture.WHITE,color:e,alpha:t})}normalizeColor(e){var t=c.Color.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){var t={texture:c.Texture.WHITE,color:16777215,matrix:null},t=(e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly(),0<e.alpha);return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,s){return this.drawShape(new c.Rectangle(e,t,r,s))}drawRoundedRect(e,t,r,s,i){return this.drawShape(new c.RoundedRectangle(e,t,r,s,i))}drawCircle(e,t,r){return this.drawShape(new c.Circle(e,t,r))}drawEllipse(e,t,r,s){return this.drawShape(new c.Ellipse(e,t,r,s))}drawPolygon(...e){let t,r=!0;var s=e[0],s=(t=s.points?(r=s.closeStroke,s.points):Array.isArray(e[0])?e[0]:e,new c.Polygon(t));return s.closeStroke=r,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==c.SHAPES.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();var t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){var t=this._geometry,r=this.blendMode,s=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=s,this.vertexData=new Float32Array(t.points);for(let e=0;e<s;e++){var i=t.batches[e],n=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),o=new Float32Array(t.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),a={vertexData:a,blendMode:r,indices:new Uint16Array(t.indicesUint16.buffer,2*i.start,i.size),uvs:o,_batchRGB:c.Color.shared.setValue(n).toRgbArray(),_tintRGB:n,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[e]=a}}_renderBatched(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,t=this.batches.length;e<t;e++){var s=this.batches[e];s.worldAlpha=this.worldAlpha*s.alpha,r.plugins[this.pluginName].render(s)}}}_renderDirect(r){var e=this._resolveDirectShader(r),s=this._geometry,t=this.worldAlpha,i=e.uniforms,n=s.drawCalls;i.translationMatrix=this.transform.worldTransform,c.Color.shared.setValue(this._tintColor).premultiply(t).toArray(i.tint),r.shader.bind(e),r.geometry.bind(s,e),r.state.set(this.state);for(let e=0,t=n.length;e<t;e++)this._renderDrawCallDirect(r,s.drawCalls[e])}_renderDrawCallDirect(t,e){var{texArray:r,type:e,size:s,start:i}=e,n=r.count;for(let e=0;e<n;e++)t.texture.bind(r.elements[e],e);t.geometry.draw(e,s,i)}_resolveDirectShader(e){let t=this.shader;var r=this.pluginName;if(!t){if(!u[r]){var s=e.plugins[r]["maxTextures"],i=new Int32Array(s);for(let e=0;e<s;e++)i[e]=e;var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new c.Matrix,default:c.UniformGroup.from({uSamplers:i},!0)},e=e.plugins[r]._shader.program;u[r]=new c.Shader(e,n)}t=u[r]}return t}_calculateBounds(){this.finishPoly();var e,t,r,s=this._geometry;s.graphicsData.length&&({minX:s,minY:e,maxX:t,maxY:r}=s.bounds,this._bounds.addFrame(this.transform,s,e,t,r))}containsPoint(e){return this.worldTransform.applyInverse(e,d._TEMP_POINT),this._geometry.containsPoint(d._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){var t=this.batches[e];t._tintRGB=c.Color.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;var e=this.transform.worldTransform,r=e.a,s=e.b,i=e.c,n=e.d,a=e.tx,o=e.ty,h=this._geometry.points,l=this.vertexData;let t=0;for(let e=0;e<h.length;e+=2){var u=h[e],d=h[e+1];l[t++]=r*u+i*d+a,l[t++]=n*d+s*u+o}}}closePath(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};e=d;e.curves=i.curves,e._TEMP_POINT=new c.Point,r.Graphics=e},{"./GraphicsGeometry.js":219,"./const.js":220,"./styles/FillStyle.js":222,"./styles/LineStyle.js":223,"./utils/ArcUtils.js":224,"./utils/BezierUtils.js":226,"./utils/QuadraticUtils.js":227,"./utils/index.js":233,"@pixi/core":104,"@pixi/display":180}],218:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GraphicsData=class s{constructor(e,t=null,r=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=s,this.type=e.type}clone(){return new s(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}},{}],219:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=e("@pixi/core"),s=e("@pixi/display"),i=e("./GraphicsData.js"),f=e("./utils/index.js"),m=e("./utils/BatchPart.js"),n=e("./utils/buildPoly.js"),a=e("./utils/buildLine.js");const o=new p.Point,h=class extends p.BatchGeometry{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new s.Bounds,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0;for(let e=this.textureIds.length=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),f.DRAW_CALL_POOL.push(this.drawCalls[e]);for(let e=this.drawCalls.length=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),f.BATCH_POOL.push(t)}this.batches.length=0}clear(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,s=null){e=new i.GraphicsData(e,t,r,s);return this.graphicsData.push(e),this.dirty++,this}drawHole(e,t=null){return this.graphicsData.length?(e=new i.GraphicsData(e,null,null,t),t=this.graphicsData[this.graphicsData.length-1],e.lineStyle=t.lineStyle,t.holes.push(e),this.dirty++,this):null}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){var r=this.graphicsData;for(let e=0;e<r.length;++e){var s=r[e];if(s.fillStyle.visible&&(s.shape&&(s.matrix?s.matrix.applyInverse(t,o):o.copyFrom(t),s.shape.contains(o.x,o.y)))){let t=!1;if(s.holes)for(let e=0;e<s.holes.length;e++)if(s.holes[e].shape.contains(o.x,o.y)){t=!0;break}if(!t)return!0}}return!1}updateBatches(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var s=this.uvs,i=this.graphicsData;let t=null,r=null;0<this.batches.length&&(t=this.batches[this.batches.length-1],r=t.style);for(let e=this.shapeIndex;e<i.length;e++){this.shapeIndex++;var n=i[e],a=n.fillStyle,o=n.lineStyle;f.FILL_COMMANDS[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix),(a.visible||o.visible)&&this.processHoles(n.holes);for(let e=0;e<2;e++){var h,l,u,d=0===e?a:o;d.visible&&(u=d.texture.baseTexture,h=this.indices.length,l=this.points.length/2,u.wrapMode=p.WRAP_MODES.REPEAT,0===e?this.processFill(n):this.processLine(n),0!=(u=this.points.length/2-l))&&(t&&!this._compareStyles(r,d)&&(t.end(h,l),t=null),t||((t=f.BATCH_POOL.pop()||new m.BatchPart).begin(d,h,l),this.batches.push(t),r=d),this.addUvs(this.points,s,d.texture,l,u,d.matrix))}}var e=this.indices.length,c=this.points.length/2;t&&t.end(e,c),0===this.batches.length?this.batchable=!0:(e=65535<c,this.indicesUint16&&this.indices.length===this.indicesUint16.length&&e==2<this.indicesUint16.BYTES_PER_ELEMENT?this.indicesUint16.set(this.indices):this.indicesUint16=new(e?Uint32Array:Uint16Array)(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls())}}else this.batchable=!0}_compareStyles(e,t){return!(!e||!t)&&e.texture.baseTexture===t.texture.baseTexture&&e.color+e.alpha===t.color+t.alpha&&!!e.native==!!t.native}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){var r=this.graphicsData[e],s=r.fillStyle,r=r.lineStyle;if(s&&!s.texture.baseTexture.valid)return!1;if(r&&!r.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);var r=this.batches;for(let e=0,t=r.length;e<t;e++){var s=r[e];for(let e=0;e<s.size;e++){var i=s.start+e;this.indicesUint16[i]=this.indicesUint16[i]-s.attribStart}}}isBatchable(){if(131070<this.points.length)return!1;var t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*h.BATCHABLE_SIZE}buildDrawCalls(){let t=++p.BaseTexture._globalBatch;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),f.DRAW_CALL_POOL.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,s=this.textureIds;let i=f.DRAW_CALL_POOL.pop(),n=(i||((i=new p.BatchDrawCall).texArray=new p.BatchTextureArray),i.texArray.count=0,i.start=0,i.size=0,i.type=p.DRAW_MODES.TRIANGLES,0),a=null;let o=!1,h=p.DRAW_MODES.TRIANGLES,l=0;this.drawCalls.push(i);for(let e=0;e<this.batches.length;e++){var u=this.batches[e],d=u.style,c=d.texture.baseTexture;o!==!!d.native&&(o=!!d.native,h=o?p.DRAW_MODES.LINES:p.DRAW_MODES.TRIANGLES,a=null,n=8,t++),a!==c&&(a=c)._batchEnabled!==t&&(8===n&&(t++,(n=0)<i.size&&((i=f.DRAW_CALL_POOL.pop())||((i=new p.BatchDrawCall).texArray=new p.BatchTextureArray),this.drawCalls.push(i)),i.start=l,i.size=0,i.texArray.count=0,i.type=h),c.touched=1,c._batchEnabled=t,c._batchLocation=n,c.wrapMode=p.WRAP_MODES.REPEAT,i.texArray.elements[i.texArray.count++]=c,n++),i.size+=u.size,l+=u.size,c=c._batchLocation,this.addColors(r,d.color,d.alpha,u.attribSize,u.attribStart),this.addTextureIds(s,c,u.attribSize,u.attribStart)}p.BaseTexture._globalBatch=t,this.packAttributes()}packAttributes(){var t=this.points,r=this.uvs,s=this.colors,i=this.textureIds,e=new ArrayBuffer(3*t.length*4),n=new Float32Array(e),a=new Uint32Array(e);let o=0;for(let e=0;e<t.length/2;e++)n[o++]=t[2*e],n[o++]=t[2*e+1],n[o++]=r[2*e],n[o++]=r[2*e+1],a[o++]=s[e],n[o++]=i[e];this._buffer.update(e),this._indexBuffer.update(this.indicesUint16)}processFill(e){(e.holes.length?n.buildPoly:f.FILL_COMMANDS[e.type]).triangulate(e,this)}processLine(t){a.buildLine(t,this);for(let e=0;e<t.holes.length;e++)a.buildLine(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){var r=t[e];f.FILL_COMMANDS[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){var e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,r){for(let e=0;e<t.length/2;e++){var s=t[2*e],i=t[2*e+1];t[2*e]=r.a*s+r.c*i+r.tx,t[2*e+1]=r.b*s+r.d*i+r.ty}}addColors(t,e,r,s,i=0){var e=p.Color.shared.setValue(e).toLittleEndianNumber(),n=p.Color.shared.setValue(e).toPremultiplied(r);t.length=Math.max(t.length,i+s);for(let e=0;e<s;e++)t[i+e]=n}addTextureIds(t,r,s,i=0){t.length=Math.max(t.length,i+s);for(let e=0;e<s;e++)t[i+e]=r}addUvs(r,s,e,i,t,n=null){let a=0;for(var o,h=s.length,l=e.frame;a<t;){let e=r[2*(i+a)],t=r[2*(i+a)+1];n&&(o=n.a*e+n.c*t+n.tx,t=n.b*e+n.d*t+n.ty,e=o),a++,s.push(e/l.width,t/l.height)}var u=e.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(s,e,h,t)}adjustUvs(t,e,r,s){var i=e.baseTexture,n=r+2*s,s=e.frame,a=s.width/i.width,o=s.height/i.height,h=s.x/s.width,l=s.y/s.height;let u=Math.floor(t[r]+1e-6),d=Math.floor(t[r+1]+1e-6);for(let e=r+2;e<n;e+=2)u=Math.min(u,Math.floor(t[e]+1e-6)),d=Math.min(d,Math.floor(t[e+1]+1e-6));h-=u,l-=d;for(let e=r;e<n;e+=2)t[e]=(t[e]+h)*a,t[e+1]=(t[e+1]+l)*o}};e=h;e.BATCHABLE_SIZE=100,r.GraphicsGeometry=e},{"./GraphicsData.js":218,"./utils/BatchPart.js":225,"./utils/buildLine.js":229,"./utils/buildPoly.js":230,"./utils/index.js":233,"@pixi/core":104,"@pixi/display":180}],220:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=(e=>(e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e))({}),i=(e=>(e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e))({}),n={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};r.GRAPHICS_CURVES=n,r.LINE_CAP=i,r.LINE_JOIN=s,r.curves=n},{}],221:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./utils/index.js"),i=e("./const.js"),n=e("./Graphics.js"),a=e("./GraphicsData.js"),o=e("./GraphicsGeometry.js"),h=e("./styles/FillStyle.js"),l=e("./styles/LineStyle.js"),u=e("./utils/buildPoly.js"),d=e("./utils/buildCircle.js"),c=e("./utils/buildRectangle.js"),p=e("./utils/buildRoundedRectangle.js"),f=e("./utils/buildLine.js"),m=e("./utils/ArcUtils.js"),g=e("./utils/BezierUtils.js"),_=e("./utils/QuadraticUtils.js"),e=e("./utils/BatchPart.js"),u={buildPoly:u.buildPoly,buildCircle:d.buildCircle,buildRectangle:c.buildRectangle,buildRoundedRectangle:p.buildRoundedRectangle,buildLine:f.buildLine,ArcUtils:m.ArcUtils,BezierUtils:g.BezierUtils,QuadraticUtils:_.QuadraticUtils,BatchPart:e.BatchPart,FILL_COMMANDS:s.FILL_COMMANDS,BATCH_POOL:s.BATCH_POOL,DRAW_CALL_POOL:s.DRAW_CALL_POOL};r.GRAPHICS_CURVES=i.GRAPHICS_CURVES,r.LINE_CAP=i.LINE_CAP,r.LINE_JOIN=i.LINE_JOIN,r.curves=i.curves,r.Graphics=n.Graphics,r.GraphicsData=a.GraphicsData,r.GraphicsGeometry=o.GraphicsGeometry,r.FillStyle=h.FillStyle,r.LineStyle=l.LineStyle,r.graphicsUtils=u},{"./Graphics.js":217,"./GraphicsData.js":218,"./GraphicsGeometry.js":219,"./const.js":220,"./styles/FillStyle.js":222,"./styles/LineStyle.js":223,"./utils/ArcUtils.js":224,"./utils/BatchPart.js":225,"./utils/BezierUtils.js":226,"./utils/QuadraticUtils.js":227,"./utils/buildCircle.js":228,"./utils/buildLine.js":229,"./utils/buildPoly.js":230,"./utils/buildRectangle.js":231,"./utils/buildRoundedRectangle.js":232,"./utils/index.js":233}],222:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");r.FillStyle=class i{constructor(){this.color=16777215,this.alpha=1,this.texture=s.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){var e=new i;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=s.Texture.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}},{"@pixi/core":104}],223:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../const.js");class i extends e("./FillStyle.js").FillStyle{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=s.LINE_CAP.BUTT,this.join=s.LINE_JOIN.MITER,this.miterLimit=10}clone(){var e=new i;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}r.LineStyle=i},{"../const.js":220,"./FillStyle.js":222}],224:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var x=e("@pixi/core"),v=e("../const.js");r.ArcUtils=class{static curveTo(e,t,r,s,i,n){var a,o,h,l,u=n[n.length-2],d=n[n.length-1]-t,u=u-e,s=s-t,r=r-e,c=Math.abs(d*r-u*s);return c<1e-8||0===i?(n[n.length-2]===e&&n[n.length-1]===t||n.push(e,t),null):(n=d*d+u*u,h=s*s+r*r,l=d*s+u*r,n=(a=i*Math.sqrt(n)/c)*l/n,h=r*(a+(l=(c=i*Math.sqrt(h)/c)*l/h)),l=s*(a+l),{cx:(o=a*r+c*u)+e,cy:(e=a*s+c*d)+t,radius:i,startAngle:Math.atan2(d*(c+n)-e,u*(c+n)-o),endAngle:Math.atan2(l-e,h-o),anticlockwise:r*d<u*s})}static arc(e,t,r,s,i,n,a,o,h){var a=a-n,l=v.curves._segmentsCount(Math.abs(a)*i,40*Math.ceil(Math.abs(a)/x.PI_2)),u=a/(2*l),d=2*u,c=Math.cos(u),p=Math.sin(u),f=l-1,m=f%1/f;for(let e=0;e<=f;++e){var g=u+n+d*(e+m*e),_=Math.cos(g),g=-Math.sin(g);h.push((c*_+p*g)*i+r,(c*-g+p*_)*i+s)}}}},{"../const.js":220,"@pixi/core":104}],225:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BatchPart=class{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}},{}],226:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var _=e("../const.js");class x{static curveLength(t,r,s,i,n,a,o,h){let l=0;var u,d,c,p,f,m,g;let _=t,x=r;for(let e=1;e<=10;++e)p=(f=(m=(c=1-(g=e/10))*c)*c)*t+3*m*g*s+3*c*(u=g*g)*n+(d=u*g)*o,f=f*r+3*m*g*i+3*c*u*a+d*h,m=_-p,g=x-f,_=p,x=f,l+=Math.sqrt(m*m+g*g);return l}static curveTo(r,s,i,n,a,o,h){var l,u,d,c,p,f=h[h.length-2],m=h[h.length-1],g=(h.length-=2,_.curves._segmentsCount(x.curveLength(f,m,r,s,i,n,a,o)));h.push(f,m);for(let e=1,t;e<=g;++e)t=e/g,h.push((d=(u=(l=1-t)*l)*l)*f+3*u*t*r+3*l*(c=t*t)*i+(p=c*t)*a,d*m+3*u*t*s+3*l*c*n+p*o)}}r.BezierUtils=x},{"../const.js":220}],227:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var d=e("../const.js");class c{static curveLength(e,t,r,s,i,n){var i=e-2*r+i,n=t-2*s+n,r=2*r-2*e,e=2*s-2*t,s=4*(i*i+n*n),t=4*(i*r+n*e),i=r*r+e*e,n=2*Math.sqrt(s+t+i),r=Math.sqrt(s),e=2*s*r,a=2*Math.sqrt(i),o=t/r;return(e*n+r*t*(n-a)+(4*i*s-t*t)*Math.log((2*r+o+n)/(o+a)))/(4*e)}static curveTo(t,r,s,i,n){var a=n[n.length-2],o=n[n.length-1],h=d.curves._segmentsCount(c.curveLength(a,o,t,r,s,i));for(let e=1;e<=h;++e){var l,u=e/h;n.push((l=a+(t-a)*u)+(t+(s-t)*u-l)*u,(l=o+(r-o)*u)+(r+(i-r)*u-l)*u)}}}r.QuadraticUtils=c},{"../const.js":220}],228:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var y=e("@pixi/core");r.buildCircle={build(e){var n=e.points;let a,o,h,l,u,d;if(e.type===y.SHAPES.CIRC?(p=e.shape,a=p.x,o=p.y,u=d=p.radius,h=l=0):e.type===y.SHAPES.ELIP?(p=e.shape,a=p.x,o=p.y,u=p.width,d=p.height,h=l=0):(e=(p=e.shape).width/2,f=p.height/2,a=p.x+e,o=p.y+f,u=d=Math.max(0,Math.min(p.radius,Math.min(e,f))),h=e-u,l=f-d),0<=u&&0<=d&&0<=h&&0<=l){var c=Math.ceil(2.3*Math.sqrt(u+d)),p=8*c+(h?4:0)+(l?4:0);if(0!=(n.length=p))if(0===c)n.length=8,n[0]=n[6]=a+h,n[1]=n[3]=o+l,n[2]=n[4]=a-h,n[5]=n[7]=o-l;else{let t=0,r=4*c+(h?2:0)+2,s=r,i=p;var e=h+u,f=l,p=a+e,e=a-e,m=o+f;n[t++]=p,n[t++]=m,n[--r]=m,n[--r]=e,l&&(m=o-f,n[s++]=e,n[s++]=m,n[--i]=m,n[--i]=p);for(let e=1;e<c;e++){var g=Math.PI/2*(e/c),_=h+Math.cos(g)*u,g=l+Math.sin(g)*d,x=a+_,_=a-_,v=o+g,g=o-g;n[t++]=x,n[t++]=v,n[--r]=v,n[--r]=_,n[s++]=_,n[s++]=g,n[--i]=g,n[--i]=x}f=h,e=l+d,m=a+f,p=a-f,f=o+e,e=o-e;n[t++]=m,n[t++]=f,n[--i]=e,n[--i]=m,h&&(n[t++]=p,n[t++]=f,n[--i]=e,n[--i]=p)}}else n.length=0},triangulate(s,i){var n=s.points,a=i.points,o=i.indices;if(0!==n.length){let t=a.length/2;var h=t;let e,r;r=s.type!==y.SHAPES.RREC?(i=s.shape,e=i.x,i.y):(i=s.shape,e=i.x+i.width/2,i.y+i.height/2);i=s.matrix;a.push(s.matrix?i.a*e+i.c*r+i.tx:e,s.matrix?i.b*e+i.d*r+i.ty:r),t++,a.push(n[0],n[1]);for(let e=2;e<n.length;e+=2)a.push(n[e],n[e+1]),o.push(t++,h,t);o.push(h+1,h,t)}}}},{"@pixi/core":104}],229:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var H=e("@pixi/core"),V=e("../const.js");function X(e,t,r,s,i,n,a,o){let h,l;l=a?(h=s,-r):(h=-s,r);a=e-r*i+h,i=t-s*i+l,e=e+r*n+h,r=t+s*n+l;return o.push(a,i,e,r),2}function W(r,s,e,t,i,n,a,o){var h=e-r,l=t-s;let u=Math.atan2(h,l),d=Math.atan2(i-r,n-s);o&&u<d?u+=2*Math.PI:!o&&u>d&&(d+=2*Math.PI);var c=u,p=d-u,f=Math.abs(p),m=Math.sqrt(h*h+l*l),g=1+(15*f*Math.sqrt(m)/Math.PI>>0),_=p/g;if(c+=_,o){a.push(r,s,e,t);for(let e=1,t=c;e<g;e++,t+=_)a.push(r,s,r+Math.sin(t)*m,s+Math.cos(t)*m);a.push(r,s,i,n)}else{a.push(e,t,r,s);for(let e=1,t=c;e<g;e++,t+=_)a.push(r+Math.sin(t)*m,s+Math.cos(t)*m,r,s);a.push(i,n,r,s)}return 2*g}r.buildLine=function(e,c){if(e.lineStyle.native){var p=e;var f=c;let t=0;var m=p.shape,r=p.points||m.points,p=m.type!==H.SHAPES.POLY||m.closeStroke;if(0!==r.length){var s=f.points,i=f.indices,n=r.length/2,m=s.length/2;let e=m;for(s.push(r[0],r[1]),t=1;t<n;t++)s.push(r[2*t],r[2*t+1]),i.push(e,e+1),e++;p&&i.push(e,m)}}else{f=e;p=c;m=f.shape;let d=f.points||m.points.slice();e=p.closePointEps;if(0!==d.length){var g=f.lineStyle,f=new H.Point(d[0],d[1]),c=new H.Point(d[d.length-2],d[d.length-1]),m=m.type!==H.SHAPES.POLY||m.closeStroke,e=Math.abs(f.x-c.x)<e&&Math.abs(f.y-c.y)<e,_=(m&&(d=d.slice(),e&&(d.pop(),d.pop(),c.set(d[d.length-2],d[d.length-1])),e=.5*(f.x+c.x),c=.5*(c.y+f.y),d.unshift(e,c),d.push(e,c)),p.points),x=d.length/2;let t=d.length;var v=_.length/2,y=g.width/2,T=y*y,b=g.miterLimit*g.miterLimit;let r=d[0],s=d[1],i=d[2],n=d[3],a=0,o=0,h=-(s-n),l=r-i;var E=0,S=0;let u=Math.sqrt(h*h+l*l);h/=u,l/=u,h*=y,l*=y;var f=g.alignment,A=2*(1-f),P=2*f;m||(g.cap===V.LINE_CAP.ROUND?t+=W(r-h*(A-P)*.5,s-l*(A-P)*.5,r-h*A,s-l*A,r+h*P,s+l*P,_,!0)+2:g.cap===V.LINE_CAP.SQUARE&&(t+=X(r,s,h,l,A,P,!0,_))),_.push(r-h*A,s-l*A,r+h*P,s+l*P);for(let e=1;e<x-1;++e){r=d[2*(e-1)],s=d[2*(e-1)+1],i=d[2*e],n=d[2*e+1],a=d[2*(e+1)],o=d[2*(e+1)+1],h=-(s-n),l=r-i,u=Math.sqrt(h*h+l*l),h/=u,l/=u,h*=y,l*=y,E=-(n-o),S=i-a;var E=E/(u=Math.sqrt(E*E+S*S))*y,S=S/u*y,M=i-r,R=s-n,w=i-a,j=o-n,C=M*w+R*j,O=R*w-j*M,I=O<0;if(Math.abs(O)<.001*Math.abs(C))_.push(i-h*A,n-l*A,i+h*P,n+l*P),0<=C&&(g.join===V.LINE_JOIN.ROUND?t+=W(i,n,i-h*A,n-l*A,i-E*A,n-S*A,_,!1)+4:t+=2,_.push(i-E*P,n-S*P,i+E*A,n+S*A));else{var C=(-h+r)*(-l+n)-(-h+i)*(-l+s),B=(-E+a)*(-S+n)-(-E+i)*(-S+o),D=(M*B-w*C)/O,C=(j*C-R*B)/O,B=(D-i)*(D-i)+(C-n)*(C-n),F=i+(D-i)*A,L=n+(C-n)*A,N=i-(D-i)*P,k=n-(C-n)*P,O=Math.min(M*M+R*R,w*w+j*j),D=I?A:P;let e=g.join;if(e===V.LINE_JOIN.MITER&&b<B/T&&(e=V.LINE_JOIN.BEVEL),B<=O+D*D*T)switch(e){case V.LINE_JOIN.MITER:_.push(F,L,N,k);break;case V.LINE_JOIN.BEVEL:I?_.push(F,L,i+h*P,n+l*P,F,L,i+E*P,n+S*P):_.push(i-h*A,n-l*A,N,k,i-E*A,n-S*A,N,k),t+=2;break;case V.LINE_JOIN.ROUND:I?(_.push(F,L,i+h*P,n+l*P),t+=W(i,n,i+h*P,n+l*P,i+E*P,n+S*P,_,!0)+4,_.push(F,L,i+E*P,n+S*P)):(_.push(i-h*A,n-l*A,N,k),t+=W(i,n,i-h*A,n-l*A,i-E*A,n-S*A,_,!1)+4,_.push(i-E*A,n-S*A,N,k))}else{switch(_.push(i-h*A,n-l*A,i+h*P,n+l*P),e){case V.LINE_JOIN.MITER:I?_.push(N,k,N,k):_.push(F,L,F,L),t+=2;break;case V.LINE_JOIN.ROUND:t+=I?W(i,n,i+h*P,n+l*P,i+E*P,n+S*P,_,!0)+2:W(i,n,i-h*A,n-l*A,i-E*A,n-S*A,_,!1)+2}_.push(i-E*A,n-S*A,i+E*P,n+S*P),t+=2}}}r=d[2*(x-2)],s=d[2*(x-2)+1],i=d[2*(x-1)],n=d[2*(x-1)+1],h=-(s-n),l=r-i,u=Math.sqrt(h*h+l*l),h/=u,l/=u,h*=y,l*=y,_.push(i-h*A,n-l*A,i+h*P,n+l*P),m||(g.cap===V.LINE_CAP.ROUND?t+=W(i-h*(A-P)*.5,n-l*(A-P)*.5,i-h*A,n-l*A,i+h*P,n+l*P,_,!1)+2:g.cap===V.LINE_CAP.SQUARE&&(t+=X(i,n,h,l,A,P,!1,_)));var U=p.indices,G=V.curves.epsilon*V.curves.epsilon;for(let e=v;e<t+v-2;++e)r=_[2*e],s=_[2*e+1],i=_[2*(e+1)],n=_[2*(e+1)+1],a=_[2*(e+2)],o=_[2*(e+2)+1],Math.abs(r*(n-o)+i*(o-s)+a*(s-n))<G||U.push(e,e+1,e+2)}}}},{"../const.js":220,"@pixi/core":104}],230:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=e("@pixi/core");function d(i,t=!1){var n=i.length;if(!(n<6)){let s=0;for(let e=0,t=i[n-2],r=i[n-1];e<n;e+=2){var a=i[e],o=i[e+1];s+=(a-t)*(o+r),t=a,r=o}if(!t&&0<s||t&&s<=0){t=n/2;for(let e=t+t%2;e<n;e+=2){var r=n-e-2,h=n-e-1,l=e,u=e+1;[i[r],i[l]]=[i[l],i[r]],[i[h],i[u]]=[i[u],i[h]]}}}}r.buildPoly={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let r=e.points;var s=e.holes,i=t.points,n=t.indices;if(6<=r.length){d(r,!1);var a=[];for(let e=0;e<s.length;e++){var o=s[e];d(o.points,!0),a.push(r.length/2),r=r.concat(o.points)}var h=u.utils.earcut(r,a,2);if(h){var l=i.length/2;for(let e=0;e<h.length;e+=3)n.push(h[e]+l),n.push(h[e+1]+l),n.push(h[e+2]+l);for(let e=0;e<r.length;e++)i.push(r[e])}}}}},{"@pixi/core":104}],231:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.buildRectangle={build(e){var t=e.shape,r=t.x,s=t.y,i=t.width,t=t.height,e=e.points;(e.length=0)<=i&&0<=t&&e.push(r,s,r+i,s,r+i,s+t,r,s+t)},triangulate(e,t){var r,e=e.points,s=t.points;0!==e.length&&(r=s.length/2,s.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(r,1+r,2+r,1+r,2+r,3+r))}}},{}],232:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./buildCircle.js");r.buildRoundedRectangle={build(e){s.buildCircle.build(e)},triangulate(e,t){s.buildCircle.triangulate(e,t)}}},{"./buildCircle.js":228}],233:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./buildCircle.js"),n=e("./buildPoly.js"),a=e("./buildRectangle.js"),o=e("./buildRoundedRectangle.js"),h=e("./ArcUtils.js"),l=e("./BatchPart.js"),u=e("./BezierUtils.js"),d=e("./buildLine.js"),e=e("./QuadraticUtils.js"),s={[s.SHAPES.POLY]:n.buildPoly,[s.SHAPES.CIRC]:i.buildCircle,[s.SHAPES.ELIP]:i.buildCircle,[s.SHAPES.RECT]:a.buildRectangle,[s.SHAPES.RREC]:o.buildRoundedRectangle};r.buildCircle=i.buildCircle,r.buildPoly=n.buildPoly,r.buildRectangle=a.buildRectangle,r.buildRoundedRectangle=o.buildRoundedRectangle,r.ArcUtils=h.ArcUtils,r.BatchPart=l.BatchPart,r.BezierUtils=u.BezierUtils,r.buildLine=d.buildLine,r.QuadraticUtils=e.QuadraticUtils,r.BATCH_POOL=[],r.DRAW_CALL_POOL=[],r.FILL_COMMANDS=s},{"./ArcUtils.js":224,"./BatchPart.js":225,"./BezierUtils.js":226,"./QuadraticUtils.js":227,"./buildCircle.js":228,"./buildLine.js":229,"./buildPoly.js":230,"./buildRectangle.js":231,"./buildRoundedRectangle.js":232,"@pixi/core":104}],234:[function(e,t,r){},{}],235:[function(e,t,r){},{}],236:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=e("./const.js"),i=e("./Point.js");r.Matrix=class s{constructor(e=1,t=0,r=0,s=1,i=0,n=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=s,this.tx=i,this.ty=n}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,s,i,n){return this.a=e,this.b=t,this.c=r,this.d=s,this.tx=i,this.ty=n,this}toArray(e,t){return this.array||(this.array=new Float32Array(9)),t=t||this.array,e?(t[0]=this.a,t[1]=this.b,t[2]=0,t[3]=this.c,t[4]=this.d,t[5]=0,t[6]=this.tx,t[7]=this.ty):(t[0]=this.a,t[1]=this.c,t[2]=this.tx,t[3]=this.b,t[4]=this.d,t[5]=this.ty,t[6]=0,t[7]=0),t[8]=1,t}apply(e,t){t=t||new i.Point;var r=e.x,e=e.y;return t.x=this.a*r+this.c*e+this.tx,t.y=this.b*r+this.d*e+this.ty,t}applyInverse(e,t){t=t||new i.Point;var r=1/(this.a*this.d+this.c*-this.b),s=e.x,e=e.y;return t.x=this.d*r*s+-this.c*r*e+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*e+-this.b*r*s+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){var t=Math.cos(e),e=Math.sin(e),r=this.a,s=this.c,i=this.tx;return this.a=r*t-this.b*e,this.b=r*e+this.b*t,this.c=s*t-this.d*e,this.d=s*e+this.d*t,this.tx=i*t-this.ty*e,this.ty=i*e+this.ty*t,this}append(e){var t=this.a,r=this.b,s=this.c,i=this.d;return this.a=e.a*t+e.b*s,this.b=e.a*r+e.b*i,this.c=e.c*t+e.d*s,this.d=e.c*r+e.d*i,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*r+e.ty*i+this.ty,this}setTransform(e,t,r,s,i,n,a,o,h){return this.a=Math.cos(a+h)*i,this.b=Math.sin(a+h)*i,this.c=-Math.sin(a-o)*n,this.d=Math.cos(a-o)*n,this.tx=e-(r*this.a+s*this.c),this.ty=t-(r*this.b+s*this.d),this}prepend(e){var t,r,s=this.tx;return 1===e.a&&0===e.b&&0===e.c&&1===e.d||(t=this.a,r=this.c,this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d),this.tx=s*e.a+this.ty*e.c+e.tx,this.ty=s*e.b+this.ty*e.d+e.ty,this}decompose(e){var t=this.a,r=this.b,s=this.c,i=this.d,n=e.pivot,a=-Math.atan2(-s,i),o=Math.atan2(r,t),h=Math.abs(a+o);return h<1e-5||Math.abs(l.PI_2-h)<1e-5?(e.rotation=o,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=o),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(s*s+i*i),e.position.x=this.tx+(n.x*t+n.y*s),e.position.y=this.ty+(n.x*r+n.y*i),e}invert(){var e=this.a,t=this.b,r=this.c,s=this.d,i=this.tx,n=e*s-t*r;return this.a=s/n,this.b=-t/n,this.c=-r/n,this.d=e/n,this.tx=(r*this.ty-s*i)/n,this.ty=-(e*this.ty-t*i)/n,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){var e=new s;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new s}static get TEMP_MATRIX(){return new s}}},{"./Point.js":238,"./const.js":240}],237:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ObservablePoint=class s{constructor(e,t,r=0,s=0){this._x=r,this._y=s,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new s(e,t,this._x,this._y)}set(e=0,t=e){return this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}},{}],238:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Point=class s{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new s(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}},{}],239:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./Matrix.js"),i=e("./ObservablePoint.js"),e=class{constructor(){this.worldTransform=new s.Matrix,this.localTransform=new s.Matrix,this.position=new i.ObservablePoint(this.onChange,this,0,0),this.scale=new i.ObservablePoint(this.onChange,this,1,1),this.pivot=new i.ObservablePoint(this.onChange,this,0,0),this.skew=new i.ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){var t,r,s=this.localTransform;this._localID!==this._currentLocalID&&(s.a=this._cx*this.scale.x,s.b=this._sx*this.scale.x,s.c=this._cy*this.scale.y,s.d=this._sy*this.scale.y,s.tx=this.position.x-(this.pivot.x*s.a+this.pivot.y*s.c),s.ty=this.position.y-(this.pivot.x*s.b+this.pivot.y*s.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID&&(t=e.worldTransform,(r=this.worldTransform).a=s.a*t.a+s.b*t.c,r.b=s.a*t.b+s.b*t.d,r.c=s.c*t.a+s.d*t.c,r.d=s.c*t.b+s.d*t.d,r.tx=s.tx*t.a+s.ty*t.c+t.tx,r.ty=s.tx*t.b+s.ty*t.d+t.ty,this._parentID=e._worldID,this._worldID++)}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}},n=e;n.IDENTITY=new e,r.Transform=n},{"./Matrix.js":236,"./ObservablePoint.js":237}],240:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=2*Math.PI,i=180/Math.PI,n=Math.PI/180,a=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))({});r.DEG_TO_RAD=n,r.PI_2=s,r.RAD_TO_DEG=i,r.SHAPES=a},{}],241:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./Matrix.js");const i=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],n=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],o=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],l=[],u=Math.sign;for(let t=0;t<16;t++){var d=[];h.push(d);for(let e=0;e<16;e++){var c=u(i[t]*i[e]+a[t]*n[e]),p=u(n[t]*i[e]+o[t]*n[e]),f=u(i[t]*a[e]+a[t]*o[e]),m=u(n[t]*a[e]+o[t]*o[e]);for(let e=0;e<16;e++)if(i[e]===c&&n[e]===p&&a[e]===f&&o[e]===m){d.push(e);break}}}for(let e=0;e<16;e++){var g=new s.Matrix;g.set(i[e],n[e],a[e],o[e],0,0),l.push(g)}const _={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>i[e],uY:e=>n[e],vX:e=>a[e],vY:e=>o[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>h[e][t],sub:(e,t)=>h[e][_.inv(t)],rotate180:e=>4^e,isVertical:e=>2==(3&e),byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?0<=t?_.S:_.N:2*Math.abs(t)<=Math.abs(e)?0<e?_.E:_.W:0<t?0<e?_.SE:_.SW:0<e?_.NE:_.NW,matrixAppendRotationInv:(e,t,r=0,s=0)=>{t=l[_.inv(t)];t.tx=r,t.ty=s,e.append(t)}};r.groupD8=_},{"./Matrix.js":236}],242:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./shapes/Circle.js"),i=e("./shapes/Ellipse.js"),n=e("./shapes/Polygon.js"),a=e("./shapes/Rectangle.js"),o=e("./shapes/RoundedRectangle.js"),h=e("./groupD8.js"),l=(e("./IPoint.js"),e("./IPointData.js"),e("./Matrix.js")),u=e("./ObservablePoint.js"),d=e("./Point.js"),c=e("./Transform.js"),e=e("./const.js");r.Circle=s.Circle,r.Ellipse=i.Ellipse,r.Polygon=n.Polygon,r.Rectangle=a.Rectangle,r.RoundedRectangle=o.RoundedRectangle,r.groupD8=h.groupD8,r.Matrix=l.Matrix,r.ObservablePoint=u.ObservablePoint,r.Point=d.Point,r.Transform=c.Transform,r.DEG_TO_RAD=e.DEG_TO_RAD,r.PI_2=e.PI_2,r.RAD_TO_DEG=e.RAD_TO_DEG,r.SHAPES=e.SHAPES},{"./IPoint.js":234,"./IPointData.js":235,"./Matrix.js":236,"./ObservablePoint.js":237,"./Point.js":238,"./Transform.js":239,"./const.js":240,"./groupD8.js":241,"./shapes/Circle.js":243,"./shapes/Ellipse.js":244,"./shapes/Polygon.js":245,"./shapes/Rectangle.js":246,"./shapes/RoundedRectangle.js":247}],243:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../const.js"),i=e("./Rectangle.js");r.Circle=class n{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=s.SHAPES.CIRC}clone(){return new n(this.x,this.y,this.radius)}contains(e,t){var r;return!(this.radius<=0)&&(r=this.radius*this.radius,e=this.x-e,t=this.y-t,(e*=e)+(t*=t)<=r)}getBounds(){return new i.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}},{"../const.js":240,"./Rectangle.js":246}],244:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../const.js"),s=e("./Rectangle.js");r.Ellipse=class n{constructor(e=0,t=0,r=0,s=0){this.x=e,this.y=t,this.width=r,this.height=s,this.type=i.SHAPES.ELIP}clone(){return new n(this.x,this.y,this.width,this.height)}contains(e,t){return!(this.width<=0||this.height<=0)&&(e=(e-this.x)/this.width,t=(t-this.y)/this.height,(e*=e)+(t*=t)<=1)}getBounds(){return new s.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}},{"../const.js":240,"./Rectangle.js":246}],245:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../const.js");r.Polygon=class s{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){var s=[];for(let e=0,t=r.length;e<t;e++)s.push(r[e].x,r[e].y);r=s}this.points=r,this.type=i.SHAPES.POLY,this.closeStroke=!0}clone(){var e=this.points.slice();return(e=new s(e)).closeStroke=this.closeStroke,e}contains(r,s){let i=!1;var n=this.points.length/2;for(let e=0,t=n-1;e<n;t=e++){var a=this.points[2*e],o=this.points[2*e+1],h=this.points[2*t],l=this.points[2*t+1];s<o!=s<l&&r<(s-o)/(l-o)*(h-a)+a&&(i=!i)}return i}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,t)=>e+", "+t,"")}]`}}},{"../const.js":240}],246:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../const.js"),e=e("../Point.js");const m=[new e.Point,new e.Point,new e.Point,new e.Point];r.Rectangle=class s{constructor(e=0,t=0,r=0,s=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(s),this.type=i.SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new s(0,0,0,0)}clone(){return new s(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){var r,s,i,n,a,o,h,l,u,d,c,p,f;return t?(r=this.left,s=this.right,i=this.top,n=this.bottom,!(s<=r||n<=i||(a=m[0].set(e.left,e.top),f=m[1].set(e.left,e.bottom),o=m[2].set(e.right,e.top),h=m[3].set(e.right,e.bottom),o.x<=a.x)||f.y<=a.y||0===(l=Math.sign(t.a*t.d-t.b*t.c))||(t.apply(a,a),t.apply(f,f),t.apply(o,o),t.apply(h,h),Math.max(a.x,f.x,o.x,h.x)<=r)||Math.min(a.x,f.x,o.x,h.x)>=s||Math.max(a.y,f.y,o.y,h.y)<=i||Math.min(a.y,f.y,o.y,h.y)>=n||(u=(t=l*(f.y-a.y))*r+(f=l*(a.x-f.x))*i,d=t*s+f*i,c=t*r+f*n,p=t*s+f*n,Math.max(u,d,c,p)<=t*a.x+f*a.y)||Math.min(u,d,c,p)>=t*h.x+f*h.y||(c=(u=l*(a.y-o.y))*r+(d=l*(o.x-a.x))*i,p=u*s+d*i,t=u*r+d*n,f=u*s+d*n,Math.max(c,p,t,f)<=u*a.x+d*a.y)||Math.min(c,p,t,f)>=u*h.x+d*h.y)):(l=(this.x<e.x?e:this).x,!((this.right>e.right?e:this).right<=l)&&(this.y<e.y?e:this).y<(this.bottom>e.bottom?e:this).bottom)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){var t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),e=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=s,this.height=Math.max(e-s,0),this}ceil(e=1,t=.001){var r=Math.ceil((this.x+this.width-t)*e)/e,s=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=s-this.y,this}enlarge(e){var t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),e=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=s,this.height=e-s,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}},{"../Point.js":238,"../const.js":240}],247:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../const.js");r.RoundedRectangle=class s{constructor(e=0,t=0,r=0,s=0,i=20){this.x=e,this.y=t,this.width=r,this.height=s,this.radius=i,this.type=n.SHAPES.RREC}clone(){return new s(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(!(this.width<=0||this.height<=0)&&e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;var s=e-(this.x+r),i=t-(this.y+r),n=r*r;if(s*s+i*i<=n)return!0;if((s=e-(this.x+this.width-r))*s+i*i<=n)return!0;if(s*s+(i=t-(this.y+this.height-r))*i<=n)return!0;if((s=e-(this.x+r))*s+i*i<=n)return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}},{"../const.js":240}],248:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@pixi/core"),e=e("./SimplePlane.js");class s extends e.SimplePlane{constructor(e,t,r,s,i){super(n.Texture.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??e.defaultBorders?.left??10,this._rightWidth=s??e.defaultBorders?.right??10,this._topHeight=r??e.defaultBorders?.top??10,this._bottomHeight=i??e.defaultBorders?.bottom??10,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){var e=this._leftWidth+this._rightWidth,e=this._width>e?1:this._width/e,t=this._topHeight+this._bottomHeight,t=this._height>t?1:this._height/t;return Math.min(e,t)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){var e=this.texture,t=this.geometry.buffers[1].data,e=(this._origWidth=e.orig.width,this._origHeight=e.orig.height,1/this._origWidth),r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=e*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-e*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}r.NineSlicePlane=s},{"./SimplePlane.js":250,"@pixi/core":104}],249:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@pixi/core"),a=e("@pixi/mesh");class s extends a.Mesh{constructor(e=n.Texture.EMPTY,t,r,s,i){t=new a.MeshGeometry(t,r,s),t.getBuffer("aVertexPosition").static=!1,r=new a.MeshMaterial(e);super(t,r,null,i),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}r.SimpleMesh=s},{"@pixi/core":104,"@pixi/mesh":259}],250:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("@pixi/mesh"),n=e("./geometry/PlaneGeometry.js");class a extends i.Mesh{constructor(e,t,r){super(new n.PlaneGeometry(e.width,e.height,t,r),new i.MeshMaterial(s.Texture.WHITE)),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;var e=this.geometry,{width:t,height:r}=this.shader.texture;!this.autoResize||e.width===t&&e.height===r||(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}r.SimplePlane=a},{"./geometry/PlaneGeometry.js":252,"@pixi/core":104,"@pixi/mesh":259}],251:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/core"),n=e("@pixi/mesh"),a=e("./geometry/RopeGeometry.js");class s extends n.Mesh{constructor(e,t,r=0){var t=new a.RopeGeometry(e.height,t,r),s=new n.MeshMaterial(e);0<r&&(e.baseTexture.wrapMode=i.WRAP_MODES.REPEAT),super(t,s),this.autoUpdate=!0}_render(e){var t=this.geometry;!this.autoUpdate&&t._width===this.shader.texture.height||(t._width=this.shader.texture.height,t.update()),super._render(e)}}r.SimpleRope=s},{"./geometry/RopeGeometry.js":253,"@pixi/core":104,"@pixi/mesh":259}],252:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends e("@pixi/mesh").MeshGeometry{constructor(e=100,t=100,r=10,s=10){super(),this.segWidth=r,this.segHeight=s,this.width=e,this.height=t,this.build()}build(){var t=this.segWidth*this.segHeight,r=[],s=[],i=[],n=this.segWidth-1,a=this.segHeight-1,o=this.width/n,h=this.height/a;for(let e=0;e<t;e++){var l=e%this.segWidth,u=e/this.segWidth|0;r.push(l*o,u*h),s.push(l/n,u/a)}var d=n*a;for(let e=0;e<d;e++){var c=e%n,p=e/n|0,f=p*this.segWidth+c,m=p*this.segWidth+c+1,g=(1+p)*this.segWidth+c,p=(1+p)*this.segWidth+c+1;i.push(f,m,g,m,p,g)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(s),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}r.PlaneGeometry=s},{"@pixi/mesh":259}],253:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends e("@pixi/mesh").MeshGeometry{constructor(e=200,t,r=0){super(new Float32Array(4*t.length),new Float32Array(4*t.length),new Uint16Array(6*(t.length-1))),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){var i=this.points;if(i){var e=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(i.length<1)){e.data.length/4!==i.length&&(e.data=new Float32Array(4*i.length),n.data=new Float32Array(4*i.length),a.data=new Uint16Array(6*(i.length-1)));var o=n.data,h=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;let t=0,r=i[0];var l=this._width*this.textureScale,u=i.length;for(let e=0;e<u;e++){var d,c,p=4*e;0<this.textureScale?(c=r.x-i[e].x,d=r.y-i[e].y,c=Math.sqrt(c*c+d*d),r=i[e],t+=c/l):t=e/(u-1),o[p]=t,o[1+p]=0,o[2+p]=t,o[3+p]=1}let s=0;for(let e=0;e<u-1;e++){var f=2*e;h[s++]=f,h[s++]=1+f,h[s++]=2+f,h[s++]=2+f,h[s++]=1+f,h[s++]=3+f}n.update(),a.update(),this.updateVertices()}}}updateVertices(){var n=this.points;if(!(n.length<1)){let t=n[0],r,s=0,i=0;var a=this.buffers[0].data,o=n.length,h=0<this.textureScale?this.textureScale*this._width/2:this._width/2;for(let e=0;e<o;e++){var l=n[e],u=4*e,d=(r=e<n.length-1?n[e+1]:l,i=-(r.x-t.x),s=r.y-t.y,e,Math.sqrt(s*s+i*i));d<1e-6?(s=0,i=0):(s/=d,i/=d,s*=h,i*=h),a[u]=l.x+s,a[1+u]=l.y+i,a[2+u]=l.x-s,a[3+u]=l.y-i,t=l}this.buffers[0].update()}}update(){0<this.textureScale?this.build():this.updateVertices()}}r.RopeGeometry=s},{"@pixi/mesh":259}],254:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./geometry/PlaneGeometry.js"),i=e("./geometry/RopeGeometry.js"),n=e("./NineSlicePlane.js"),a=e("./SimpleMesh.js"),o=e("./SimplePlane.js"),e=e("./SimpleRope.js");r.PlaneGeometry=s.PlaneGeometry,r.RopeGeometry=i.RopeGeometry,r.NineSlicePlane=n.NineSlicePlane,r.SimpleMesh=a.SimpleMesh,r.SimplePlane=o.SimplePlane,r.SimpleRope=e.SimpleRope},{"./NineSlicePlane.js":248,"./SimpleMesh.js":249,"./SimplePlane.js":250,"./SimpleRope.js":251,"./geometry/PlaneGeometry.js":252,"./geometry/RopeGeometry.js":253}],255:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=e("@pixi/core"),s=e("@pixi/display"),i=e("./MeshBatchUvs.js");const l=new p.Point,u=new p.Polygon,n=class extends s.Container{constructor(e,t,r,s=p.DRAW_MODES.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||p.State.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=p.settings.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount)&&this._geometry.dispose(),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){var t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===p.DRAW_MODES.TRIANGLES&&t.length<2*n.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){var t=this.geometry,r=this.shader,t=(r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture,this.material.pluginName);e.batch.setObjectRenderer(e.plugins[t]),e.plugins[t].render(this)}calculateVertices(){var e=this.geometry.buffers[0],t=e.data,e=e._updateID;if(e!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));var r=this.transform.worldTransform,s=r.a,i=r.b,n=r.c,a=r.d,o=r.tx,h=r.ty,l=this.vertexData;for(let e=0;e<l.length/2;e++){var u=t[2*e],d=t[2*e+1];l[2*e]=s*u+n*d+o,l[2*e+1]=i*u+a*d+h}if(this._roundPixels){var c=p.settings.RESOLUTION;for(let e=0;e<l.length;++e)l[e]=Math.round(l[e]*c)/c}this.vertexDirty=e}}calculateUvs(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new i.MeshBatchUvs(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(this.getBounds().contains(e.x,e.y)){this.worldTransform.applyInverse(e,l);var t=this.geometry.getBuffer("aVertexPosition").data,r=u.points,s=this.geometry.getIndex().data,i=s.length,n=4===this.drawMode?3:1;for(let e=0;e+2<i;e+=n){var a=2*s[e],o=2*s[e+1],h=2*s[e+2];if(r[0]=t[a],r[1]=t[1+a],r[2]=t[o],r[3]=t[1+o],r[4]=t[h],r[5]=t[1+h],u.contains(l.x,l.y))return!0}}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};e=n;e.BATCHABLE_SIZE=100,r.Mesh=e},{"./MeshBatchUvs.js":256,"@pixi/core":104,"@pixi/display":180}],256:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.MeshBatchUvs=class{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID||(this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,e=this.uvBuffer.data,this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++)}}},{}],257:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");class i extends s.Geometry{constructor(e,t,r){super();e=new s.Buffer(e),t=new s.Buffer(t,!0),r=new s.Buffer(r,!0,!0);this.addAttribute("aVertexPosition",e,2,!1,s.TYPES.FLOAT).addAttribute("aTextureCoord",t,2,!1,s.TYPES.FLOAT).addIndex(r),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}r.MeshGeometry=i},{"@pixi/core":104}],258:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./shader/mesh.js"),n=e("./shader/mesh2.js");class a extends s.Shader{constructor(e,t){var r={uSampler:e,alpha:1,uTextureMatrix:s.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};(t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t)).uniforms&&Object.assign(r,t.uniforms),super(t.program||s.Program.from(n.default,i.default),r),this._colorDirty=!1,this.uvMatrix=new s.TextureMatrix(e),this.batchable=void 0===t.program,this.pluginName=t.pluginName,this._tintColor=new s.Color(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){var e;this._colorDirty&&(this._colorDirty=!1,e=this.texture.baseTexture.alphaMode,s.Color.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}r.MeshMaterial=a},{"./shader/mesh.js":260,"./shader/mesh2.js":261,"@pixi/core":104}],259:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./Mesh.js"),i=e("./MeshBatchUvs.js"),n=e("./MeshGeometry.js"),e=e("./MeshMaterial.js");r.Mesh=s.Mesh,r.MeshBatchUvs=i.MeshBatchUvs,r.MeshGeometry=n.MeshGeometry,r.MeshMaterial=e.MeshMaterial},{"./Mesh.js":255,"./MeshBatchUvs.js":256,"./MeshGeometry.js":257,"./MeshMaterial.js":258}],260:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"},{}],261:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n"},{}],262:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=e("@pixi/core"),s=e("@pixi/display"),u=e("@pixi/sprite");const d=new l.Matrix;s.DisplayObject.prototype._cacheAsBitmap=!1,s.DisplayObject.prototype._cacheData=null,s.DisplayObject.prototype._cacheAsBitmapResolution=null,s.DisplayObject.prototype._cacheAsBitmapMultisample=null;class i{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(s.DisplayObject.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap)&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0)}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap)&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0)}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap!==t){let e;(this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new i),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),s.DisplayObject.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},s.DisplayObject.prototype._initCachedDisplayObject=function(e){var t,r,s,i,n,a,o,h;this._cacheData?.sprite||(t=this.alpha,this.alpha=1,e.batch.flush(),r=this.getLocalBounds(null,!0).clone(),this.filters?.length&&(s=this.filters[0].padding,r.pad(s)),r.ceil(l.settings.RESOLUTION),s=e.renderTexture.current,i=e.renderTexture.sourceFrame.clone(),n=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,o=l.RenderTexture.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),h="cacheAsBitmap_"+l.utils.uid(),this._cacheData.textureCacheId=h,l.BaseTexture.addToCache(o.baseTexture,h),l.Texture.addToCache(o,h),h=this.transform.localTransform.copyTo(d).invert().translate(-r.x,-r.y),this.render=this._cacheData.originalRender,e.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(s,i,n),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t,(h=new u.Sprite(o)).transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=t,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h))},s.DisplayObject.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},s.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(e){var t,r,s,i,n,a;this._cacheData?.sprite||(t=this.getLocalBounds(null,!0),r=this.alpha,this.alpha=1,s=e.canvasContext.activeContext,i=e._projTransform,t.ceil(l.settings.RESOLUTION),n=l.RenderTexture.create({width:t.width,height:t.height}),a="cacheAsBitmap_"+l.utils.uid(),this._cacheData.textureCacheId=a,l.BaseTexture.addToCache(n.baseTexture,a),l.Texture.addToCache(n,a),a=d,this.transform.localTransform.copyTo(a),a.invert(),a.tx-=t.x,a.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:n,clear:!0,transform:a,skipUpdateTransform:!1}),e.canvasContext.activeContext=s,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r,(a=new u.Sprite(n)).transform.worldTransform=this.transform.worldTransform,a.anchor.x=-(t.x/t.width),a.anchor.y=-(t.y/t.height),a.alpha=r,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a))},s.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},s.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},s.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,l.BaseTexture.removeFromCache(this._cacheData.textureCacheId),l.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},s.DisplayObject.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},r.CacheData=i},{"@pixi/core":104,"@pixi/display":180,"@pixi/sprite":296}],263:[function(e,t,r){"use strict";e=e("@pixi/display");e.DisplayObject.prototype.name=null,e.Container.prototype.getChildByName=function(r,e){for(let e=0,t=this.children.length;e<t;e++)if(this.children[e].name===r)return this.children[e];if(e)for(let e=0,t=this.children.length;e<t;e++){var s=this.children[e];if(s.getChildByName){s=s.getChildByName(r,!0);if(s)return s}}return null}},{"@pixi/display":180}],264:[function(e,t,r){"use strict";var s=e("@pixi/core");e("@pixi/display").DisplayObject.prototype.getGlobalPosition=function(e=new s.Point,t=!1){return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},{"@pixi/core":104,"@pixi/display":180}],265:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=e("@pixi/core");r.ParticleBuffer=class{constructor(t,r,e){this.geometry=new h.Geometry,this.indexBuffer=null,this.size=e,this.dynamicProperties=[],this.staticProperties=[];for(let e=0;e<t.length;++e){var s={attributeName:(s=t[e]).attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||h.TYPES.FLOAT,offset:s.offset};(r[e]?this.dynamicProperties:this.staticProperties).push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){var t=this.geometry;let r=0;this.indexBuffer=new h.Buffer(h.utils.createIndicesForQuads(this.size),!0,!0),t.addIndex(this.indexBuffer);for(let e=this.dynamicStride=0;e<this.dynamicProperties.length;++e){var s=this.dynamicProperties[e];s.offset=r,r+=s.size,this.dynamicStride+=s.size}var e=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(e),this.dynamicDataUint32=new Uint32Array(e),this.dynamicBuffer=new h.Buffer(this.dynamicData,!1,!1);let i=0;for(let e=this.staticStride=0;e<this.staticProperties.length;++e){var n=this.staticProperties[e];n.offset=i,i+=n.size,this.staticStride+=n.size}e=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(e),this.staticDataUint32=new Uint32Array(e),this.staticBuffer=new h.Buffer(this.staticData,!0,!1);for(let e=0;e<this.dynamicProperties.length;++e){var a=this.dynamicProperties[e];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===h.TYPES.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(let e=0;e<this.staticProperties.length;++e){var o=this.staticProperties[e];t.addAttribute(o.attributeName,this.staticBuffer,0,o.type===h.TYPES.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}}uploadDynamic(t,r,s){for(let e=0;e<this.dynamicProperties.length;e++){var i=this.dynamicProperties[e];i.uploadFunction(t,r,s,i.type===h.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,r,s){for(let e=0;e<this.staticProperties.length;e++){var i=this.staticProperties[e];i.uploadFunction(t,r,s,i.type===h.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}},{"@pixi/core":104}],266:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/core");class s extends e("@pixi/display").Container{constructor(e=1500,t,r=16384,s=!1){super();16384<r&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=i.BLEND_MODES.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new i.Color(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid)||this.baseTexture.once("update",()=>this.onChildrenChange(0)),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}r.ParticleContainer=s},{"@pixi/core":104,"@pixi/display":180}],267:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=e("@pixi/core"),n=e("./ParticleBuffer.js"),s=e("./particles.js"),i=e("./particles2.js");class a extends p.ObjectRenderer{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new p.Matrix,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:p.TYPES.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=p.Shader.from(i.default,s.default,{}),this.state=p.State.for2d()}render(n){var a=n.children,e=n._maxSize,o=n._batchSize,h=this.renderer;let l=a.length;if(0!==l){l>e&&!n.autoResize&&(l=e);let s=n._buffers;s=s||(n._buffers=this.generateBuffers(n));var e=a[0]._texture.baseTexture,t=0<e.alphaMode,u=(this.state.blendMode=p.utils.correctBlendMode(n.blendMode,t),h.state.set(this.state),h.gl),r=n.worldTransform.copyTo(this.tempMatrix);r.prepend(h.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=r.toArray(!0),this.shader.uniforms.uColor=p.Color.shared.setValue(n.tintRgb).premultiply(n.worldAlpha,t).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=e,this.renderer.shader.bind(this.shader);let i=!1;for(let t=0,r=0;t<l;t+=o,r+=1){let e=l-t;e>o&&(e=o),r>=s.length&&s.push(this._generateOneMoreBuffer(n));var d=s[r],c=(d.uploadDynamic(a,t,e),n._bufferUpdateIDs[r]||0);(i=i||d._updateID<c)&&(d._updateID=n._updateID,d.uploadStatic(a,t,e)),h.geometry.bind(d.geometry),u.drawElements(u.TRIANGLES,6*e,u.UNSIGNED_SHORT,0)}}}generateBuffers(e){var t=[],r=e._maxSize,s=e._batchSize,i=e._properties;for(let e=0;e<r;e+=s)t.push(new n.ParticleBuffer(this.properties,i,s));return t}_generateOneMoreBuffer(e){var t=e._batchSize,e=e._properties;return new n.ParticleBuffer(this.properties,e,t)}uploadVertices(t,r,s,i,n,a){let o=0,h=0,l=0,u=0;for(let e=0;e<s;++e){var d=t[r+e],c=d._texture,p=d.scale.x,f=d.scale.y,m=c.trim,c=c.orig;m?(h=m.x-d.anchor.x*c.width,o=h+m.width,u=m.y-d.anchor.y*c.height,l=u+m.height):(o=c.width*(1-d.anchor.x),h=c.width*-d.anchor.x,l=c.height*(1-d.anchor.y),u=c.height*-d.anchor.y),i[a]=h*p,i[a+1]=u*f,i[a+n]=o*p,i[a+n+1]=u*f,i[a+2*n]=o*p,i[a+2*n+1]=l*f,i[a+3*n]=h*p,i[a+3*n+1]=l*f,a+=4*n}}uploadPosition(t,r,s,i,n,a){for(let e=0;e<s;e++){var o=t[r+e].position;i[a]=o.x,i[a+1]=o.y,i[a+n]=o.x,i[a+n+1]=o.y,i[a+2*n]=o.x,i[a+2*n+1]=o.y,i[a+3*n]=o.x,i[a+3*n+1]=o.y,a+=4*n}}uploadRotation(t,r,s,i,n,a){for(let e=0;e<s;e++){var o=t[r+e].rotation;i[a]=o,i[a+n]=o,i[a+2*n]=o,i[a+3*n]=o,a+=4*n}}uploadUvs(t,r,s,i,n,a){for(let e=0;e<s;++e){var o=t[r+e]._texture._uvs;o?(i[a]=o.x0,i[a+1]=o.y0,i[a+n]=o.x1,i[a+n+1]=o.y1,i[a+2*n]=o.x2,i[a+2*n+1]=o.y2,i[a+3*n]=o.x3,i[a+3*n+1]=o.y3):(i[a]=0,i[a+1]=0,i[a+n]=0,i[a+n+1]=0,i[a+2*n]=0,i[a+2*n+1]=0,i[a+3*n]=0,i[a+3*n+1]=0),a+=4*n}}uploadTint(t,r,s,i,n,a){for(let e=0;e<s;++e){var o=t[r+e],o=p.Color.shared.setValue(o._tintRGB).toPremultiplied(o.alpha,0<o.texture.baseTexture.alphaMode);i[a]=o,i[a+n]=o,i[a+2*n]=o,i[a+3*n]=o,a+=4*n}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}a.extension={name:"particle",type:p.ExtensionType.RendererPlugin},p.extensions.add(a),r.ParticleRenderer=a},{"./ParticleBuffer.js":265,"./particles.js":269,"./particles2.js":270,"@pixi/core":104}],268:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./ParticleContainer.js"),e=e("./ParticleRenderer.js");r.ParticleContainer=s.ParticleContainer,r.ParticleRenderer=e.ParticleRenderer},{"./ParticleContainer.js":266,"./ParticleRenderer.js":267}],269:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}"},{}],270:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n"},{}],271:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@pixi/core"),s=e("@pixi/display"),i=e("@pixi/text"),a=e("./CountLimiter.js");function o(t,r){let s=!1;if(t?._textures?.length)for(let e=0;e<t._textures.length;e++){var i;t._textures[e]instanceof n.Texture&&(i=t._textures[e].baseTexture,r.includes(i)||(r.push(i),s=!0))}return s}function h(e,t){return e.baseTexture instanceof n.BaseTexture&&(e=e.baseTexture,t.includes(e)||t.push(e),!0)}function l(e,t){return!!(e._texture&&e._texture instanceof n.Texture)&&(e=e._texture.baseTexture,t.includes(e)||t.push(e),!0)}function u(e,t){return t instanceof i.Text&&(t.updateText(!0),!0)}function d(e,t){return t instanceof i.TextStyle&&(t=t.toFontString(),i.TextMetrics.measureFont(t),!0)}function c(e,t){return e instanceof i.Text&&(t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e),e=e._texture.baseTexture,t.includes(e)||t.push(e),!0)}function p(e,t){return e instanceof i.TextStyle&&(t.includes(e)||t.push(e),!0)}const f=class{constructor(e){this.limiter=new a.CountLimiter(f.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(c),this.registerFindHook(p),this.registerFindHook(o),this.registerFindHook(h),this.registerFindHook(l),this.registerUploadHook(u),this.registerUploadHook(d)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,n.Ticker.system.addOnce(this.tick,this,n.UPDATE_PRIORITY.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var s=this.queue[0];let r=!1;if(s&&!s._destroyed)for(let e=0,t=this.uploadHooks.length;e<t;e++)if(this.uploadHooks[e](this.uploadHookHelper,s)){this.queue.shift(),r=!0;break}r||this.queue.shift()}if(this.queue.length)n.Ticker.system.addOnce(this.tick,this,n.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var r=this.completes.slice(0);for(let e=this.completes.length=0,t=r.length;e<t;e++)r[e]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(r){for(let e=0,t=this.addHooks.length;e<t&&!this.addHooks[e](r,this.queue);e++);if(r instanceof s.Container)for(let e=r.children.length-1;0<=e;e--)this.add(r.children[e]);return this}destroy(){this.ticking&&n.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};e=f;e.uploadsPerFrame=4,r.BasePrepare=e},{"./CountLimiter.js":272,"@pixi/core":104,"@pixi/display":180,"@pixi/text":325}],272:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.CountLimiter=class{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return 0<this.itemsLeft--}}},{}],273:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),n=e("@pixi/graphics");function a(e,t){return t instanceof s.BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function i(t,e){if(!(e instanceof n.Graphics))return!1;var r=e["geometry"],s=(e.finishPoly(),r.updateBatches(),r)["batches"];for(let e=0;e<s.length;e++){var i=s[e].style["texture"];i&&a(t,i.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function o(e,t){return e instanceof n.Graphics&&(t.push(e),!0)}class h extends e("./BasePrepare.js").BasePrepare{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(o),this.registerUploadHook(a),this.registerUploadHook(i)}}h.extension={name:"prepare",type:s.ExtensionType.RendererSystem},s.extensions.add(h),r.Prepare=h},{"./BasePrepare.js":271,"@pixi/core":104,"@pixi/graphics":221}],274:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.TimeLimiter=class{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}},{}],275:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("./settings.js");var s=e("./BasePrepare.js"),i=e("./CountLimiter.js"),n=e("./Prepare.js"),e=e("./TimeLimiter.js");r.BasePrepare=s.BasePrepare,r.CountLimiter=i.CountLimiter,r.Prepare=n.Prepare,r.TimeLimiter=e.TimeLimiter},{"./BasePrepare.js":271,"./CountLimiter.js":272,"./Prepare.js":273,"./TimeLimiter.js":274,"./settings.js":276}],276:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./BasePrepare.js");Object.defineProperties(s.settings,{UPLOADS_PER_FRAME:{get(){return i.BasePrepare.uploadsPerFrame},set(e){s.utils.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),i.BasePrepare.uploadsPerFrame=e}}}),Object.defineProperty(r,"settings",{enumerable:!0,get:function(){return s.settings}})},{"./BasePrepare.js":271,"@pixi/core":104}],277:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(r,s,i,n,a,o,h,l){if(8<arguments.length)throw new Error("max arguments reached");var{name:u,items:d}=this;this._aliasCount++;for(let e=0,t=d.length;e<t;e++)d[e][u](r,s,i,n,a,o,h,l);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){e=this.items.indexOf(e);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(s.prototype,{dispatch:{value:s.prototype.emit},run:{value:s.prototype.emit}}),r.Runner=s},{}],278:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./Runner.js");r.Runner=e.Runner},{"./Runner.js":277}],279:[function(e,t,r){},{}],280:[function(e,t,r){},{}],281:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BrowserAdapter={createCanvas:(e,t)=>{var r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>{return(new DOMParser).parseFromString(e,"text/xml")}}},{}],282:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./adapter.js"),i=(e("./ICanvas.js"),e("./ICanvasRenderingContext2D.js"),e("./settings.js")),e=e("./utils/isMobile.js");r.BrowserAdapter=s.BrowserAdapter,r.settings=i.settings,r.isMobile=e.isMobile},{"./ICanvas.js":279,"./ICanvasRenderingContext2D.js":280,"./adapter.js":281,"./settings.js":283,"./utils/isMobile.js":284}],283:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e={ADAPTER:e("./adapter.js").BrowserAdapter,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};r.settings=e},{"./adapter.js":281}],284:[function(e,t,r){"use strict";function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});e=s(e("ismobilejs")),e=(e.default.default??e.default)(globalThis.navigator);r.isMobile=e},{ismobilejs:363}],285:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");class i extends e("@pixi/sprite").Sprite{constructor(e,t=!0){super(e[0]instanceof s.Texture?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate)&&this._isConnectedToTicker&&(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(s.Ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(t){if(this._playing){var r=this.animationSpeed*t,e=this.currentFrame;if(null!==this._durations){let e=this._currentTime%1*this._durations[this.currentFrame];for(e+=r/60*1e3;e<0;)this._currentTime--,e+=this._durations[this.currentFrame];var s=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);e>=this._durations[this.currentFrame];)e-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=e/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):e!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<e||this.animationSpeed<0&&this.currentFrame>e)&&this.onLoop(),this.updateTexture())}}updateTexture(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange)&&this.onFrameChange(this.currentFrame)}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){var r=[];for(let e=0;e<t.length;++e)r.push(s.Texture.from(t[e]));return new i(r)}static fromImages(t){var r=[];for(let e=0;e<t.length;++e)r.push(s.Texture.from(t[e]));return new i(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof s.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(s.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}}r.AnimatedSprite=i},{"@pixi/core":104,"@pixi/sprite":296}],286:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./AnimatedSprite.js");r.AnimatedSprite=e.AnimatedSprite},{"./AnimatedSprite.js":285}],287:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),e=e("@pixi/sprite");const i=new s.Point;class n extends e.Sprite{constructor(e,t=100,r=100){super(e),this.tileTransform=new s.Transform,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new s.TextureMatrix(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,s)}getLocalBounds(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,i);var e=this._width,t=this._height,r=-e*this.anchor._x;if(i.x>=r&&i.x<r+e){r=-t*this.anchor._y;if(i.y>=r&&i.y<r+t)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){e=e instanceof s.Texture?e:s.Texture.from(e,t);return new n(e,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}r.TilingSprite=n},{"@pixi/core":104,"@pixi/sprite":296}],288:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var f=e("@pixi/core"),s=e("./sprite-tiling.js"),i=e("./sprite-tiling2.js"),n=e("./sprite-tiling-fallback.js"),a=e("./sprite-tiling-fallback2.js"),o=e("./sprite-tiling-simple.js");const m=new f.Matrix;class h extends f.ObjectRenderer{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new f.QuadUv,this.state=f.State.for2d()}contextChange(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=f.Shader.from(a.default,o.default,t),this.shader=1<e.context.webGLVersion?f.Shader.from(i.default,s.default,t):f.Shader.from(a.default,n.default,t)}render(e){var t=this.renderer,r=this.quad;let s=r.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);var i=e.uvRespectAnchor?e.anchor.x:0,n=e.uvRespectAnchor?e.anchor.y:0,i=((s=r.uvs)[0]=s[6]=-i,s[1]=s[3]=-n,s[2]=s[4]=1-i,s[5]=s[7]=1-n,r.invalidate(),e._texture),n=i.baseTexture,a=0<n.alphaMode,o=e.tileTransform.localTransform,h=e.uvMatrix;let l=n.isPowerOfTwo&&i.frame.width===n.width&&i.frame.height===n.height;l&&(n._glTextures[t.CONTEXT_UID]?l=n.wrapMode!==f.WRAP_MODES.CLAMP:n.wrapMode===f.WRAP_MODES.CLAMP&&(n.wrapMode=f.WRAP_MODES.REPEAT));var n=l?this.simpleShader:this.shader,u=i.width,d=i.height,c=e._width,p=e._height;m.set(o.a*u/c,o.b*u/p,o.c*d/c,o.d*d/p,o.tx/c,o.ty/p),m.invert(),l?m.prepend(h.mapCoord):(n.uniforms.uMapCoord=h.mapCoord.toArray(!0),n.uniforms.uClampFrame=h.uClampFrame,n.uniforms.uClampOffset=h.uClampOffset),n.uniforms.uTransform=m.toArray(!0),n.uniforms.uColor=f.Color.shared.setValue(e.tint).premultiply(e.worldAlpha,a).toArray(n.uniforms.uColor),n.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),n.uniforms.uSampler=i,t.shader.bind(n),t.geometry.bind(r),this.state.blendMode=f.utils.correctBlendMode(e.blendMode,a),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}h.extension={name:"tilingSprite",type:f.ExtensionType.RendererPlugin},f.extensions.add(h),r.TilingSpriteRenderer=h},{"./sprite-tiling-fallback.js":290,"./sprite-tiling-fallback2.js":291,"./sprite-tiling-simple.js":292,"./sprite-tiling.js":293,"./sprite-tiling2.js":294,"@pixi/core":104}],289:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./TilingSprite.js"),e=e("./TilingSpriteRenderer.js");r.TilingSprite=s.TilingSprite,r.TilingSpriteRenderer=e.TilingSpriteRenderer},{"./TilingSprite.js":287,"./TilingSpriteRenderer.js":288}],290:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n"},{}],291:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},{}],292:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n"},{}],293:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n"},{}],294:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},{}],295:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var m=e("@pixi/core"),s=e("@pixi/display");const i=new m.Point,n=new Uint16Array([0,1,2,0,2,3]);class a extends s.Container{constructor(e){super(),this._anchor=new m.ObservablePoint(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new m.Color(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=m.BLEND_MODES.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||m.Texture.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=n,this.pluginName="batch",this.isSprite=!0,this._roundPixels=m.settings.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=m.utils.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=m.utils.sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){var i=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==i._updateID){this._textureID!==i._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=i._updateID;var n=this.transform.worldTransform,a=n.a,o=n.b,h=n.c,l=n.d,u=n.tx,n=n.ty,d=this.vertexData,c=i.trim,i=i.orig,p=this._anchor;let e=0,t=0,r=0,s=0;if(r=c?(t=c.x-p._x*i.width,e=t+c.width,(s=c.y-p._y*i.height)+c.height):(t=-p._x*i.width,e=t+i.width,(s=-p._y*i.height)+i.height),d[0]=a*t+h*s+u,d[1]=l*s+o*t+n,d[2]=a*e+h*s+u,d[3]=l*s+o*e+n,d[4]=a*e+h*r+u,d[5]=l*r+o*e+n,d[6]=a*t+h*r+u,d[7]=l*r+o*t+n,this._roundPixels){var f=m.settings.RESOLUTION;for(let e=0;e<d.length;++e)d[e]=Math.round(d[e]*f)/f}}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,e=e.orig,r=this._anchor,s=this.transform.worldTransform,i=s.a,n=s.b,a=s.c,o=s.d,h=s.tx,s=s.ty,l=-r._x*e.width,u=l+e.width,r=-r._y*e.height,e=r+e.height;t[0]=i*l+a*r+h,t[1]=o*r+n*l+s,t[2]=i*u+a*r+h,t[3]=o*r+n*u+s,t[4]=i*u+a*e+h,t[5]=o*e+n*u+s,t[6]=i*l+a*e+h,t[7]=o*e+n*l+s}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new s.Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new m.Rectangle),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,i);var e=this._texture.orig.width,t=this._texture.orig.height,r=-e*this.anchor.x;return i.x>=r&&i.x<r+e&&(r=-t*this.anchor.y,i.y>=r)&&i.y<r+t}destroy(e){super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e?.texture)&&(e="boolean"==typeof e?e:e?.baseTexture,this._texture.destroy(!!e)),this._texture=null}static from(e,t){e=e instanceof m.Texture?e:m.Texture.from(e,t);return new a(e)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){var t=m.utils.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){var t=m.utils.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||m.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e)&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this))}}r.Sprite=a},{"@pixi/core":104,"@pixi/display":180}],296:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./Sprite.js");r.Sprite=e.Sprite},{"./Sprite.js":295}],297:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("@pixi/core");const h=class{constructor(e,t,r=null){this.linkedSheets=[],this._texture=e instanceof o.Texture?e:null,this.baseTexture=e instanceof o.BaseTexture?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;e=this.baseTexture.resource;this.resolution=this._updateResolution(r||(e?e.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){var t=this.data.meta["scale"];let r=o.utils.getResolutionOfUrl(e,null);return 1!==(r=null===r?parseFloat(t??"1"):r)&&this.baseTexture.setResolution(r),r}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=h.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;for(var r=h.BATCH_SIZE;t-e<r&&t<this._frameKeys.length;){var s=this._frameKeys[t],i=this._frames[s],n=i.frame;if(n){let e=null,t=null;var a=!1!==i.trimmed&&i.sourceSize?i.sourceSize:i.frame,a=new o.Rectangle(0,0,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution);e=i.rotated?new o.Rectangle(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.h)/this.resolution,Math.floor(n.w)/this.resolution):new o.Rectangle(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),!1!==i.trimmed&&i.spriteSourceSize&&(t=new o.Rectangle(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution)),this.textures[s]=new o.Texture(this.baseTexture,e,a,t,i.rotated?2:0,i.anchor,i.borders),o.Texture.addToCache(this.textures[s],s)}t++}}_processAnimations(){var t=this.data.animations||{};for(const s in t){this.animations[s]=[];for(let e=0;e<t[s].length;e++){var r=t[s][e];this.animations[s].push(this.textures[r])}}}_parseComplete(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*h.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*h.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};e=h;e.BATCH_SIZE=1e3,r.Spritesheet=e},{"@pixi/core":104}],298:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./Spritesheet.js"),e=e("./spritesheetAsset.js");r.Spritesheet=s.Spritesheet,r.spritesheetAsset=e.spritesheetAsset},{"./Spritesheet.js":297,"./spritesheetAsset.js":299}],299:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=e("@pixi/assets"),u=e("@pixi/core"),d=e("./Spritesheet.js");const s=["jpg","png","jpeg","avif","webp"];e={extension:u.ExtensionType.Asset,cache:{test:e=>e instanceof d.Spritesheet,getCacheableAssets:(e,t)=>function r(e,s,t){const i={};if(e.forEach(e=>{i[e]=s}),Object.keys(s.textures).forEach(e=>{i[e]=s.textures[e]}),!t){const n=u.utils.path.dirname(e[0]);s.linkedSheets.forEach((e,t)=>{t=r([n+"/"+s.data.meta.related_multi_packs[t]],e,!0),Object.assign(i,t)})}return i}(e,t,!1)},resolver:{test:e=>{var e=e.split("?")[0].split("."),t=e.pop(),e=e.pop();return"json"===t&&s.includes(e)},parse:e=>{var t=e.split(".");return{resolution:parseFloat(u.settings.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t[t.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:u.ExtensionType.LoadParser,priority:l.LoaderParserPriority.Normal},async testParse(e,t){return".json"===u.utils.path.extname(t.src).toLowerCase()&&!!e.frames},async parse(e,t,r){let s=u.utils.path.dirname(t.src);s&&s.lastIndexOf("/")!==s.length-1&&(s+="/");var i=s+e.meta.image,i=l.copySearchParams(i,t.src),i=(await r.load([i]))[i];const n=new d.Spritesheet(i.baseTexture,e,t.src);await n.parse();i=e?.meta?.related_multi_packs;if(Array.isArray(i)){var a,o=[];for(const h of i)"string"!=typeof h||(a=s+h,t.data?.ignoreMultiPack)||(a=l.copySearchParams(a,t.src),o.push(r.load({src:a,data:{ignoreMultiPack:!0}})));e=await Promise.all(o);(n.linkedSheets=e).forEach(t=>{t.linkedSheets=[n].concat(n.linkedSheets.filter(e=>e!==t))})}return n},unload(e){e.destroy(!0)}}};u.extensions.add(e),r.spritesheetAsset=e},{"./Spritesheet.js":297,"@pixi/assets":20,"@pixi/core":104}],300:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var j=e("@pixi/core"),C=e("@pixi/text"),O=e("./BitmapFontData.js"),n=e("./formats/index.js"),I=(e("./utils/index.js"),e("./utils/resolveCharacters.js")),B=e("./utils/drawGlyph.js"),D=e("./utils/extractCharCode.js");const F=class{constructor(t,r,e){var[s]=t.info,[i]=t.common,[n]=t.page,[a]=t.distanceField,o=j.utils.getResolutionOfUrl(n.file),h={};this._ownsTextures=e,this.font=s.face,this.size=s.size,this.lineHeight=i.lineHeight/o,this.chars={},this.pageTextures=h;for(let e=0;e<t.page.length;e++){var{id:l,file:u}=t.page[e];h[l]=r instanceof Array?r[e]:r[u],a?.fieldType&&"none"!==a.fieldType&&(h[l].baseTexture.alphaMode=j.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,h[l].baseTexture.mipmap=j.MIPMAP_MODES.OFF)}for(let e=0;e<t.char.length;e++){var{id:d,page:c}=t.char[e],{x:p,y:f,width:m,height:g,xoffset:_,yoffset:x,xadvance:v}=t.char[e],p=(p/=o,f/=o,m/=o,g/=o,_/=o,x/=o,v/=o,new j.Rectangle(p+h[c].frame.x/o,f+h[c].frame.y/o,m,g));this.chars[d]={xOffset:_,yOffset:x,xAdvance:v,kerning:{},texture:new j.Texture(h[c].baseTexture,p),page:c}}for(let e=0;e<t.kerning.length;e++){var{first:y,second:T,amount:b}=t.kerning[e];y/=o,T/=o,b/=o,this.chars[T]&&(this.chars[T].kerning[y]=b)}this.distanceFieldRange=a?.distanceRange,this.distanceFieldType=a?.fieldType?.toLowerCase()??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(e,t,r){let s;if(e instanceof O.BitmapFontData)s=e;else{var i=n.autoDetectFormat(e);if(!i)throw new Error("Unrecognized data format for font.");s=i.parse(e)}t instanceof j.Texture&&(t=[t]);i=new F(s,t,r);return F.available[i.font]=i}static uninstall(e){var t=F.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete F.available[e]}static from(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:i,resolution:n,textureWidth:a,textureHeight:o,...h}=Object.assign({},F.defaultOptions,r);var l=I.resolveCharacters(s),u=t instanceof C.TextStyle?t:new C.TextStyle(t),d=a,c=new O.BitmapFontData;c.info[0]={face:u.fontFamily,size:u.fontSize},c.common[0]={lineHeight:u.fontSize};let p=0,f=0,m,g,_,x=0;var v=[],y=[];for(let e=0;e<l.length;e++){m||((m=j.settings.ADAPTER.createCanvas()).width=a,m.height=o,g=m.getContext("2d"),_=new j.BaseTexture(m,{resolution:n,...h}),v.push(_),y.push(new j.Texture(_)),c.page.push({id:y.length-1,file:""}));var T=l[e],b=C.TextMetrics.measureText(T,u,!1,m),E=b.width,S=Math.ceil(b.height),A=Math.ceil(("italic"===u.fontStyle?2:1)*E);if(f>=o-S*n){if(0===f)throw new Error(`[BitmapFont] textureHeight ${o}px is too small (fontFamily: '${u.fontFamily}', fontSize: ${u.fontSize}px, char: '${T}')`);--e,m=null,g=null,_=null,f=0,p=0,x=0}else if(x=Math.max(S+b.fontProperties.descent,x),A*n+p>=d){if(0===p)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${u.fontFamily}', fontSize: ${u.fontSize}px, char: '${T}')`);--e,f+=x*n,f=Math.ceil(f),p=0,x=0}else{B.drawGlyph(m,g,b,p,f,n,u);T=D.extractCharCode(b.text);c.char.push({id:T,page:y.length-1,x:p/n,y:f/n,width:A,height:S,xoffset:0,yoffset:0,xadvance:E-(u.dropShadow?u.dropShadowDistance:0)-(u.stroke?u.strokeThickness:0)}),p+=(A+2*i)*n,p=Math.ceil(p)}}for(let e=0,t=l.length;e<t;e++){var P=l[e];for(let e=0;e<t;e++){var M=l[e],R=g.measureText(P).width,w=g.measureText(M).width,R=g.measureText(P+M).width-(R+w);R&&c.kerning.push({first:D.extractCharCode(P),second:D.extractCharCode(M),amount:R})}}r=new F(c,y,!0);return void 0!==F.available[e]&&F.uninstall(e),F.available[e]=r}};e=F;e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:F.ALPHANUMERIC},e.available={},r.BitmapFont=e},{"./BitmapFontData.js":301,"./formats/index.js":307,"./utils/drawGlyph.js":312,"./utils/extractCharCode.js":313,"./utils/index.js":315,"./utils/resolveCharacters.js":316,"@pixi/core":104,"@pixi/text":325}],301:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BitmapFontData=class{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}},{}],302:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var q=e("@pixi/core"),s=e("@pixi/display"),K=e("@pixi/mesh"),Q=e("./BitmapFont.js"),Z=e("./shader/msdf.js"),J=e("./shader/msdf2.js"),ee=(e("./utils/index.js"),e("./utils/splitTextToCharacters.js")),te=e("./utils/extractCharCode.js");const re=[],se=[],ie=[],o=class extends s.Container{constructor(e,t={}){super();var{align:t,tint:r,maxWidth:s,letterSpacing:i,fontName:n,fontSize:a}=Object.assign({},o.styleDefaults,t);if(!Q.BitmapFont.available[n])throw new Error(`Missing BitmapFont "${n}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=t,this._tintColor=new q.Color(r),this._font=void 0,this._fontName=n,this._fontSize=a,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=i,this._anchor=new q.ObservablePoint(()=>{this.dirty=!0},this,0,0),this._roundPixels=q.settings.ROUND_PIXELS,this.dirty=!0,this._resolution=q.settings.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var s=Q.BitmapFont.available[this._fontName],F=this.fontSize,r=F/s.size,t=new q.Point,i=[],n=[],a=[],e=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",o=ee.splitTextToCharacters(e),L=this._maxWidth*s.size/F,N="none"===s.distanceFieldType?re:se;let h=null,l=0,u=0,d=0,c=-1,p=0,f=0,m=0,g=0;for(let e=0;e<o.length;e++){var _,x=o[e],v=te.extractCharCode(x);/(?:\s)/.test(x)&&(c=e,p=l,g++),"\r"===x||"\n"===x?(n.push(l),a.push(-1),u=Math.max(u,l),++d,++f,t.x=0,t.y+=s.lineHeight,h=null,g=0):(x=s.chars[v])&&(h&&x.kerning[h]&&(t.x+=x.kerning[h]),(_=ie.pop()||{texture:q.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new q.Point}).texture=x.texture,_.line=d,_.charCode=v,_.position.x=Math.round(t.x+x.xOffset+this._letterSpacing/2),_.position.y=Math.round(t.y+x.yOffset),_.prevSpaces=g,i.push(_),l=_.position.x+Math.max(x.xAdvance-x.xOffset,x.texture.orig.width),t.x+=x.xAdvance+this._letterSpacing,m=Math.max(m,x.yOffset+x.texture.height),h=v,-1!==c)&&0<L&&t.x>L&&(++f,q.utils.removeItems(i,1+c-f,1+e-c),e=c,c=-1,n.push(p),a.push(0<i.length?i[i.length-1].prevSpaces:0),u=Math.max(u,p),d++,t.x=0,t.y+=s.lineHeight,h=null,g=0)}var e=o[o.length-1],k=("\r"!==e&&"\n"!==e&&(/(?:\s)/.test(e)&&(l=p),n.push(l),u=Math.max(u,l),a.push(-1)),[]);for(let t=0;t<=d;t++){let e=0;"right"===this._align?e=u-n[t]:"center"===this._align?e=(u-n[t])/2:"justify"===this._align&&(e=a[t]<0?0:(u-n[t])/a[t]),k.push(e)}var U=i.length,y={},T=[],b=this._activePagesMeshData;N.push(...b);for(let e=0;e<U;e++){var G=i[e].texture,E=G.baseTexture.uid;if(!y[E]){let r=N.pop();if(!r){var S=new K.MeshGeometry;let e,t;t="none"===s.distanceFieldType?(e=new K.MeshMaterial(q.Texture.EMPTY),q.BLEND_MODES.NORMAL):(e=new K.MeshMaterial(q.Texture.EMPTY,{program:q.Program.from(J.default,Z.default),uniforms:{uFWidth:0}}),q.BLEND_MODES.NORMAL_NPM);S=new K.Mesh(S,e);S.blendMode=t,r={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:S,vertices:null,uvs:null,indices:null}}r.index=0,r.indexCount=0,r.vertexCount=0,r.uvsCount=0,r.total=0;S=this["_textureCache"];S[E]=S[E]||new q.Texture(G.baseTexture),r.mesh.texture=S[E],r.mesh.tint=this._tintColor.value,T.push(r),y[E]=r}y[E].total++}for(let e=0;e<b.length;e++)T.includes(b[e])||this.removeChild(b[e].mesh);for(let e=0;e<T.length;e++)T[e].mesh.parent!==this&&this.addChild(T[e].mesh);this._activePagesMeshData=T;for(const z in y){var A=y[z],P=A.total;if(!(A.indices?.length>6*P)||A.vertices.length<2*K.Mesh.BATCHABLE_SIZE)A.vertices=new Float32Array(8*P),A.uvs=new Float32Array(8*P),A.indices=new Uint16Array(6*P);else{var H=A.total,V=A.vertices;for(let e=4*H*2;e<V.length;e++)V[e]=0}A.mesh.size=6*P}for(let t=0;t<U;t++){var M=i[t];let e=M.position.x+k[M.line]*("justify"===this._align?M.prevSpaces:1);var R=(e=this._roundPixels?Math.round(e):e)*r,w=M.position.y*r,M=M.texture,j=y[M.baseTexture.uid],C=M.frame,M=M._uvs,O=j.index++;j.indices[6*O+0]=0+4*O,j.indices[6*O+1]=1+4*O,j.indices[6*O+2]=2+4*O,j.indices[6*O+3]=0+4*O,j.indices[6*O+4]=2+4*O,j.indices[6*O+5]=3+4*O,j.vertices[8*O+0]=R,j.vertices[8*O+1]=w,j.vertices[8*O+2]=R+C.width*r,j.vertices[8*O+3]=w,j.vertices[8*O+4]=R+C.width*r,j.vertices[8*O+5]=w+C.height*r,j.vertices[8*O+6]=R,j.vertices[8*O+7]=w+C.height*r,j.uvs[8*O+0]=M.x0,j.uvs[8*O+1]=M.y0,j.uvs[8*O+2]=M.x1,j.uvs[8*O+3]=M.y1,j.uvs[8*O+4]=M.x2,j.uvs[8*O+5]=M.y2,j.uvs[8*O+6]=M.x3,j.uvs[8*O+7]=M.y3}this._textWidth=u*r,this._textHeight=(t.y+s.lineHeight)*r;for(const $ in y){var I=y[$];if(0!==this.anchor.x||0!==this.anchor.y){let t=0;var B=this._textWidth*this.anchor.x,D=this._textHeight*this.anchor.y;for(let e=0;e<I.total;e++)I.vertices[t++]-=B,I.vertices[t++]-=D,I.vertices[t++]-=B,I.vertices[t++]-=D,I.vertices[t++]-=B,I.vertices[t++]-=D,I.vertices[t++]-=B,I.vertices[t++]-=D}this._maxLineHeight=m*r;var X=I.mesh.geometry.getBuffer("aVertexPosition"),W=I.mesh.geometry.getBuffer("aTextureCoord"),Y=I.mesh.geometry.getIndex();X.data=I.vertices,W.data=I.uvs,Y.data=I.indices,X.update(),W.update(),Y.update()}for(let e=0;e<i.length;e++)ie.push(i[e]);this._font=s,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var{distanceFieldRange:t,distanceFieldType:r,size:s}=Q.BitmapFont.available[this._fontName];if("none"!==r){var{a:r,b:i,c:n,d:a}=this.worldTransform,r=Math.sqrt(r*r+i*i),i=Math.sqrt(n*n+a*a),o=(Math.abs(r)+Math.abs(i))/2,h=this.fontSize/s,l=e._view.resolution;for(const u of this._activePagesMeshData)u.mesh.shader.uniforms.uFWidth=o*t*h*l}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){var e=Q.BitmapFont.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Q.BitmapFont.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Q.BitmapFont.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const t=this["_textureCache"];var r="none"===Q.BitmapFont.available[this._fontName].distanceFieldType?re:se;r.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],r.filter(e=>t[e.mesh.texture.baseTexture.uid]).forEach(e=>{e.mesh.texture=q.Texture.EMPTY});for(const i in t)t[i].destroy(),delete t[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};e=o;e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},r.BitmapText=e},{"./BitmapFont.js":300,"./shader/msdf.js":310,"./shader/msdf2.js":311,"./utils/extractCharCode.js":313,"./utils/index.js":315,"./utils/splitTextToCharacters.js":317,"@pixi/core":104,"@pixi/display":180,"@pixi/mesh":259}],303:[function(e,t,r){},{}],304:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=e("../BitmapFontData.js");r.TextFormat=class{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const u in t){var s=t[u].match(/^[a-z]+/gm)[0],i=t[u].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),n={};for(const d in i){var a=i[d].split("="),o=a[0],a=a[1].replace(/"/gm,""),h=parseFloat(a),a=isNaN(h)?a:h;n[o]=a}r[s].push(n)}const l=new c.BitmapFontData;return r.info.forEach(e=>l.info.push({face:e.face,size:parseInt(e.size,10)})),r.common.forEach(e=>l.common.push({lineHeight:parseInt(e.lineHeight,10)})),r.page.forEach(e=>l.page.push({id:parseInt(e.id,10),file:e.file})),r.char.forEach(e=>l.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})),r.kerning.forEach(e=>l.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})),r.distanceField.forEach(e=>l.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})),l}}},{"../BitmapFontData.js":301}],305:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=e("../BitmapFontData.js");r.XMLFormat=class{static test(e){return"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){var t=new l.BitmapFontData,r=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),n=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),o=e.getElementsByTagName("distanceField");for(let e=0;e<r.length;e++)t.info.push({face:r[e].getAttribute("face"),size:parseInt(r[e].getAttribute("size"),10)});for(let e=0;e<s.length;e++)t.common.push({lineHeight:parseInt(s[e].getAttribute("lineHeight"),10)});for(let e=0;e<i.length;e++)t.page.push({id:parseInt(i[e].getAttribute("id"),10)||0,file:i[e].getAttribute("file")});for(let e=0;e<n.length;e++){var h=n[e];t.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let e=0;e<a.length;e++)t.kerning.push({first:parseInt(a[e].getAttribute("first"),10),second:parseInt(a[e].getAttribute("second"),10),amount:parseInt(a[e].getAttribute("amount"),10)});for(let e=0;e<o.length;e++)t.distanceField.push({fieldType:o[e].getAttribute("fieldType"),distanceRange:parseInt(o[e].getAttribute("distanceRange"),10)});return t}}},{"../BitmapFontData.js":301}],306:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("./XMLFormat.js");r.XMLStringFormat=class{static test(e){return!("string"!=typeof e||!e.includes("<font>"))&&i.XMLFormat.test(s.settings.ADAPTER.parseXML(e))}static parse(e){return i.XMLFormat.parse(s.settings.ADAPTER.parseXML(e))}}},{"./XMLFormat.js":305,"@pixi/core":104}],307:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./TextFormat.js"),i=e("./XMLFormat.js"),e=e("./XMLStringFormat.js");const n=[s.TextFormat,i.XMLFormat,e.XMLStringFormat];r.TextFormat=s.TextFormat,r.XMLFormat=i.XMLFormat,r.XMLStringFormat=e.XMLStringFormat,r.autoDetectFormat=function(t){for(let e=0;e<n.length;e++)if(n[e].test(t))return n[e];return null}},{"./TextFormat.js":304,"./XMLFormat.js":305,"./XMLStringFormat.js":306}],308:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./BitmapFont.js"),i=e("./BitmapFontData.js"),n=e("./BitmapText.js"),a=(e("./BitmapTextStyle.js"),e("./formats/index.js")),o=e("./loadBitmapFont.js"),h=e("./formats/TextFormat.js"),l=e("./formats/XMLFormat.js"),e=e("./formats/XMLStringFormat.js");r.BitmapFont=s.BitmapFont,r.BitmapFontData=i.BitmapFontData,r.BitmapText=n.BitmapText,r.autoDetectFormat=a.autoDetectFormat,r.loadBitmapFont=o.loadBitmapFont,r.TextFormat=h.TextFormat,r.XMLFormat=l.XMLFormat,r.XMLStringFormat=e.XMLStringFormat},{"./BitmapFont.js":300,"./BitmapFontData.js":301,"./BitmapText.js":302,"./BitmapTextStyle.js":303,"./formats/TextFormat.js":304,"./formats/XMLFormat.js":305,"./formats/XMLStringFormat.js":306,"./formats/index.js":307,"./loadBitmapFont.js":309}],309:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=e("@pixi/assets"),l=e("@pixi/core"),u=e("./BitmapFont.js"),d=(e("./formats/index.js"),e("./formats/TextFormat.js")),c=e("./formats/XMLStringFormat.js");const s=[".xml",".fnt"];e={extension:{type:l.ExtensionType.LoadParser,priority:h.LoaderParserPriority.Normal},name:"loadBitmapFont",test(e){return s.includes(l.utils.path.extname(e).toLowerCase())},async testParse(e){return d.TextFormat.test(e)||c.XMLStringFormat.test(e)},async parse(e,t,r){var e=(d.TextFormat.test(e)?d.TextFormat:c.XMLStringFormat).parse(e),s=t["src"],i=e["page"],n=[];for(let e=0;e<i.length;++e){var a=i[e].file,a=l.utils.path.join(l.utils.path.dirname(s),a),a=h.copySearchParams(a,s);n.push(a)}const o=await r.load(n);t=n.map(e=>o[e]);return u.BitmapFont.install(e,t,!0)},async load(e,t){return(await l.settings.ADAPTER.fetch(e)).text()},unload(e){e.destroy()}};l.extensions.add(e),r.loadBitmapFont=e},{"./BitmapFont.js":300,"./formats/TextFormat.js":304,"./formats/XMLStringFormat.js":306,"./formats/index.js":307,"@pixi/assets":20,"@pixi/core":104}],310:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"},{}],311:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n"},{}],312:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=e("@pixi/core"),d=e("./generateFillStyle.js");r.drawGlyph=function(e,t,r,s,i,n,a){var o,h=r.text,l=r.fontProperties,s=(t.translate(s,i),t.scale(n,n),a.strokeThickness/2),i=-a.strokeThickness/2;t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=d.generateFillStyle(e,t,a,n,[h],r),t.strokeStyle=a.stroke,a.dropShadow?(e=a.dropShadowColor,o=a.dropShadowBlur*n,n=a.dropShadowDistance*n,t.shadowColor=u.Color.shared.setValue(e).setAlpha(a.dropShadowAlpha).toRgbaString(),t.shadowBlur=o,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*n,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*n):(t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),a.stroke&&a.strokeThickness&&t.strokeText(h,s,i+r.lineHeight-l.descent),a.fill&&t.fillText(h,s,i+r.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}},{"./generateFillStyle.js":314,"@pixi/core":104}],313:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extractCharCode=function(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}},{}],314:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var v=e("@pixi/text");r.generateFillStyle=function(e,t,s,r,i,n){var a=s.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];let o;var h=s.dropShadow?s.dropShadowDistance:0,l=s.padding||0,u=e.width/r-h-2*l,d=e.height/r-h-2*l,c=a.slice(),p=s.fillGradientStops.slice();if(!p.length){var f=c.length+1;for(let e=1;e<f;++e)p.push(e/f)}if(c.unshift(a[0]),p.unshift(0),c.push(a[a.length-1]),p.push(1),s.fillGradientType===v.TEXT_GRADIENT.LINEAR_VERTICAL){o=t.createLinearGradient(u/2,l,u/2,d+l);let r=0;var m=(n.fontProperties.fontSize+s.strokeThickness)/d;for(let e=0;e<i.length;e++){var g=n.lineHeight*e;for(let t=0;t<c.length;t++){let e=0;var _=g/d+(e="number"==typeof p[t]?p[t]:t/c.length)*m,_=Math.max(r,_),_=Math.min(_,1);o.addColorStop(_,c[t]),r=_}}}else{o=t.createLinearGradient(l,d/2,u+l,d/2);var x=c.length+1;let r=1;for(let t=0;t<c.length;t++){let e;e="number"==typeof p[t]?p[t]:r/x,o.addColorStop(e,c[t]),r++}}return o}},{"@pixi/text":325}],315:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./drawGlyph.js"),i=e("./extractCharCode.js"),n=e("./generateFillStyle.js"),a=e("./resolveCharacters.js"),e=e("./splitTextToCharacters.js");r.drawGlyph=s.drawGlyph,r.extractCharCode=i.extractCharCode,r.generateFillStyle=n.generateFillStyle,r.resolveCharacters=a.resolveCharacters,r.splitTextToCharacters=e.splitTextToCharacters},{"./drawGlyph.js":312,"./extractCharCode.js":313,"./generateFillStyle.js":314,"./resolveCharacters.js":316,"./splitTextToCharacters.js":317}],316:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./splitTextToCharacters.js");r.resolveCharacters=function(r){var s=[];for(let e=0,t=(r="string"==typeof r?[r]:r).length;e<t;e++){var i=r[e];if(Array.isArray(i)){if(2!==i.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);var n=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<n)throw new Error("[BitmapFont]: Invalid character range.");for(let e=n,t=a;e<=t;e++)s.push(String.fromCharCode(e))}else s.push(...o.splitTextToCharacters(i))}if(0===s.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return s}},{"./splitTextToCharacters.js":317}],317:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.splitTextToCharacters=function(e){return Array.from?Array.from(e):e.split("")}},{}],318:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("@pixi/core"),s=e("@pixi/sprite"),i=e("@pixi/text"),n=e("./HTMLTextStyle.js");const h=class extends s.Sprite{constructor(e="",t={}){super(o.Texture.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;var r=new Image,s=o.Texture.from(r,{scaleMode:o.settings.SCALE_MODE,resourceOptions:{autoLoad:!1}}),s=(s.orig=new o.Rectangle,s.trim=new o.Rectangle,this.texture=s,"http://www.w3.org/2000/svg"),i="http://www.w3.org/1999/xhtml",n=document.createElementNS(s,"svg"),s=document.createElementNS(s,"foreignObject"),a=document.createElementNS(i,"div"),i=document.createElementNS(i,"style");s.setAttribute("width","10000"),s.setAttribute("height","10000"),s.style.overflow="hidden",n.appendChild(s),this.maxWidth=h.defaultMaxWidth,this.maxHeight=h.defaultMaxHeight,this._domElement=a,this._styleElement=i,this._svgRoot=n,this._foreignObject=s,this._foreignObject.appendChild(i),this._foreignObject.appendChild(a),this._image=r,this._loadImage=new Image,this._autoResolution=h.defaultAutoResolution,this._resolution=h.defaultResolution??o.settings.RESOLUTION,this.text=e,this.style=t}measureText(e){var{text:e,style:t,resolution:r}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e),s=(Object.assign(this._domElement,{innerHTML:e,style:t.toCSS(r)}),this._styleElement.textContent=t.toGlobalCSS(),document.body.appendChild(this._svgRoot),this._domElement.getBoundingClientRect()),i=(this._svgRoot.remove(),Math.min(this.maxWidth,Math.ceil(s.width))),s=Math.min(this.maxHeight,Math.ceil(s.height));return this._svgRoot.setAttribute("width",i.toString()),this._svgRoot.setAttribute("height",s.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),t!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(r)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:i+2*t.padding,height:s+2*t.padding}}async updateText(e=!0){const{style:r,_image:s,_loadImage:i}=this;var t;this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e||({width:e,height:t}=this.measureText(),s.width=i.width=Math.ceil(Math.max(1,e)),s.height=i.height=Math.ceil(Math.max(1,t)),this._loading)||(this._loading=!0,await new Promise(e=>{i.onload=async()=>{await r.onBeforeDraw(),this._loading=!1,s.src=i.src,i.onload=null,i.src="",this.updateTexture(),e()};var t=(new XMLSerializer).serializeToString(this._svgRoot);i.src="data:image/svg+xml;charset=utf8,"+encodeURIComponent(t)}))}get source(){return this._image}updateTexture(){var{style:e,texture:t,_image:r,resolution:s}=this,e=e["padding"],i=t["baseTexture"];t.trim.width=t._frame.width=r.width/s,t.trim.height=t._frame.height=r.height/s,t.trim.x=-e,t.trim.y=-e,t.orig.width=t._frame.width-2*e,t.orig.height=t._frame.height-2*e,this._onTextureUpdate(),i.setRealSize(r.width,r.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},h.defaultDestroyOptions,e),super.destroy(e);this.ownsStyle&&this._style?.cleanFonts(),this._style=null,this._svgRoot?.remove(),this._svgRoot=null,this._domElement?.remove(),this._domElement=null,this._foreignObject?.remove(),this._foreignObject=null,this._styleElement?.remove(),this._styleElement=null,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=null,this._image.src="",this._image=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);var t=o.utils.sign(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);var t=o.utils.sign(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&((e=e||{})instanceof n.HTMLTextStyle?(this.ownsStyle=!1,this._style=e):e instanceof i.TextStyle?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=n.HTMLTextStyle.from(e)):(this.ownsStyle=!0,this._style=new n.HTMLTextStyle(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(""===e||null==e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};e=h;e.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},e.defaultMaxWidth=2024,e.defaultMaxHeight=2024,e.defaultAutoResolution=!0,r.HTMLText=e},{"./HTMLTextStyle.js":319,"@pixi/core":104,"@pixi/sprite":296,"@pixi/text":325}],319:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@pixi/core");const a=class extends e("@pixi/text").TextStyle{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(r){return new a(Object.keys(a.defaultOptions).reduce((e,t)=>({...e,[t]:r[t]}),{}))}cleanFonts(){0<this._fonts.length&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,0===e.refs&&(e.fontFace&&document.fonts.delete(e.fontFace),delete a.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(r,s={}){const i=a["availableFonts"];var e;return i[r]?(e=i[r],this._fonts.push(e),e.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()):n.settings.ADAPTER.fetch(r).then(e=>e.blob()).then(async i=>new Promise((e,t)=>{const r=URL.createObjectURL(i),s=new FileReader;s.onload=()=>e([r,s.result]),s.onerror=t,s.readAsDataURL(i)})).then(async([e,t])=>{e=Object.assign({family:n.utils.path.basename(r,n.utils.path.extname(r)),weight:"normal",style:"normal",src:e,dataSrc:t,refs:1,originalUrl:r,fontFace:null},s),i[r]=e,this._fonts.push(e),this.styleID++,t=new FontFace(e.family,`url(${e.src})`,{weight:e.weight,style:e.style});await(e.fontFace=t).load(),document.fonts.add(t),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){e=e.filter(e=>!this._overrides.includes(e));0<e.length&&(this._overrides.push(...e),this.styleID++)}removeOverride(...e){const t=e.filter(e=>this._overrides.includes(e));0<t.length&&(this._overrides=this._overrides.filter(e=>!t.includes(e)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block","color: "+this.normalizeColor(this.fill),`font-size: ${this.fontSize}px`,"font-family: "+this.fontFamily,"font-weight: "+this.fontWeight,"font-style: "+this.fontStyle,"font-variant: "+this.fontVariant,`letter-spacing: ${this.letterSpacing}px`,"text-align: "+this.align,`padding: ${this.padding}px`,"white-space: "+this.whiteSpace,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?["word-wrap: "+(this.breakWords?"break-all":"break-word"),`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,"-webkit-text-stroke-color: "+this.normalizeColor(this.stroke),`text-stroke-width: ${this.strokeThickness}px`,"text-stroke-color: "+this.normalizeColor(this.stroke),"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return"number"==typeof(e=Array.isArray(e)?n.utils.rgb2hex(e):e)?n.utils.hex2string(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);var t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance),t=(e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0")),r+`px ${s}px`);return 0<this.dropShadowBlur?`text-shadow: ${t} ${this.dropShadowBlur}px `+e:`text-shadow: ${t} `+e}reset(){Object.assign(this,a.defaultOptions)}onBeforeDraw(){var e=this["fontsDirty"];return this.fontsDirty=!1,this.isSafari&&0<this._fonts.length&&e?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){var e=n.settings.ADAPTER.getNavigator()["userAgent"];return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};e=a;e.availableFonts={},e.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100},r.HTMLTextStyle=e},{"@pixi/core":104,"@pixi/text":325}],320:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./HTMLText.js"),e=e("./HTMLTextStyle.js");r.HTMLText=s.HTMLText,r.HTMLTextStyle=e.HTMLTextStyle},{"./HTMLText.js":318,"./HTMLTextStyle.js":319}],321:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var x=e("@pixi/core"),s=e("@pixi/sprite"),_=e("./const.js"),v=e("./TextMetrics.js"),i=e("./TextStyle.js");const n={texture:!0,children:!1,baseTexture:!0},a=class extends s.Sprite{constructor(e,t,r){let s=!1;r||(r=x.settings.ADAPTER.createCanvas(),s=!0),r.width=3,r.height=3;var i=x.Texture.from(r);i.orig=new x.Rectangle,i.trim=new x.Rectangle,super(i),this._ownCanvas=s,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=a.defaultResolution??x.settings.RESOLUTION,this._autoResolution=a.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return v.TextMetrics.experimentalLetterSpacing}static set experimentalLetterSpacing(e){x.utils.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),v.TextMetrics.experimentalLetterSpacing=e}updateText(e){var s=this._style;if(this.localStyleID!==s.styleID&&(this.dirty=!0,this.localStyleID=s.styleID),this.dirty||!e){this._font=this._style.toFontString();var i,n=this.context,a=v.TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),e=a.width,o=a.height,h=a.lines,l=a.lineHeight,u=a.lineWidths,d=a.maxLineWidth,c=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,e)+2*s.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*s.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=s.strokeThickness,n.textBaseline=s.textBaseline,n.lineJoin=s.lineJoin,n.miterLimit=s.miterLimit;let r;var t=s.dropShadow?2:1;for(let e=0;e<t;++e){var p,f,m=s.dropShadow&&0===e,g=m?Math.ceil(Math.max(1,o)+2*s.padding):0,_=g*this._resolution;m?(n.fillStyle="black",n.strokeStyle="black",m=s.dropShadowColor,p=s.dropShadowBlur*this._resolution,f=s.dropShadowDistance*this._resolution,n.shadowColor=x.Color.shared.setValue(m).setAlpha(s.dropShadowAlpha).toRgbaString(),n.shadowBlur=p,n.shadowOffsetX=Math.cos(s.dropShadowAngle)*f,n.shadowOffsetY=Math.sin(s.dropShadowAngle)*f+_):(n.fillStyle=this._generateFillStyle(s,h,a),n.strokeStyle=s.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0);let t=(l-c.fontSize)/2;l-c.fontSize<0&&(t=0);for(let e=0;e<h.length;e++)r=s.strokeThickness/2,i=s.strokeThickness/2+e*l+c.ascent+t,"right"===s.align?r+=d-u[e]:"center"===s.align&&(r+=(d-u[e])/2),s.stroke&&s.strokeThickness&&this.drawLetterSpacing(h[e],r+s.padding,i+s.padding-g,!0),s.fill&&this.drawLetterSpacing(h[e],r+s.padding,i+s.padding-g)}this.updateTexture()}}drawLetterSpacing(t,r,i,n=!1){var a=this._style.letterSpacing;let e=!1;if(v.TextMetrics.experimentalLetterSpacingSupported&&(v.TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing=a+"px",this.context.textLetterSpacing=a+"px",e=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===a||e)n?this.context.strokeText(t,r,i):this.context.fillText(t,r,i);else{let e=r;var o=v.TextMetrics.graphemeSegmenter(t);let s=this.context.measureText(t).width;for(let r=0;r<o.length;++r){var h=o[r];n?this.context.strokeText(h,e,i):this.context.fillText(h,e,i);let t="";for(let e=r+1;e<o.length;++e)t+=o[e];h=this.context.measureText(t).width,e+=s-h+a,s=h}}}updateTexture(){var e=this.canvas,t=(this._style.trim&&(t=x.utils.trimCanvas(e)).data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0)),this._texture),r=this._style,r=r.trim?0:r.padding,s=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-r,t.trim.y=-r,t.orig.width=t._frame.width-2*r,t.orig.height=t._frame.height-2*r,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,i){var t=e.fill;if(!Array.isArray(t))return t;if(1===t.length)return t[0];let n;var s=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,o=this.canvas.width/this._resolution-s-2*a,h=this.canvas.height/this._resolution-s-2*a,l=t.slice(),u=e.fillGradientStops.slice();if(!u.length){var d=l.length+1;for(let e=1;e<d;++e)u.push(e/d)}if(l.unshift(t[0]),u.unshift(0),l.push(t[t.length-1]),u.push(1),e.fillGradientType===_.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(o/2,a,o/2,h+a);var c=i.fontProperties.fontSize+e.strokeThickness;for(let t=0;t<r.length;t++){var p=i.lineHeight*(t-1)+c,f=i.lineHeight*t;let s=f;0<t&&f<p&&(s=(f+p)/2);p=f+c,f=i.lineHeight*(t+1);let e=p;var m=((e=t+1<r.length&&f<p?(p+f)/2:e)-s)/h;for(let r=0;r<l.length;r++){let e=0,t=(e="number"==typeof u[r]?u[r]:r/l.length,Math.min(1,Math.max(0,s/h+e*m)));t=Number(t.toFixed(5)),n.addColorStop(t,l[r])}}}else{n=this.context.createLinearGradient(a,h/2,o+a,h/2);var g=l.length+1;let r=1;for(let t=0;t<l.length;t++){let e;e="number"==typeof u[t]?u[t]:r/g,n.addColorStop(e,l[t]),r++}}return n}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},n,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);var t=x.utils.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);var t=x.utils.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){(e=e||{})instanceof i.TextStyle?this._style=e:this._style=new i.TextStyle(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};e=a;e.defaultAutoResolution=!0,r.Text=e},{"./TextMetrics.js":322,"./TextStyle.js":323,"./const.js":324,"@pixi/core":104,"@pixi/sprite":296}],322:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core");const y={willReadFrequently:!0},T=class{static get experimentalLetterSpacingSupported(){let e=T._experimentalLetterSpacingSupported;var t;return void 0!==e&&(t=s.settings.ADAPTER.getCanvasRenderingContext2D().prototype,e=T._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t),e}constructor(e,t,r,s,i,n,a,o,h){this.text=e,this.style=t,this.width=r,this.height=s,this.lines=i,this.lineWidths=n,this.lineHeight=a,this.maxLineWidth=o,this.fontProperties=h}static measureText(e,t,r,s=T._canvas){r=null==r?t.wordWrap:r;var i=t.toFontString(),n=T.measureFont(i),a=(0===n.fontSize&&(n.fontSize=t.fontSize,n.ascent=t.fontSize),s.getContext("2d",y));a.font=i;var o=(r?T.wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),h=new Array(o.length);let l=0;for(let e=0;e<o.length;e++){var u=T._measureText(o[e],t.letterSpacing,a);h[e]=u,l=Math.max(l,u)}let d=l+t.strokeThickness;t.dropShadow&&(d+=t.dropShadowDistance);i=t.lineHeight||n.fontSize+t.strokeThickness;let c=Math.max(i,n.fontSize+2*t.strokeThickness)+(o.length-1)*(i+t.leading);return t.dropShadow&&(c+=t.dropShadowDistance),new T(e,t,d,c,o,h,i+t.leading,l,n)}static _measureText(e,t,r){let s=!1,i=(T.experimentalLetterSpacingSupported&&(T.experimentalLetterSpacing?(r.letterSpacing=t+"px",r.textLetterSpacing=t+"px",s=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px")),r.measureText(e).width);return 0<i&&(s?i-=t:i+=(T.graphemeSegmenter(e).length-1)*t),i}static wordWrap(e,n,t=T._canvas){var a=t.getContext("2d",y);let o=0,h="",l="";var u=Object.create(null),{letterSpacing:d,whiteSpace:t}=n,r=T.collapseSpaces(t),s=T.collapseNewlines(t);let c=!r;var p=n.wordWrapWidth+d,f=T.tokenize(e);for(let e=0;e<f.length;e++){let i=f[e];if(T.isNewline(i)){if(!s){l+=T.addLine(h),c=!r,h="",o=0;continue}i=" "}if(r){var m=T.isBreakingSpace(i),g=T.isBreakingSpace(h[h.length-1]);if(m&&g)continue}m=T.getFromCache(i,d,u,a);if(p<m)if(""!==h&&(l+=T.addLine(h),h="",o=0),T.canBreakWords(i,n.breakWords)){var _=T.wordWrapSplit(i);for(let s=0;s<_.length;s++){let e=_[s],t=e,r=1;for(;_[s+r];){var x=_[s+r];if(T.canBreakChars(t,x,i,s,n.breakWords))break;e+=x,t=x,r++}s+=r-1;var v=T.getFromCache(e,d,u,a);v+o>p&&(l+=T.addLine(h),c=!1,h="",o=0),h+=e,o+=v}}else{0<h.length&&(l+=T.addLine(h),h="",o=0);g=e===f.length-1;l+=T.addLine(i,!g),c=!1,h="",o=0}else m+o>p&&(c=!1,l+=T.addLine(h),h="",o=0),(0<h.length||!T.isBreakingSpace(i)||c)&&(h+=i,o+=m)}return l+=T.addLine(h,!1)}static addLine(e,t=!0){return e=T.trimRight(e),e=t?e+`
`:e}static getFromCache(e,t,r,s){let i=r[e];return"number"!=typeof i&&(i=T._measureText(e,t,s)+t,r[e]=i),i}static collapseSpaces(e){return"normal"===e||"pre-line"===e}static collapseNewlines(e){return"normal"===e}static trimRight(t){if("string"!=typeof t)return"";for(let e=t.length-1;0<=e;e--){var r=t[e];if(!T.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(e){return"string"==typeof e&&T._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return"string"==typeof e&&T._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(t){var r=[];let s="";if("string"==typeof t){for(let e=0;e<t.length;e++){var i=t[e],n=t[e+1];T.isBreakingSpace(i,n)||T.isNewline(i)?(""!==s&&(r.push(s),s=""),r.push(i)):s+=i}""!==s&&r.push(s)}return r}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,s,i){return!0}static wordWrapSplit(e){return T.graphemeSegmenter(e)}static measureFont(s){if(T._fonts[s])return T._fonts[s];var i={ascent:0,descent:0,fontSize:0},n=T._canvas,a=T._context,o=(a.font=s,T.METRICS_STRING+T.BASELINE_SYMBOL),h=Math.ceil(a.measureText(o).width),l=Math.ceil(a.measureText(T.BASELINE_SYMBOL).width),u=Math.ceil(T.HEIGHT_MULTIPLIER*l),l=l*T.BASELINE_MULTIPLIER|0;if(0!==h&&0!==u){n.width=h,n.height=u,a.fillStyle="#f00",a.fillRect(0,0,h,u),a.font=s,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(o,0,l);var d=a.getImageData(0,0,h,u).data,n=d.length,c=4*h;let e=0,t=0,r=!1;for(e=0;e<l;++e){for(let e=0;e<c;e+=4)if(255!==d[t+e]){r=!0;break}if(r)break;t+=c}for(i.ascent=l-e,t=n-c,r=!1,e=u;e>l;--e){for(let e=0;e<c;e+=4)if(255!==d[t+e]){r=!0;break}if(r)break;t-=c}i.descent=e-l,i.fontSize=i.ascent+i.descent}return T._fonts[s]=i}static clearMetrics(e=""){e?delete T._fonts[e]:T._fonts={}}static get _canvas(){if(!T.__canvas){let t;try{var e=new OffscreenCanvas(0,0);if(e.getContext("2d",y)?.measureText)return T.__canvas=e;t=s.settings.ADAPTER.createCanvas()}catch(e){t=s.settings.ADAPTER.createCanvas()}t.width=t.height=10,T.__canvas=t}return T.__canvas}static get _context(){return T.__context||(T.__context=T._canvas.getContext("2d",y)),T.__context}};e=T;e.METRICS_STRING="|q",e.BASELINE_SYMBOL="M",e.BASELINE_MULTIPLIER=1.4,e.HEIGHT_MULTIPLIER=2,e.graphemeSegmenter=(()=>{if("function"!=typeof Intl?.Segmenter)return e=>[...e];{const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(e=>e.segment)}})(),e.experimentalLetterSpacing=!1,e._fonts={},e._newlines=[10,13],e._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288],r.TextMetrics=e},{"@pixi/core":104}],323:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./const.js"),i=e("@pixi/core");const n=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],a=class{constructor(e){this.styleID=0,this.reset(),h(this,e,e)}clone(){var e={};return h(e,this,a.defaultStyle),new a(e)}reset(){h(this,a.defaultStyle,a.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){e=o(e);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){e=o(e);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){!function(t,r){if(!Array.isArray(t)||!Array.isArray(r))return;if(t.length!==r.length)return;for(let e=0;e<t.length;++e)if(t[e]!==r[e])return;return 1}(this._fillGradientStops,e)&&(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){e=o(e);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize;let r=this.fontFamily;for(let t=(r=Array.isArray(this.fontFamily)?r:this.fontFamily.split(",")).length-1;0<=t;t--){let e=r[t].trim();/([\"\'])[^\'\"]+\1/.test(e)||n.includes(e)||(e=`"${e}"`),r[t]=e}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} `+r.join(",")}};e=a;function o(e){const t=i.Color.shared;return Array.isArray(e)?e.map(e=>t.setValue(e).toHex()):t.setValue(e).toHex()}function h(e,t,r){for(const s in r)Array.isArray(t[s])?e[s]=t[s].slice():e[s]=t[s]}e.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:s.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100},r.TextStyle=e},{"./const.js":324,"@pixi/core":104}],324:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TEXT_GRADIENT=(e=>(e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e))({})},{}],325:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./const.js"),i=e("./Text.js"),n=e("./TextMetrics.js"),e=e("./TextStyle.js");r.TEXT_GRADIENT=s.TEXT_GRADIENT,r.Text=i.Text,r.TextMetrics=n.TextMetrics,r.TextStyle=e.TextStyle},{"./Text.js":321,"./TextMetrics.js":322,"./TextStyle.js":323,"./const.js":324}],326:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("./const.js"),i=e("./TickerListener.js");const n=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new i.TickerListener(null,null,1/0),this.deltaMS=1/n.targetFPMS,this.elapsedMS=1/n.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started)&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=s.UPDATE_PRIORITY.NORMAL){return this._addListener(new i.TickerListener(e,t,r))}addOnce(e,t,r=s.UPDATE_PRIORITY.NORMAL){return this._addListener(new i.TickerListener(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}t=(r=t).next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let r;if(t>this.lastTime){if((r=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var s=t-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=t-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*n.targetFPMS;s=this._head;let e=s.next;for(;e;)e=e.emit(this.deltaTime);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){e=Math.min(this.maxFPS,e),e=Math.min(Math.max(0,e)/1e3,n.targetFPMS);this._maxElapsedMS=1/e}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){0===e?this._minElapsedMS=0:(e=Math.max(this.minFPS,e),this._minElapsedMS=1/(e/1e3))}static get shared(){var e;return n._shared||((e=n._shared=new n).autoStart=!0,e._protected=!0),n._shared}static get system(){var e;return n._system||((e=n._system=new n).autoStart=!0,e._protected=!0),n._system}};e=n;e.targetFPMS=.06,r.Ticker=e},{"./TickerListener.js":327,"./const.js":329}],327:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.TickerListener=class{constructor(e,t=null,r=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=s}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(e){(this.previous=e).next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t}}},{}],328:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/extensions"),i=e("./const.js"),n=e("./Ticker.js");class a{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=e)&&e.add(this.render,this,i.UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?n.Ticker.shared:new n.Ticker,e.autoStart&&this.start()}static destroy(){var e;this._ticker&&(e=this._ticker,this.ticker=null,e.destroy())}}a.extension=s.ExtensionType.Application,s.extensions.add(a),r.TickerPlugin=a},{"./Ticker.js":326,"./const.js":329,"@pixi/extensions":192}],329:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UPDATE_PRIORITY=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))({})},{}],330:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("./settings.js");var s=e("./const.js"),i=e("./Ticker.js"),e=e("./TickerPlugin.js");r.UPDATE_PRIORITY=s.UPDATE_PRIORITY,r.Ticker=i.Ticker,r.TickerPlugin=e.TickerPlugin},{"./Ticker.js":326,"./TickerPlugin.js":328,"./const.js":329,"./settings.js":331}],331:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/settings"),i=e("@pixi/utils"),n=e("./Ticker.js");Object.defineProperties(s.settings,{TARGET_FPMS:{get(){return n.Ticker.targetFPMS},set(e){i.deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),n.Ticker.targetFPMS=e}}}),Object.defineProperty(r,"settings",{enumerable:!0,get:function(){return s.settings}})},{"./Ticker.js":326,"@pixi/settings":282,"@pixi/utils":344}],332:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../logging/deprecation.js");r.sayHello=function(){s.deprecation("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)},r.skipHello=function(){s.deprecation("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}},{"../logging/deprecation.js":345}],333:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("../settings.js");var n=e("@pixi/settings");let s;r.isWebGLSupported=function(){return s=void 0===s?function(){var t={stencil:!0,failIfMajorPerformanceCaveat:n.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!n.settings.ADAPTER.getWebGLRenderingContext())return!1;var r=n.settings.ADAPTER.createCanvas();let e=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);var s,i=!!e?.getContextAttributes()?.stencil;return e&&(s=e.getExtension("WEBGL_lose_context"))&&s.loseContext(),e=null,i}catch(e){return!1}}():s}},{"../settings.js":355,"@pixi/settings":282}],334:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/color"),i=e("../logging/deprecation.js");r.hex2rgb=function(e,t=[]){return i.deprecation("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),s.Color.shared.setValue(e).toRgbArray(t)},r.hex2string=function(e){return i.deprecation("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),s.Color.shared.setValue(e).toHex()},r.rgb2hex=function(e){return i.deprecation("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),s.Color.shared.setValue(e).toNumber()},r.string2hex=function(e){return i.deprecation("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),s.Color.shared.setValue(e).toNumber()}},{"../logging/deprecation.js":345,"@pixi/color":48}],335:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("@pixi/color"),s=e("@pixi/constants"),n=e("../logging/deprecation.js");const a=function(){var t=[],r=[];for(let e=0;e<32;e++)r[t[e]=e]=e;t[s.BLEND_MODES.NORMAL_NPM]=s.BLEND_MODES.NORMAL,t[s.BLEND_MODES.ADD_NPM]=s.BLEND_MODES.ADD,t[s.BLEND_MODES.SCREEN_NPM]=s.BLEND_MODES.SCREEN,r[s.BLEND_MODES.NORMAL]=s.BLEND_MODES.NORMAL_NPM,r[s.BLEND_MODES.ADD]=s.BLEND_MODES.ADD_NPM,r[s.BLEND_MODES.SCREEN]=s.BLEND_MODES.SCREEN_NPM;var e=[];return e.push(r),e.push(t),e}();r.correctBlendMode=function(e,t){return a[t?1:0][e]},r.premultiplyBlendMode=a,r.premultiplyRgba=function(e,t,r,s=!0){return n.deprecation("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),i.Color.shared.setValue(e).premultiply(t,s).toArray(r??new Float32Array(4))},r.premultiplyTint=function(e,t){return n.deprecation("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),i.Color.shared.setValue(e).toPremultiplied(t)},r.premultiplyTintToRgba=function(e,t,r,s=!0){return n.deprecation("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),i.Color.shared.setValue(e).premultiply(t,s).toArray(r??new Float32Array(4))}},{"../logging/deprecation.js":345,"@pixi/color":48,"@pixi/constants":63}],336:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i},{}],337:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createIndicesForQuads=function(e,r=null){var s=6*e;if((r=r||new Uint16Array(s)).length!==s)throw new Error(`Out buffer length is incorrect, got ${r.length} and expected `+s);for(let e=0,t=0;e<s;e+=6,t+=4)r[e+0]=t+0,r[e+1]=t+1,r[e+2]=t+2,r[e+3]=t+0,r[e+4]=t+2,r[e+5]=t+3;return r}},{}],338:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getBufferType=function(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}},{}],339:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=e("./getBufferType.js");const p={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};r.interleaveTypedArrays=function(t,r){let s=0,i=0;var n={};for(let e=0;e<t.length;e++)i+=r[e],s+=t[e].length;var a=new ArrayBuffer(4*s),o=null;let h=0;for(let e=0;e<t.length;e++){var l=r[e],u=t[e],d=c.getBufferType(u);n[d]||(n[d]=new p[d](a)),o=n[d];for(let e=0;e<u.length;e++)o[(e/l|0)*i+h+e%l]=u[e];h+=l}return new Float32Array(a)}},{"./getBufferType.js":338}],340:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPow2=function(e){return!(e&e-1||!e)},r.log2=function(e){var t=(65535<e?1:0)<<4,r=(255<(e>>>=t)?1:0)<<3;return(t|=r)|(r=(15<(e>>>=r)?1:0)<<2)|(r=(3<(e>>>=r)?1:0)<<1)|(e>>>=r)>>1},r.nextPow2=function(e){return e+=0===e?1:0,--e,(e=(e=(e=(e=(e|=e>>>1)|e>>>2)|e>>>4)|e>>>8)|e>>>16)+1}},{}],341:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.removeItems=function(e,t,r){var s=e.length;let i;if(!(s<=t||0===r)){var n=s-(r=s<t+r?s-t:r);for(i=t;i<n;++i)e[i]=e[i+r];e.length=n}}},{}],342:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sign=function(e){return 0===e?0:e<0?-1:1}},{}],343:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let s=0;r.uid=function(){return++s}},{}],344:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("./settings.js");var s=e("@pixi/settings"),i=e("eventemitter3"),n=e("earcut"),a=e("./url.js"),o=e("./path.js"),h=e("./browser/hello.js"),l=e("./browser/isWebGLSupported.js"),u=e("./color/hex.js"),d=e("./color/premultiply.js"),c=e("./const.js"),p=e("./data/createIndicesForQuads.js"),f=e("./data/getBufferType.js"),m=e("./data/interleaveTypedArrays.js"),g=e("./data/pow2.js"),_=e("./data/removeItems.js"),x=e("./data/sign.js"),v=e("./data/uid.js"),y=e("./logging/deprecation.js"),T=e("./media/BoundingBox.js"),b=e("./media/caches.js"),E=e("./media/CanvasRenderTarget.js"),S=e("./media/getCanvasBoundingBox.js"),A=e("./media/trimCanvas.js"),P=e("./network/decomposeDataUri.js"),M=e("./network/determineCrossOrigin.js"),R=e("./network/getResolutionOfUrl.js");function w(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e("./types/index.js");var j=w(i),C=w(n);Object.defineProperty(r,"isMobile",{enumerable:!0,get:function(){return s.isMobile}}),Object.defineProperty(r,"EventEmitter",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(r,"earcut",{enumerable:!0,get:function(){return C.default}}),r.url=a.url,r.path=o.path,r.sayHello=h.sayHello,r.skipHello=h.skipHello,r.isWebGLSupported=l.isWebGLSupported,r.hex2rgb=u.hex2rgb,r.hex2string=u.hex2string,r.rgb2hex=u.rgb2hex,r.string2hex=u.string2hex,r.correctBlendMode=d.correctBlendMode,r.premultiplyBlendMode=d.premultiplyBlendMode,r.premultiplyRgba=d.premultiplyRgba,r.premultiplyTint=d.premultiplyTint,r.premultiplyTintToRgba=d.premultiplyTintToRgba,r.DATA_URI=c.DATA_URI,r.createIndicesForQuads=p.createIndicesForQuads,r.getBufferType=f.getBufferType,r.interleaveTypedArrays=m.interleaveTypedArrays,r.isPow2=g.isPow2,r.log2=g.log2,r.nextPow2=g.nextPow2,r.removeItems=_.removeItems,r.sign=x.sign,r.uid=v.uid,r.deprecation=y.deprecation,r.BoundingBox=T.BoundingBox,r.BaseTextureCache=b.BaseTextureCache,r.ProgramCache=b.ProgramCache,r.TextureCache=b.TextureCache,r.clearTextureCache=b.clearTextureCache,r.destroyTextureCache=b.destroyTextureCache,r.CanvasRenderTarget=E.CanvasRenderTarget,r.getCanvasBoundingBox=S.getCanvasBoundingBox,r.trimCanvas=A.trimCanvas,r.decomposeDataUri=P.decomposeDataUri,r.determineCrossOrigin=M.determineCrossOrigin,r.getResolutionOfUrl=R.getResolutionOfUrl},{"./browser/hello.js":332,"./browser/isWebGLSupported.js":333,"./color/hex.js":334,"./color/premultiply.js":335,"./const.js":336,"./data/createIndicesForQuads.js":337,"./data/getBufferType.js":338,"./data/interleaveTypedArrays.js":339,"./data/pow2.js":340,"./data/removeItems.js":341,"./data/sign.js":342,"./data/uid.js":343,"./logging/deprecation.js":345,"./media/BoundingBox.js":346,"./media/CanvasRenderTarget.js":347,"./media/caches.js":348,"./media/getCanvasBoundingBox.js":349,"./media/trimCanvas.js":350,"./network/decomposeDataUri.js":351,"./network/determineCrossOrigin.js":352,"./network/getResolutionOfUrl.js":353,"./path.js":354,"./settings.js":355,"./types/index.js":356,"./url.js":357,"@pixi/settings":282,earcut:361,eventemitter3:362}],345:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i={};r.deprecation=function(t,r,s=3){if(!i[r]){let e=(new Error).stack;void 0===e?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t):(e=e.split("\n").splice(s).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+t),console.warn(e),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t),console.warn(e))),i[r]=!0}}},{}],346:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=class{constructor(e,t,r,s){this.left=e,this.top=t,this.right=r,this.bottom=s}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}},i=s;i.EMPTY=new s(0,0,0,0),r.BoundingBox=i},{}],347:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/settings");r.CanvasRenderTarget=class{constructor(e,t,r){this._canvas=s.settings.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||s.settings.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}},{"@pixi/settings":282}],348:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=Object.create(null),i=Object.create(null);r.BaseTextureCache=i,r.ProgramCache={},r.TextureCache=s,r.clearTextureCache=function(){let e;for(e in s)delete s[e];for(e in i)delete i[e]},r.destroyTextureCache=function(){let e;for(e in s)s[e].destroy();for(e in i)i[e].destroy()}},{}],349:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=e("./BoundingBox.js");function l(r,s,i){for(let e=0,t=4*i*s;e<s;++e,t+=4)if(0!==r[t+3])return;return 1}function u(r,e,s,i,n){var a=4*e;for(let e=i,t=i*a+4*s;e<=n;++e,t+=a)if(0!==r[t+3])return;return 1}r.getCanvasBoundingBox=function(e){var{width:t,height:r}=e;if(null===(e=e.getContext("2d",{willReadFrequently:!0})))throw new TypeError("Failed to get canvas 2D context");var s=e.getImageData(0,0,t,r).data;let i=0,n=0,a=t-1,o=r-1;for(;n<r&&l(s,t,n);)++n;if(n===r)return h.BoundingBox.EMPTY;for(;l(s,t,o);)--o;for(;u(s,t,i,n,o);)++i;for(;u(s,t,a,n,o);)--a;return++a,++o,new h.BoundingBox(i,n,a,o)}},{"./BoundingBox.js":346}],350:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./getCanvasBoundingBox.js");r.trimCanvas=function(e){var t=n.getCanvasBoundingBox(e),{width:r,height:s}=t;let i=null;if(!t.isEmpty()){e=e.getContext("2d");if(null===e)throw new TypeError("Failed to get canvas 2D context");i=e.getImageData(t.left,t.top,r,s)}return{width:r,height:s,data:i}}},{"./getCanvasBoundingBox.js":349}],351:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../const.js");r.decomposeDataUri=function(e){if(e=s.DATA_URI.exec(e))return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}},{"../const.js":336}],352:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../url.js");let i;r.determineCrossOrigin=function(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location,(i=i||document.createElement("a")).href=e;var r=!(e=s.url.parse(i.href)).port&&""===t.port||e.port===t.port;return e.hostname===t.hostname&&r&&e.protocol===t.protocol?"":"anonymous"}},{"../url.js":357}],353:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("../settings.js");var s=e("@pixi/settings");r.getResolutionOfUrl=function(e,t=1){return(e=s.settings.RETINA_PREFIX?.exec(e))?parseFloat(e[1]):t}},{"../settings.js":355,"@pixi/settings":282}],354:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/settings");function d(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function c(e){return e.split("?")[0].split("#")[0]}const i={toPosix(e){return t="\\",r="/",e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),r);var t,r},isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},hasProtocol(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol(e){d(e),e=this.toPosix(e);let t="";var r=/^file:\/\/\//.exec(e),s=/^[^/:]+:\/\//.exec(e),i=/^[^/:]+:\//.exec(e);return(r||s||i)&&(r=r?.[0]||s?.[0]||i?.[0],t=r,e=e.slice(r.length)),t},toAbsolute(e,t,r){return this.isDataUrl(e)?e:(t=c(this.toPosix(t??s.settings.ADAPTER.getBaseUrl())),r=c(this.toPosix(r??this.rootname(t))),d(e),(e=this.toPosix(e)).startsWith("/")?i.join(r,e.slice(1)):this.isAbsolute(e)?e:this.join(t,e))},normalize(e){if(d(e=this.toPosix(e)),0===e.length)return".";let t="";var r=e.startsWith("/"),s=(this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length)),e.endsWith("/"));return 0<(e=function(t,r){let s="",i=0,n=-1,a=0,o=-1;for(let e=0;e<=t.length;++e){if(e<t.length)o=t.charCodeAt(e);else{if(47===o)break;o=47}if(47===o){if(n!==e-1&&1!==a)if(n!==e-1&&2===a){if(s.length<2||2!==i||46!==s.charCodeAt(s.length-1)||46!==s.charCodeAt(s.length-2))if(2<s.length){var h=s.lastIndexOf("/");if(h!==s.length-1){i=-1===h?(s="",0):(s=s.slice(0,h)).length-1-s.lastIndexOf("/"),n=e,a=0;continue}}else if(2===s.length||1===s.length){s="",i=0,n=e,a=0;continue}r&&(0<s.length?s+="/..":s="..",i=2)}else 0<s.length?s+="/"+t.slice(n+1,e):s=t.slice(n+1,e),i=e-n-1;n=e,a=0}else 46===o&&-1!==a?++a:a=-1}return s}(e,!1)).length&&s&&(e+="/"),r?"/"+e:t+e},isAbsolute(e){return d(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join(...t){if(0===t.length)return".";let r;for(let e=0;e<t.length;++e){var s,i=t[e];d(i),0<i.length&&(void 0===r?r=i:(s=t[e-1]??"",this.extname(s)?r+="/../"+i:r+="/"+i))}return void 0===r?".":this.normalize(r)},dirname(t){if(d(t),0===t.length)return".";var e=47===(t=this.toPosix(t)).charCodeAt(0);let r=-1,s=!0;var i=this.getProtocol(t),n=t;for(let e=(t=t.slice(i.length)).length-1;1<=e;--e)if(47===t.charCodeAt(e)){if(!s){r=e;break}}else s=!1;return-1===r?e?"/":this.isUrl(n)?i+t:i:e&&1===r?"//":i+t.slice(0,r)},rootname(e){d(e),e=this.toPosix(e);let t="";var r;return t=e.startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)&&(r=e.indexOf("/",t.length),(t=-1!==r?e.slice(0,r):e).endsWith("/")||(t+="/")),t},basename(r,s){d(r),s&&d(s),r=c(this.toPosix(r));let i=0,n=-1,a=!0,o;if(void 0!==s&&0<s.length&&s.length<=r.length){if(s.length===r.length&&s===r)return"";let e=s.length-1,t=-1;for(o=r.length-1;0<=o;--o){var h=r.charCodeAt(o);if(47===h){if(!a){i=o+1;break}}else-1===t&&(a=!1,t=o+1),0<=e&&(h===s.charCodeAt(e)?-1==--e&&(n=o):(e=-1,n=t))}return i===n?n=t:-1===n&&(n=r.length),r.slice(i,n)}for(o=r.length-1;0<=o;--o)if(47===r.charCodeAt(o)){if(!a){i=o+1;break}}else-1===n&&(a=!1,n=o+1);return-1===n?"":r.slice(i,n)},extname(t){d(t);let r=-1,s=0,i=-1,n=!0,a=0;for(let e=(t=c(this.toPosix(t))).length-1;0<=e;--e){var o=t.charCodeAt(e);if(47===o){if(n)continue;s=e+1;break}-1===i&&(n=!1,i=e+1),46===o?-1===r?r=e:1!==a&&(a=1):-1!==r&&(a=-1)}return-1===r||-1===i||0===a||1===a&&r===i-1&&r===s+1?"":t.slice(r,i)},parse(o){d(o);var h={root:"",dir:"",base:"",ext:"",name:""};if(0!==o.length){(o=c(this.toPosix(o))).charCodeAt(0);var l,u=this.isAbsolute(o);let e;h.root=this.rootname(o),e=u||this.hasProtocol(o)?1:0;let t=-1,r=0,s=-1,i=!0,n=o.length-1,a=0;for(;n>=e;--n){if(47===(l=o.charCodeAt(n))){if(i)continue;r=n+1;break}-1===s&&(i=!1,s=n+1),46===l?-1===t?t=n:1!==a&&(a=1):-1!==t&&(a=-1)}-1===t||-1===s||0===a||1===a&&t===s-1&&t===r+1?-1!==s&&(0===r&&u?h.base=h.name=o.slice(1,s):h.base=h.name=o.slice(r,s)):(0===r&&u?(h.name=o.slice(1,t),h.base=o.slice(1,s)):(h.name=o.slice(r,t),h.base=o.slice(r,s)),h.ext=o.slice(t,s)),h.dir=this.dirname(o)}return h},sep:"/",delimiter:":"};r.path=i},{"@pixi/settings":282}],355:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/settings");s.settings.RETINA_PREFIX=/@([0-9\.]+)x/,s.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,Object.defineProperty(r,"settings",{enumerable:!0,get:function(){return s.settings}})},{"@pixi/settings":282}],356:[function(e,t,r){},{}],357:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("url"),e={parse:e.parse,format:e.format,resolve:e.resolve};r.url=e},{url:370}],358:[function(e,R,w){!function(M){!function(){var e=this,t="object"==typeof w&&w&&!w.nodeType&&w,r="object"==typeof R&&R&&!R.nodeType&&R,s="object"==typeof M&&M;s.global!==s&&s.window!==s&&s.self!==s||(e=s);var i,n,g=2147483647,_=36,x=26,a=38,o=700,h=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=_-1,v=Math.floor,y=String.fromCharCode;function T(e){throw new RangeError(d[e])}function p(e,t){for(var r=e.length,s=[];r--;)s[r]=t(e[r]);return s}function f(e,t){var r=e.split("@"),s="",r=(1<r.length&&(s=r[0]+"@",e=r[1]),(e=e.replace(u,".")).split("."));return s+p(r,t).join(".")}function b(e){for(var t,r,s=[],i=0,n=e.length;i<n;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<n?56320==(64512&(r=e.charCodeAt(i++)))?s.push(((1023&t)<<10)+(1023&r)+65536):(s.push(t),i--):s.push(t);return s}function m(e){return p(e,function(e){var t="";return 65535<e&&(t+=y((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=y(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,r){var s=0;for(e=r?v(e/o):e>>1,e+=v(e/t);c*x>>1<e;s+=_)e=v(e/c);return v(s+(c+1)*e/(e+a))}function A(e){var t,r,s,i,n,a,o,h=[],l=e.length,u=0,d=128,c=72,p=e.lastIndexOf("-");for(p<0&&(p=0),r=0;r<p;++r)128<=e.charCodeAt(r)&&T("not-basic"),h.push(e.charCodeAt(r));for(s=0<p?p+1:0;s<l;){for(i=u,n=1,a=_;l<=s&&T("invalid-input"),o=e.charCodeAt(s++),(_<=(o=o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:_)||o>v((g-u)/n))&&T("overflow"),u+=o*n,!(o<(o=a<=c?1:c+x<=a?x:a-c));a+=_)n>v(g/(o=_-o))&&T("overflow"),n*=o;c=S(u-i,t=h.length+1,0==i),v(u/t)>g-d&&T("overflow"),d+=v(u/t),u%=t,h.splice(u++,0,d)}return m(h)}function P(e){for(var t,r,s,i,n,a,o,h,l,u,d=[],c=(e=b(e)).length,p=128,f=72,m=t=0;m<c;++m)(o=e[m])<128&&d.push(y(o));for(r=s=d.length,s&&d.push("-");r<c;){for(i=g,m=0;m<c;++m)p<=(o=e[m])&&o<i&&(i=o);for(i-p>v((g-t)/(h=r+1))&&T("overflow"),t+=(i-p)*h,p=i,m=0;m<c;++m)if((o=e[m])<p&&++t>g&&T("overflow"),o==p){for(n=t,a=_;!(n<(l=a<=f?1:f+x<=a?x:a-f));a+=_)d.push(y(E(l+(u=n-l)%(l=_-l),0))),n=v(u/l);d.push(y(E(n,0))),f=S(t,h,r==s),t=0,++r}++t,++p}return d.join("")}if(i={version:"1.4.1",ucs2:{decode:b,encode:m},decode:A,encode:P,toASCII:function(e){return f(e,function(e){return l.test(e)?"xn--"+P(e):e})},toUnicode:function(e){return f(e,function(e){return h.test(e)?A(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return i});else if(t&&r)if(R.exports==t)r.exports=i;else for(n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);else e.punycode=i}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],359:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});function i(e){return"string"==typeof e?0<e.length:"number"==typeof e}function n(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0}function a(e,t,r){return void 0===t&&(t=0),(r=void 0===r?1:r)<e?r:t<e?e:t}function o(e){return 0<(e=isFinite(e)?e%360:0)?e:e+360}function h(e){return{r:a(e.r,0,255),g:a(e.g,0,255),b:a(e.b,0,255),a:a(e.a)}}function l(e){return{r:n(e.r),g:n(e.g),b:n(e.b),a:n(e.a,3)}}function u(e){return(e=e.toString(16)).length<2?"0"+e:e}function d(e){var t=e.r,r=e.g,s=e.b,e=e.a,i=Math.max(t,r,s),n=i-Math.min(t,r,s);return{h:60*((s=n?i===t?(r-s)/n:i===r?2+(s-t)/n:4+(t-r)/n:0)<0?6+s:s),s:i?n/i*100:0,v:i/255*100,a:e}}function c(e){var t=e.h,r=e.s,s=e.v,e=e.a,t=t/360*6,i=(r/=100,s/=100,Math.floor(t)),n=s*(1-r),a=s*(1-(t-i)*r);return{r:255*[s,a,n,n,t=s*(1-(1-t+i)*r),s][r=i%6],g:255*[t,s,s,a,n,n][r],b:255*[n,n,t,s,s,a][r],a:e}}function p(e){return{h:o(e.h),s:a(e.s,0,100),l:a(e.l,0,100),a:a(e.a)}}function f(e){return{h:n(e.h),s:n(e.s),l:n(e.l),a:n(e.a,3)}}function m(e){return c((t=e.s,{h:e.h,s:0<(t*=((r=e.l)<50?r:100-r)/100)?2*t/(r+t)*100:0,v:r+t,a:e.a}));var t,r}function g(e){return{h:(e=d(e)).h,s:0<(s=(200-(t=e.s))*(r=e.v)/100)&&s<200?t*r/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var t,r,s}function s(e){return"string"==typeof e?M(e.trim(),P.string):"object"==typeof e&&null!==e?M(e,P.object):[null,void 0]}function _(e,t){return{h:(e=g(e)).h,s:a(e.s+100*t,0,100),l:e.l,a:e.a}}function x(e){return(299*e.r+587*e.g+114*e.b)/1e3/255}function v(e,t){return{h:(e=g(e)).h,s:e.s,l:a(e.l+100*t,0,100),a:e.a}}var y={grad:.9,turn:360,rad:360/(2*Math.PI)},T=/^#([0-9a-f]{3,8})$/i,b=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,E=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,S=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,A=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,P={string:[[function(e){var t=T.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?n(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?n(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){e=S.exec(e)||A.exec(e);return!e||e[2]!==e[4]||e[4]!==e[6]?null:h({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)})},"rgb"],[function(e){var t,r,e=b.exec(e)||E.exec(e);return e?(r=p({h:(r=e[1],void 0===(t=e[2])&&(t="deg"),Number(r)*(y[t]||1)),s:Number(e[3]),l:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)}),m(r)):null},"hsl"]],object:[[function(e){var t=e.r,r=e.g,s=e.b,e=e.a,e=void 0===e?1:e;return i(t)&&i(r)&&i(s)?h({r:Number(t),g:Number(r),b:Number(s),a:Number(e)}):null},"rgb"],[function(e){var t=e.h,r=e.s,s=e.l,e=e.a,e=void 0===e?1:e;return i(t)&&i(r)&&i(s)?(t=p({h:Number(t),s:Number(r),l:Number(s),a:Number(e)}),m(t)):null},"hsl"],[function(e){var t=e.h,r=e.s,s=e.v,e=e.a,e=void 0===e?1:e;return i(t)&&i(r)&&i(s)?(t={h:Number(t),s:Number(r),v:Number(s),a:Number(e)},r={h:o(t.h),s:a(t.s,0,100),v:a(t.v,0,100),a:a(t.a)},c(r)):null},"hsv"]]},M=function(e,t){for(var r=0;r<t.length;r++){var s=t[r][0](e);if(s)return[s,t[r][1]]}return[null,void 0]},R=(C.prototype.isValid=function(){return null!==this.parsed},C.prototype.brightness=function(){return n(x(this.rgba),2)},C.prototype.isDark=function(){return x(this.rgba)<.5},C.prototype.isLight=function(){return.5<=x(this.rgba)},C.prototype.toHex=function(){return e=(s=l(this.rgba)).r,t=s.g,r=s.b,s=(s=s.a)<1?u(n(255*s)):"","#"+u(e)+u(t)+u(r)+s;var e,t,r,s},C.prototype.toRgb=function(){return l(this.rgba)},C.prototype.toRgbString=function(){return e=(s=l(this.rgba)).r,t=s.g,r=s.b,(s=s.a)<1?"rgba("+e+", "+t+", "+r+", "+s+")":"rgb("+e+", "+t+", "+r+")";var e,t,r,s},C.prototype.toHsl=function(){return f(g(this.rgba))},C.prototype.toHslString=function(){return e=(s=f(g(this.rgba))).h,t=s.s,r=s.l,(s=s.a)<1?"hsla("+e+", "+t+"%, "+r+"%, "+s+")":"hsl("+e+", "+t+"%, "+r+"%)";var e,t,r,s},C.prototype.toHsv=function(){return e=d(this.rgba),{h:n(e.h),s:n(e.s),v:n(e.v),a:n(e.a,3)};var e},C.prototype.invert=function(){return w({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},C.prototype.saturate=function(e){return w(_(this.rgba,e=void 0===e?.1:e))},C.prototype.desaturate=function(e){return w(_(this.rgba,-(e=void 0===e?.1:e)))},C.prototype.grayscale=function(){return w(_(this.rgba,-1))},C.prototype.lighten=function(e){return w(v(this.rgba,e=void 0===e?.1:e))},C.prototype.darken=function(e){return w(v(this.rgba,-(e=void 0===e?.1:e)))},C.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},C.prototype.alpha=function(e){return"number"==typeof e?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):n(this.rgba.a,3);var t},C.prototype.hue=function(e){var t=g(this.rgba);return"number"==typeof e?w({h:e,s:t.s,l:t.l,a:t.a}):n(t.h)},C.prototype.isEqual=function(e){return this.toHex()===w(e).toHex()},C),w=function(e){return e instanceof R?e:new R(e)},j=[];function C(e){this.parsed=s(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}r.Colord=R,r.colord=w,r.extend=function(e){e.forEach(function(e){j.indexOf(e)<0&&(e(R,P),j.push(e))})},r.getFormat=function(e){return s(e)[1]},r.random=function(){return new R({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},{}],360:[function(e,t,r){t.exports=function(l,e){var t,u={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},d={};for(t in u)d[u[t]]=t;var c={};l.prototype.toName=function(e){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var t,r=d[this.toHex()];if(r)return r;if(null!=e&&e.closest){var s,i=this.toRgb(),n=1/0,a="black";if(!c.length)for(var o in u)c[o]=new l(u[o]).toRgb();for(s in u){h=i,t=c[s];var h=Math.pow(h.r-t.r,2)+Math.pow(h.g-t.g,2)+Math.pow(h.b-t.b,2);h<n&&(n=h,a=s)}return a}},e.string.push([function(e){e=e.toLowerCase(),e="transparent"===e?"#0000":u[e];return e?new l(e).toRgb():null},"name"])}},{}],361:[function(e,t,r){"use strict";function s(e,t,r){r=r||2;var s,i,n,a,o,h=t&&t.length,l=h?t[0]*r:e.length,u=m(e,0,l,r,!0),d=[];if(u&&u.next!==u.prev){if(h&&(u=function(e,t,r,s){var i,n,a,o,h=[];for(i=0,n=t.length;i<n;i++)o=t[i]*s,a=i<n-1?t[i+1]*s:e.length,(o=m(e,o,a,s,!1))===o.next&&(o.steiner=!0),h.push(function(e){var t=e,r=e;for(;(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next,t!==e;);return r}(o));for(h.sort(g),i=0;i<h.length;i++)r=function(e,t){var r=function(e,t){var r,s=t,i=e.x,n=e.y,a=-1/0;do{if(n<=s.y&&n>=s.next.y&&s.next.y!==s.y){var o=s.x+(n-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(o<=i&&a<o&&(a=o,r=s.x<s.next.x?s:s.next,o===i))return r}}while(s=s.next,s!==t);if(!r)return null;var h,l=r,u=r.x,d=r.y,c=1/0;s=r;for(;i>=s.x&&s.x>=u&&i!==s.x&&R(n<d?i:a,n,u,d,n<d?a:i,n,s.x,s.y)&&(h=Math.abs(n-s.y)/(i-s.x),O(s,e))&&(h<c||h===c&&(s.x>r.x||s.x===r.x&&function(e,t){return w(e.prev,e,t.prev)<0&&w(t.next,e,e.next)<0}(r,s)))&&(r=s,c=h),s=s.next,s!==l;);return r}(e,t);return r?(A(e=I(r,e),e.next),A(r,r.next)):t}(h[i],r);return r}(e,t,u,r)),e.length>80*r){for(var c=s=e[0],p=i=e[1],f=r;f<l;f+=r)(n=e[f])<c&&(c=n),(a=e[f+1])<p&&(p=a),s<n&&(s=n),i<a&&(i=a);o=0!==(o=Math.max(s-c,i-p))?32767/o:0}P(u,d,r,c,p,o,0)}return d}function m(e,t,r,s,i){var n,a;if(i===0<_(e,t,r,s))for(n=t;n<r;n+=s)a=o(n,e[n],e[n+1],a);else for(n=r-s;t<=n;n-=s)a=o(n,e[n],e[n+1],a);return a&&j(a,a.next)&&(B(a),a=a.next),a}function A(e,t){if(!e)return e;t=t||e;var r,s=e;do{if(r=!1,s.steiner||!j(s,s.next)&&0!==w(s.prev,s,s.next))s=s.next;else{if(B(s),(s=t=s.prev)===s.next)break;r=!0}}while(r||s!==t);return t}function P(e,t,r,s,i,n,a){if(e){if(!a&&n){for(var o=e,h=s,l=i,u=n,d=o;0===d.z&&(d.z=M(d.x,d.y,h,l,u)),d.prevZ=d.prev,d.nextZ=d.next,(d=d.next)!==o;);d.prevZ.nextZ=null,d.prevZ=null;var c,p,f,m,g,_,x,v,y=d,T=1;do{for(p=y,g=y=null,_=0;p;){for(_++,f=p,c=x=0;c<T&&(x++,f=f.nextZ);c++);for(v=T;0<x||0<v&&f;)0!==x&&(0===v||!f||p.z<=f.z)?(p=(m=p).nextZ,x--):(f=(m=f).nextZ,v--),g?g.nextZ=m:y=m,m.prevZ=g,g=m;p=f}}while(g.nextZ=null,T*=2,1<_)}for(var b,E,S=e;e.prev!==e.next;)if(b=e.prev,E=e.next,n?function(e,t,r,s){var i=e.prev,n=e,a=e.next;if(0<=w(i,n,a))return;var o=i.x,h=n.x,l=a.x,u=i.y,d=n.y,c=a.y,p=o<h?o<l?o:l:h<l?h:l,f=u<d?u<c?u:c:d<c?d:c,m=h<o?l<o?o:l:l<h?h:l,g=d<u?c<u?u:c:c<d?d:c,_=M(p,f,t,r,s),x=M(m,g,t,r,s),v=e.prevZ,y=e.nextZ;for(;v&&v.z>=_&&y&&y.z<=x;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==i&&v!==a&&R(o,u,h,d,l,c,v.x,v.y)&&0<=w(v.prev,v,v.next))return;if(v=v.prevZ,y.x>=p&&y.x<=m&&y.y>=f&&y.y<=g&&y!==i&&y!==a&&R(o,u,h,d,l,c,y.x,y.y)&&0<=w(y.prev,y,y.next))return;y=y.nextZ}for(;v&&v.z>=_;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==i&&v!==a&&R(o,u,h,d,l,c,v.x,v.y)&&0<=w(v.prev,v,v.next))return;v=v.prevZ}for(;y&&y.z<=x;){if(y.x>=p&&y.x<=m&&y.y>=f&&y.y<=g&&y!==i&&y!==a&&R(o,u,h,d,l,c,y.x,y.y)&&0<=w(y.prev,y,y.next))return;y=y.nextZ}return 1}(e,s,i,n):function(e){var t=e.prev,r=e,e=e.next;if(0<=w(t,r,e))return;var s=t.x,i=r.x,n=e.x,a=t.y,o=r.y,h=e.y,l=s<i?s<n?s:n:i<n?i:n,u=a<o?a<h?a:h:o<h?o:h,d=i<s?n<s?s:n:n<i?i:n,c=o<a?h<a?a:h:h<o?o:h,p=e.next;for(;p!==t;){if(p.x>=l&&p.x<=d&&p.y>=u&&p.y<=c&&R(s,a,i,o,n,h,p.x,p.y)&&0<=w(p.prev,p,p.next))return;p=p.next}return 1}(e))t.push(b.i/r|0),t.push(e.i/r|0),t.push(E.i/r|0),B(e),e=E.next,S=E.next;else if((e=E)===S){a?1===a?P(e=function(e,t,r){var s=e;do{var i=s.prev,n=s.next.next}while(!j(i,n)&&C(i,s,s.next,n)&&O(i,n)&&O(n,i)&&(t.push(i.i/r|0),t.push(s.i/r|0),t.push(n.i/r|0),B(s),B(s.next),s=e=n),s=s.next,s!==e);return A(s)}(A(e),t,r),t,r,s,i,n,2):2===a&&function(e,t,r,s,i,n){var a=e;do{for(var o,h=a.next.next;h!==a.prev;){if(a.i!==h.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&C(r,r.next,e,t))return 1}while(r=r.next,r!==e);return}(e,t)&&(O(e,t)&&O(t,e)&&function(e,t){var r=e,s=!1,i=(e.x+t.x)/2,n=(e.y+t.y)/2;for(;r.y>n!=r.next.y>n&&r.next.y!==r.y&&i<(r.next.x-r.x)*(n-r.y)/(r.next.y-r.y)+r.x&&(s=!s),r=r.next,r!==e;);return s}(e,t)&&(w(e.prev,e,t.prev)||w(e,t.prev,t))||j(e,t)&&0<w(e.prev,e,e.next)&&0<w(t.prev,t,t.next))}(a,h))return o=I(a,h),a=A(a,a.next),o=A(o,o.next),P(a,t,r,s,i,n,0),P(o,t,r,s,i,n,0);h=h.next}}while(a=a.next,a!==e)}(e,t,r,s,i,n):P(A(e),t,r,s,i,n,1);break}}}function g(e,t){return e.x-t.x}function M(e,t,r,s,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-s)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function R(e,t,r,s,i,n,a,o){return(e-a)*(n-o)<=(i-a)*(t-o)&&(r-a)*(t-o)<=(e-a)*(s-o)&&(i-a)*(s-o)<=(r-a)*(n-o)}function w(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function j(e,t){return e.x===t.x&&e.y===t.y}function C(e,t,r,s){var i=l(w(e,t,r)),n=l(w(e,t,s)),a=l(w(r,s,e)),o=l(w(r,s,t));return i!==n&&a!==o||0===i&&h(e,r,t)||0===n&&h(e,s,t)||0===a&&h(r,e,s)||!(0!==o||!h(r,t,s))}function h(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function l(e){return 0<e?1:e<0?-1:0}function O(e,t){return w(e.prev,e,e.next)<0?0<=w(e,t,e.next)&&0<=w(e,e.prev,t):w(e,t,e.prev)<0||w(e,e.next,t)<0}function I(e,t){var r=new a(e.i,e.x,e.y),s=new a(t.i,t.x,t.y),i=e.next,n=t.prev;return(e.next=t).prev=e,(r.next=i).prev=r,(s.next=r).prev=s,(n.next=s).prev=n,s}function o(e,t,r,s){e=new a(e,t,r);return s?(e.next=s.next,(e.prev=s).next.prev=e,s.next=e):(e.prev=e).next=e,e}function B(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function a(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _(e,t,r,s){for(var i=0,n=t,a=r-s;n<r;n+=s)i+=(e[a]-e[n])*(e[n+1]+e[a+1]),a=n;return i}t.exports=s,(t.exports.default=s).deviation=function(e,t,r,s){var i=t&&t.length,n=i?t[0]*r:e.length,a=Math.abs(_(e,0,n,r));if(i)for(var o=0,h=t.length;o<h;o++){var l=t[o]*r,u=o<h-1?t[o+1]*r:e.length;a-=Math.abs(_(e,l,u,r))}for(var d=0,o=0;o<s.length;o+=3){var c=s[o]*r,p=s[o+1]*r,f=s[o+2]*r;d+=Math.abs((e[c]-e[f])*(e[1+p]-e[1+c])-(e[c]-e[p])*(e[1+f]-e[1+c]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},s.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},s=0,i=0;i<e.length;i++){for(var n=0;n<e[i].length;n++)for(var a=0;a<t;a++)r.vertices.push(e[i][n][a]);0<i&&(s+=e[i-1].length,r.holes.push(s))}return r}},{}],362:[function(e,t,r){"use strict";var s=Object.prototype.hasOwnProperty,p="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,r,s,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");r=new n(r,s||e,i),s=p?p+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],r]:e._events[s].push(r):(e._events[s]=r,e._eventsCount++),e}function h(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function o(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(p=!1)),o.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)s.call(e,t)&&r.push(p?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e){var e=p?p+e:e,t=this._events[e];if(!t)return[];if(t.fn)return[t.fn];for(var r=0,s=t.length,i=new Array(s);r<s;r++)i[r]=t[r].fn;return i},o.prototype.listenerCount=function(e){e=p?p+e:e,e=this._events[e];return e?e.fn?1:e.length:0},o.prototype.emit=function(e,t,r,s,i,n){var a=p?p+e:e;if(!this._events[a])return!1;var o,h=this._events[a],l=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,r),!0;case 4:return h.fn.call(h.context,t,r,s),!0;case 5:return h.fn.call(h.context,t,r,s,i),!0;case 6:return h.fn.call(h.context,t,r,s,i,n),!0}for(c=1,o=new Array(l-1);c<l;c++)o[c-1]=arguments[c];h.fn.apply(h.context,o)}else for(var u,d=h.length,c=0;c<d;c++)switch(h[c].once&&this.removeListener(e,h[c].fn,void 0,!0),l){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,t);break;case 3:h[c].fn.call(h[c].context,t,r);break;case 4:h[c].fn.call(h[c].context,t,r,s);break;default:if(!o)for(u=1,o=new Array(l-1);u<l;u++)o[u-1]=arguments[u];h[c].fn.apply(h[c].context,o)}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,r,s){e=p?p+e:e;if(this._events[e])if(t){var i=this._events[e];if(i.fn)i.fn!==t||s&&!i.once||r&&i.context!==r||h(this,e);else{for(var n=0,a=[],o=i.length;n<o;n++)(i[n].fn!==t||s&&!i[n].once||r&&i[n].context!==r)&&a.push(i[n]);a.length?this._events[e]=1===a.length?a[0]:a:h(this,e)}}else h(this,e);return this},o.prototype.removeAllListeners=function(e){return e?(e=p?p+e:e,this._events[e]&&h(this,e)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=p,o.EventEmitter=o,void 0!==t&&(t.exports=o)},{}],363:[function(e,t,r){"use strict";r.__esModule=!0;var s,i=e("./isMobile");for(s in i)r.hasOwnProperty(s)||(r[s]=i[s]);e=e("./isMobile");r.default=e.default},{"./isMobile":364}],364:[function(e,t,r){"use strict";r.__esModule=!0;function i(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&1<e.maxTouchPoints&&"undefined"==typeof MSStream}var n=/iPhone/i,a=/iPod/i,o=/iPad/i,h=/\biOS-universal(?:.+)Mac\b/i,l=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,d=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,p=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,g=/BB10/i,_=/Opera Mini/i,x=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i;r.default=function(e){var t,r={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?r.userAgent=e:e&&e.userAgent&&(r={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var s=(e=r.userAgent).split("[FBAN");return void 0!==(s=(e=void 0!==s[1]?s[0]:e).split("Twitter"))[1]&&(e=s[0]),t=e,(e={apple:{phone:(s=function(e){return e.test(t)})(n)&&!s(p),ipod:s(a),tablet:!s(n)&&(s(o)||i(r))&&!s(p),universal:s(h),device:(s(n)||s(a)||s(o)||s(h)||i(r))&&!s(p)},amazon:{phone:s(d),tablet:!s(d)&&s(c),device:s(d)||s(c)},android:{phone:!s(p)&&s(d)||!s(p)&&s(l),tablet:!s(p)&&!s(d)&&!s(l)&&(s(c)||s(u)),device:!s(p)&&(s(d)||s(c)||s(l)||s(u))||s(/\bokhttp\b/i)},windows:{phone:s(p),tablet:s(f),device:s(p)||s(f)},other:{blackberry:s(m),blackberry10:s(g),opera:s(_),firefox:s(v),chrome:s(x),device:s(m)||s(g)||s(_)||s(v)||s(x)},any:!1,phone:!1,tablet:!1}).any=e.apple.device||e.android.device||e.windows.device||e.other.device,e.phone=e.apple.phone||e.android.phone||e.windows.phone,e.tablet=e.apple.tablet||e.android.tablet||e.windows.tablet,e}},{}],365:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("@pixi/core"),i=e("@pixi/filter-alpha"),n=e("@pixi/filter-blur"),a=e("@pixi/filter-color-matrix"),o=e("@pixi/filter-displacement"),h=e("@pixi/filter-fxaa"),e=e("@pixi/filter-noise");const l={AlphaFilter:i.AlphaFilter,BlurFilter:n.BlurFilter,BlurFilterPass:n.BlurFilterPass,ColorMatrixFilter:a.ColorMatrixFilter,DisplacementFilter:o.DisplacementFilter,FXAAFilter:h.FXAAFilter,NoiseFilter:e.NoiseFilter};Object.entries(l).forEach(([e,t])=>{Object.defineProperty(l,e,{get(){return s.utils.deprecation("7.1.0",`filters.${e} has moved to `+e),t}})}),r.filters=l},{"@pixi/core":104,"@pixi/filter-alpha":197,"@pixi/filter-blur":202,"@pixi/filter-color-matrix":205,"@pixi/filter-displacement":209,"@pixi/filter-fxaa":213,"@pixi/filter-noise":215}],366:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("@pixi/mixin-cache-as-bitmap"),e("@pixi/mixin-get-child-by-name"),e("@pixi/mixin-get-global-position");var s=e("./filters.js"),i=e("@pixi/accessibility"),n=e("@pixi/app"),a=e("@pixi/assets"),o=e("@pixi/compressed-textures"),h=e("@pixi/core"),l=e("@pixi/display"),u=e("@pixi/events"),d=e("@pixi/extract"),c=e("@pixi/filter-alpha"),p=e("@pixi/filter-blur"),f=e("@pixi/filter-color-matrix"),m=e("@pixi/filter-displacement"),g=e("@pixi/filter-fxaa"),_=e("@pixi/filter-noise"),x=e("@pixi/graphics"),v=e("@pixi/mesh"),y=e("@pixi/mesh-extras"),T=e("@pixi/particle-container"),b=e("@pixi/prepare"),E=e("@pixi/sprite"),S=e("@pixi/sprite-animated"),A=e("@pixi/sprite-tiling"),P=e("@pixi/spritesheet"),M=e("@pixi/text"),R=e("@pixi/text-bitmap"),w=e("@pixi/text-html");r.filters=s.filters,Object.keys(i).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})}),Object.keys(n).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}})}),Object.keys(a).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}})}),Object.keys(o).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}})}),Object.keys(h).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return h[e]}})}),Object.keys(l).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return l[e]}})}),Object.keys(u).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}})}),Object.keys(d).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return d[e]}})}),Object.keys(c).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return c[e]}})}),Object.keys(p).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return p[e]}})}),Object.keys(f).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return f[e]}})}),Object.keys(m).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return m[e]}})}),Object.keys(g).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return g[e]}})}),Object.keys(_).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return _[e]}})}),Object.keys(x).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return x[e]}})}),Object.keys(v).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return v[e]}})}),Object.keys(y).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return y[e]}})}),Object.keys(T).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return T[e]}})}),Object.keys(b).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return b[e]}})}),Object.keys(E).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return E[e]}})}),Object.keys(S).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return S[e]}})}),Object.keys(A).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return A[e]}})}),Object.keys(P).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return P[e]}})}),Object.keys(M).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return M[e]}})}),Object.keys(R).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return R[e]}})}),Object.keys(w).forEach(function(e){"default"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return w[e]}})})},{"./filters.js":365,"@pixi/accessibility":3,"@pixi/app":6,"@pixi/assets":20,"@pixi/compressed-textures":50,"@pixi/core":104,"@pixi/display":180,"@pixi/events":191,"@pixi/extract":194,"@pixi/filter-alpha":197,"@pixi/filter-blur":202,"@pixi/filter-color-matrix":205,"@pixi/filter-displacement":209,"@pixi/filter-fxaa":213,"@pixi/filter-noise":215,"@pixi/graphics":221,"@pixi/mesh":259,"@pixi/mesh-extras":254,"@pixi/mixin-cache-as-bitmap":262,"@pixi/mixin-get-child-by-name":263,"@pixi/mixin-get-global-position":264,"@pixi/particle-container":268,"@pixi/prepare":275,"@pixi/sprite":296,"@pixi/sprite-animated":286,"@pixi/sprite-tiling":289,"@pixi/spritesheet":298,"@pixi/text":325,"@pixi/text-bitmap":308,"@pixi/text-html":320}],367:[function(e,t,r){"use strict";t.exports=function(e,t,r,s){t=t||"&",r=r||"=";var i={};if("string"==typeof e&&0!==e.length){var n=/\+/g,t=(e=e.split(t),1e3),a=(s&&"number"==typeof s.maxKeys&&(t=s.maxKeys),e.length);0<t&&t<a&&(a=t);for(var o=0;o<a;++o){var h,l=e[o].replace(n,"%20"),u=l.indexOf(r),u=0<=u?(h=l.substr(0,u),l.substr(u+1)):(h=l,""),l=decodeURIComponent(h),u=decodeURIComponent(u);Object.prototype.hasOwnProperty.call(i,l)?d(i[l])?i[l].push(u):i[l]=[i[l],u]:i[l]=u}}return i};var d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],368:[function(e,t,r){"use strict";function n(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(r,s,i,e){return s=s||"&",i=i||"=","object"==typeof(r=null===r?void 0:r)?o(h(r),function(e){var t=encodeURIComponent(n(e))+i;return a(r[e])?o(r[e],function(e){return t+encodeURIComponent(n(e))}).join(s):t+encodeURIComponent(n(r[e]))}).join(s):e?encodeURIComponent(n(e))+i+encodeURIComponent(n(r)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],s=0;s<e.length;s++)r.push(t(e[s],s));return r}var h=Object.keys||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}},{}],369:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":367,"./encode":368}],370:[function(e,t,r){"use strict";var E=e("punycode"),S=e("./util");function T(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=i,r.resolve=function(e,t){return i(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?i(e,!1,!0).resolveObject(t):t},r.format=function(e){S.isString(e)&&(e=i(e));return e instanceof T?e.format():T.prototype.format.call(e)},r.Url=T;var A=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,P=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),M=["'"].concat(r),R=["%","/","?",";","#"].concat(M),w=["/","?","#"],j=/^[+a-z0-9A-Z_-]{0,63}$/,C=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,O={javascript:!0,"javascript:":!0},I={javascript:!0,"javascript:":!0},B={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},D=e("querystring");function i(e,t,r){var s;return e&&S.isObject(e)&&e instanceof T?e:((s=new T).parse(e,t,r),s)}T.prototype.parse=function(e,t,r){if(!S.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),s=-1!==s&&s<e.indexOf("#")?"?":"#",i=e.split(s);i[0]=i[0].replace(/\\/g,"/");var n=(n=e=i.join(s)).trim();if(!r&&1===e.split("#").length){i=P.exec(n);if(i)return this.path=n,this.href=n,this.pathname=i[1],i[2]?(this.search=i[2],this.query=t?D.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var a,s=A.exec(n);if(s&&(a=(s=s[0]).toLowerCase(),this.protocol=a,n=n.substr(s.length)),!(r||s||n.match(/^\/\/[^@\/]+@[^@\/]+/))||!(y="//"===n.substr(0,2))||s&&I[s]||(n=n.substr(2),this.slashes=!0),!I[s]&&(y||s&&!B[s])){for(var o=-1,h=0;h<w.length;h++)-1!==(l=n.indexOf(w[h]))&&(-1===o||l<o)&&(o=l);-1!==(e=-1===o?n.lastIndexOf("@"):n.lastIndexOf("@",o))&&(i=n.slice(0,e),n=n.slice(e+1),this.auth=decodeURIComponent(i));for(var l,o=-1,h=0;h<R.length;h++)-1!==(l=n.indexOf(R[h]))&&(-1===o||l<o)&&(o=l);-1===o&&(o=n.length),this.host=n.slice(0,o),n=n.slice(o),this.parseHost(),this.hostname=this.hostname||"";r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r)for(var u=this.hostname.split(/\./),h=0,d=u.length;h<d;h++){var c=u[h];if(c&&!c.match(j)){for(var p="",f=0,m=c.length;f<m;f++)127<c.charCodeAt(f)?p+="x":p+=c[f];if(!p.match(j)){var g=u.slice(0,h),_=u.slice(h+1),x=c.match(C);x&&(g.push(x[1]),_.unshift(x[2])),_.length&&(n="/"+_.join(".")+n),this.hostname=g.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),r||(this.hostname=E.toASCII(this.hostname));var v=this.port?":"+this.port:"",y=this.hostname||"";this.host=y+v,this.href+=this.host,r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0])&&(n="/"+n)}if(!O[a])for(h=0,d=M.length;h<d;h++){var T,b=M[h];-1!==n.indexOf(b)&&((T=encodeURIComponent(b))===b&&(T=escape(b)),n=n.split(b).join(T))}s=n.indexOf("#"),-1!==s&&(this.hash=n.substr(s),n=n.slice(0,s)),e=n.indexOf("?");return-1!==e?(this.search=n.substr(e),this.query=n.substr(e+1),t&&(this.query=D.parse(this.query)),n=n.slice(0,e)):t&&(this.search="",this.query={}),n&&(this.pathname=n),B[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(v=this.pathname||"",i=this.search||"",this.path=v+i),this.href=this.format(),this},T.prototype.format=function(){var e=this.auth||"",t=(e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@"),this.protocol||""),r=this.pathname||"",s=this.hash||"",i=!1,n="",e=(this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port)&&(i+=":"+this.port),this.query&&S.isObject(this.query)&&Object.keys(this.query).length&&(n=D.stringify(this.query)),this.search||n&&"?"+n||"");return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||B[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i=i||"",s&&"#"!==s.charAt(0)&&(s="#"+s),e&&"?"!==e.charAt(0)&&(e="?"+e),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(e=e.replace("#","%23"))+s},T.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},T.prototype.resolveObject=function(e){S.isString(e)&&((c=new T).parse(e,!1,!0),e=c);for(var t=new T,r=Object.keys(this),s=0;s<r.length;s++){var i=r[s];t[i]=this[i]}if(t.hash=e.hash,""!==e.href)if(e.slashes&&!e.protocol){for(var n=Object.keys(e),a=0;a<n.length;a++){var o=n[a];"protocol"!==o&&(t[o]=e[o])}B[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/")}else if(e.protocol&&e.protocol!==t.protocol)if(B[e.protocol]){if(t.protocol=e.protocol,e.host||I[e.protocol])t.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),t.pathname=h.join("/")}t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(c=t.pathname||"",p=t.search||"",t.path=c+p),t.slashes=t.slashes||e.slashes}else for(var l=Object.keys(e),u=0;u<l.length;u++){var d=l[u];t[d]=e[d]}else{var c=t.pathname&&"/"===t.pathname.charAt(0),p=e.host||e.pathname&&"/"===e.pathname.charAt(0),c=p||c||t.host&&e.pathname,f=c,m=t.pathname&&t.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],g=t.protocol&&!B[t.protocol];if(g&&(t.hostname="",t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),c=c&&(""===h[0]||""===m[0])),p)t.host=(e.host||""===e.host?e:t).host,t.hostname=(e.hostname||""===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,m=h;else if(h.length)(m=m||[]).pop(),m=m.concat(h),t.search=e.search,t.query=e.query;else if(!S.isNullOrUndefined(e.search))return g&&(t.hostname=t.host=m.shift(),y=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=y.shift(),t.host=t.hostname=y.shift()),t.search=e.search,t.query=e.query,S.isNull(t.pathname)&&S.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.href=t.format(),t;if(m.length){for(var _=m.slice(-1)[0],p=(t.host||e.host||1<m.length)&&("."===_||".."===_)||""===_,x=0,v=m.length;0<=v;v--)"."===(_=m[v])?m.splice(v,1):".."===_?(m.splice(v,1),x++):x&&(m.splice(v,1),x--);if(!c&&!f)for(;x--;)m.unshift("..");!c||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),p&&"/"!==m.join("/").substr(-1)&&m.push("");var y,f=""===m[0]||m[0]&&"/"===m[0].charAt(0);g&&(t.hostname=t.host=!f&&m.length?m.shift():"",y=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=y.shift(),t.host=t.hostname=y.shift()),(c=c||t.host&&m.length)&&!f&&m.unshift(""),m.length?t.pathname=m.join("/"):(t.pathname=null,t.path=null),S.isNull(t.pathname)&&S.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes}else t.pathname=null,t.search?t.path="/"+t.search:t.path=null}return t.href=t.format(),t},T.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":371,punycode:358,querystring:369}],371:[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],372:[function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};t=o(t);if(t&&t.has(e))return t.get(e);var r,s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var n;"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(s,r,n):s[r]=e[r])}s.default=e,t&&t.set(e,s);return s}(e("pixi.js"));function o(e){var t,r;return"function"!=typeof WeakMap?null:(t=new WeakMap,r=new WeakMap,(o=function(e){return e?r:t})(e))}var s=new e.Application({background:"#1099bb"}),e=(document.body.appendChild(s.view),e.Sprite.from("./assets/sunset.png"));e.anchor.set(.5),e.x=s.screen.width/2,e.y=s.screen.height/2,s.stage.addChild(e)},{"pixi.js":366}]},{},[372]);
//# sourceMappingURL=maps/bundle.js.map
